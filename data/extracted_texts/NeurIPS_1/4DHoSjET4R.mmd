# Efficiency of the First-Price Auction in the Autobidding World

Yuan Deng

Google Research

dengyuan@google.com

&Jieming Mao

Google Research

maojm@google.com

&Vahab Mirrokni

Google Research

mirrokni@google.com

&Hanrui Zhang

Chinese University of Hong Kong

hanrui@cse.cuhk.edu.hk

&Song Zuo

Google Research

szuo@google.com

###### Abstract

We study the price of anarchy of first-price auctions in the autobidding world, where bidders can be either utility maximizers (i.e., traditional bidders) or value maximizers (i.e., autobidders). We show that with autobidders only, the price of anarchy of first-price auctions is \(1/2\), and with both kinds of bidders, the price of anarchy degrades to about \(0.457\) (the precise number is given by an optimization). These results complement the recent result by Jin and Lu (2022) showing that the price of anarchy of first-price auctions with traditional bidders is \(1-1/e^{2}\). We further investigate a setting where the seller can utilize machine-learned advice to improve the efficiency of the auctions. There, we show that as the accuracy of the advice increases, the price of anarchy improves smoothly from about \(0.457\) to \(1\).

## 1 Introduction

Autobidding, the procedure of delegating the bidding tasks to automated agents to procure advertisement opportunities in online ad auctions, is becoming the prevalent bidding methods and contributing to more than 80% of total online advertising traffic (Dolan, 2020). Autobidding significantly simplifies the interaction between the advertisers and the ad platform: instead of submitting bids for each auction separately, the advertisers only need to specify their high-level objectives and constraints and the automated agents bid on behalf of the advertisers. A popular autobidding strategy is value maximization subject to a target return-on-investment (ROI) constraint, in which the autobidding agents aim to maximize their value, such as the number of clicks/conversions, subject to a minimum admissible ratio on the return-on-investment constraint. This type of bidders has been referred as _value maximizers_ by the recent line of research on autobidding (Deng et al., 2021, Balseiro et al., 2021a).

As the behavior model of automated bidders is very different from the classic (quasi-linear) _utility maximizers_ maximizing the difference between value and payment, there has been a growing body of literature revisiting the effectiveness of the existing mechanisms through the lens of the autobidding world (Aggarwal et al., 2019, Deng et al., 2021, Balseiro et al., 2021a, Liaw et al., 2022, Babaioff et al., 2021). In particular, it is well-known that running the second-price auction against utility maximizers results in socially optimal outcomes; however, Aggarwal et al. (2019) show that the price of anarchy (PoA) (Koutsoupias and Papadimitriou, 1999), the ratio between the worst welfarein equilibrium and the socially optimal welfare, of running the second-price auction against value maximizers is \(1/2\) (when the bidders do not adopt dominated strategies1).

In addition to the change in bidding methods, there has been an industry-wide change in auction formats in recent years: shifting from the second-price auction to the first-price auction, especially in the display ad markets, culminating in the move to the first-price auction from the Google Ad Exchange in September 2019 (Paes Leme et al., 2020). The shift towards the first-price auction in combination with the increasing adoption of autobidding raises the question of understanding _the PoA of running the first-price auction in the autobidding world_.

### Our Results

In this paper, we characterize the PoA of running the first-price auction in the fully autobidding world, where all bidders are value maximizers, and in the mixed autobidding world, where bidders could be either value maximizers or utility maximizers. Our results complement the very recent result from Jin and Lu (2022) showing that the PoA of running the first-price auction is \(1-1/e^{2}\) in a world without autobidding, i.e., all bidders are utility maximizers. The results are summarized in Table 1 and we also include the known results for second-price auctions for comparison.

Our results demonstrate that in a full autobidding world, the PoA of running the second-price auction and the first-price auction is the same, i.e, \(1/2\); however, in the mixed autobidding world with both utility maximizers and value maximizers, the PoA of running the first-price auction is strictly less than the PoA of running the second-price auction. It is worth highlighting that our PoA bound for the first-price auction in the mixed autobidding world involves solving an optimization problem \(_{t}\) and it turns out that this is the right bound as we are able to construct an instance matching this bound.

In addition to the above results, we further adopt the environment introduced by Balseiro et al. (2021), where the seller can leverage machine-learned advice that approximates the buyers' values for designing mechanisms. Balseiro et al. (2021) show that as the advice gets more and more accurate in predicting the buyers' values, setting reserves based on the advice in the second-price auction makes the PoA approaching \(1\). In our setting of using machine-learned advice in the first-price auction, we prove that setting reserves based on machine-learned advice is also effective in improving PoA in both full and mixed autobidding world, and the PoA approaches \(1\) as the quality of the machine-learned advice increases.

### Related Works

For first-price auction with utility maximizers, the price of anarchy has been extensively studied (Roughgarden et al., 2017). In the complete-information setting with additive values, there is no efficiency loss, i.e., the price of anarchy is \(1\)(Feldman et al., 2016). For Bayesian settings, Feldman et al. (2013) first showed that the price of anarchy is at least \(1/2\) for subadditive valuations and Syrgkanis and Tardos (2013) showed that the price of anarchy is at least \(1-1/e\) for submodular valuations. These bound are shown to be tight for buyers with submodular valuations and subadditive valuations (Christodoulou et al., 2016). When agents' values are independently distributed, the price of anarchy was later improved to \( 0.743\) by Hoy et al. (2018) and Hartline et al. (2014) gave a concrete instance to establish an upper bound of \( 0.869\). More recently, Jin and Lu (2022) show that

  Mechanism & First-price auction & Second-price auction \\   Full autobidding & \(1/2\) & \(1/2\)(Aggarwal et al., 2019) \\  Mixed autobidding & \(_{t} 0.457\) & \(1/2\)(Balseiro et al., 2021) \\  No autobidding & \(1-1/e^{2} 0.865\)(Jin and Lu, 2022) & \(1\)(Vickrey, 1961) \\  

Table 1: Summary of PoAs in second-price and first-price auctions under full autobidding, mixed autobidding, and no autobidding environments. We note that for the second-price auction, bidders are assumed to not adopt dominated strategies; otherwise the PoA can be \(0\).

the price of anarchy for independently distributed values is exactly \(1-1/e^{2}\). Paes Leme et al. (2020) provide models and analyses to explain why Display Ads market shifts to use first-price auctions.

Motivated by the emergence of autobidding in online advertising, there is a recent line of work studying auction design for value maximizers in an autobidding world. Aggarwal et al. (2019) design optimal bidding strategies in truthful auctions, show the existence of equilibrium, and prove welfare price of anarchy results. Deng et al. (2021) and Balseiro et al. (2021) show how boosts and reserves can be used to improve the welfare efficiency guarantees given machine-learned advice approximating buyers' values. Balseiro et al. (2021, 2022) give the characterization of the revenue-optimal auctions under various information structure. Mehta (2022) and Liaw et al. (2022) study how randomized and non-truthful mechanisms can help improve welfare efficiency for the case of two bidders. In particular, Liaw et al. (2022) show that the PoA of running the first-price auction is \(1/2\) when restricting to equilibria of deterministic bids. In this work, we consider general equilibria with randomized bidding strategies. Deng et al. (2021) study the efficiency, as measured by the price of anarchy, of the generalized second-price auction in the autobidding world, and give a parametrized bound. Liaw et al. (2022) consider a setting with value maximizers only, which is similar to our "full autobidding" setting. The main difference is that they focus on the effects of budget constraints on top of ROI / ROS constraints. The high-level message there is that using the fractional optimum as the benchmark, first-price auctions become much less efficient with budget constraints, but this efficiency loss can be circumvented if we consider the (weaker) integral optimum as the benchmark. Gaitonde et al. (2023) take a somewhat different perspective, and give a bidding dynamics that does not necessarily converge, but on average achieves good welfare. Conitzer et al. (2022) study "pacing" in first-price auctions, where constrained bidders optimize their bids in multiple auctions by choosing a single multiplier, and bidding the product of this multiplier and their value in each auction. In contrast, we do not restrict the strategy space of bidders in this paper. Feng et al. (2024) study a meta-game in the context of autobidding, where human bidders strategically specify their constraints (e.g., the target ROI). They show that such strategic selection does not hurt the welfare too much in first-price auctions. For a more comprehensive overview, see, e.g. (Aggarwal et al., 2024).

## 2 Preliminaries

Ad auctions.Following prior work on autobidding, we consider a setting with \(n\) bidders \([n]\) and \(m\) auctions \([m]\), where each bidder participates in all auctions simultaneously. We generally use \(i\) to index bidders, and \(j\) to index auctions. Each bidder \(i\) has a value \(v_{i,j} 0\) for winning in each auction \(j\). We consider first-price auctions -- arguably the most common and well-known auction format -- as the auction mechanism throughout the paper. That is, each bidder \(i\) submits a bid \(b_{i,j}\) in each auction \(j\). In each auction \(j\), the bidder with the highest bid wins and is charged the winning bid as the payment. For the existence of equilibrium in the first-price auction, we assume ties are broken in favor of the bidder with the higher value within an auction, which is a standard assumption in the literature (Maskin and Riley, 2000).2 If multiple bidders have the same value, then ties are broken in favor of the bidder with the smallest index.3 We let \(x_{i,j}=x_{i,j}(\{b_{i^{},j}\}_{i^{}})\) be the indicator variable indicating that \(i\) wins in auction \(j\). Then, the value each bidder \(i\) receives in auction \(j\) is \(_{i,j}=_{i,j}(\{b_{i^{},j}\}_{i^{}})=x_{i,j }(\{b_{i^{},j}\}_{i^{}}) v_{i,j}\), and the payment \(i\) makes in auction \(j\) is \(p_{i,j}=p_{i,j}(\{b_{i^{},j}\}_{i^{}})^{}=x_{i,j}(\{b_{i^{ },j}\}_{i^{}}) b_{i,j}\). We remark that bidders may employ randomized bidding strategies, in which case \(\{b_{i,j}\}\), \(\{x_{i,j}\}\), \(\{_{i,j}\}\) and \(\{p_{i,j}\}\) are all random variables. Throughout the paper, we omit the dependence of \(x_{i,j}\), \(_{i,j}\) and \(p_{i,j}\) on \(\{b_{i^{},j}\}_{i^{}}\) whenever it is clear from the context. For brevity, we write \(_{i}=\{v_{i,j}\}_{j}\), \(_{i}=\{b_{i,j}\}_{j}\), etc.

Utility maximizers and value maximizers.We consider two types of bidders: traditional (quasi-linear) utility maximizers and (ROI-constrained) value maximizers. In the rest of the paper, we use \(B_{u}\) to denote the set of utility maximizers and \(B_{v}\) the set of value maximizers, where we always have \(B_{u} B_{v}=\) and \(B_{u} B_{v}=[n]\). For each bidder \(i\), let \(_{i}=_{j}_{i,j}\) be the total value \(i\) receives from all auctions, and \(p_{i}=_{j}p_{i,j}\) be the total payment \(i\) makes. Fixing other bidders' bidding strategies, a utility maximizer \(i\) bids in a way such that the total quasi-linear utility, i.e., \(_{i}-p_{i}\), is maximized, without additional constraints. On the other hand, a value maximizer \(i\) bids in a way such that the total value \(_{i}\) that \(i\) receives is maximized, subject to the ROI constraint that the ratio between the total value \(_{i}\) and the total payment \(p_{i}\) is at least some predetermined threshold. Without loss of generality we assume this threshold is \(1\)4, i.e., we require the total payment \(p_{i}\) is at most the total value \(_{i}\) for each value maximizer \(i\). Formally, fixing other bidders' bids, a value maximizer \(i\) solves the following optimization problem to determine their bids \(\{b_{i,j}\}_{j}\):

\[&[_{i}] \\ &[_{i}-p_{i}] 0. \]

Here, the expectations are taken over the randomness introduced by bidders bidding randomly. We note that when deciding how to bid, \(i\) can observe the distributions, but not the realizations, of the other bidders' bids.

Equilibria and the price of anarchy.The focus of this paper is on the efficiency of the first-price auction in equilibrium. That is, when each bidder \(i\)'s bidding strategy \(_{i}\) is optimal for that bidder's objective, given all other bidders' bidding strategies \(\{_{i^{}}\}_{i^{} i}\) (or \(_{-i}\) for brevity). In other words, each bidder's strategy is a best response to other bidders' strategies. Note that since each bidder \(i\) cannot observe the realizations of other bidders' bids, all bidders' bids \(\{_{i}\}_{i}\) must be independent. The way we measure efficiency is through the classical notion of the price of anarchy (PoA) (Koutsoupias and Papadimitriou, 1999), i.e., the ratio between the welfare resulting from the worst equilibrium possible, and the optimal welfare. Formally, given a problem instance of (\(n\), \(m\), \(B_{u}\), \(B_{v}\), \(\{v_{i,j}\}\)), we are interested in the instance-wise PoA defined as follows:

\[(n,m,B_{u},B_{v},\{v_{i,j}\})=_{\{_{i}\}_{i}}[_{i}]}{_{j}_{i}v_{i,j}}.\]

Our goal is to pin down the PoA of the first-price auction, which is the infimum of the instance-wise PoA taken over all instances of the problem. We assume \(_{j}_{i}v_{i,j}>0\) in order for the PoA to be well-defined.

Equilibrium bidding behavior of value maximizers.In this paper, we do not put further restrictions on bidders' equilibrium bidding behavior, such as no-overbidding. This is in contrast to some prior work: In prior work, since overbidding is a dominated strategy for utility maximizers, the no-overbidding assumption is often imposed for analyzing the PoA of utility maximizers in second-price auctions and first-price auctions (otherwise, the PoA could be \(0\)). However, in the model we consider, assuming no overbidding for value maximizers with ROI constraints may rule out their optimal strategies. More importantly, with the no overbidding assumption, the optimal strategy for value-maximizers would be to bid their values in first-price auctions since such a strategy maximizes their bids without violating the ROI constraints, leading to the trivial welfare-optimal outcome in a world with value-maximizers only. In other words, the welfare inefficiency in the autobidding world is mainly caused by the overbidding behavior from value maximizers, and such inefficiency can only be analyzed without assumptions such as no-overbidding (although such assumptions might make sense in other contexts).

## 3 PoA of the First-price Auction in a Full Autobidding World

In the literature (Aggarwal et al., 2019; Deng et al., 2021; Balseiro et al., 2021), the analyses of PoA for the second-price auction in a full autobidding world mainly leverage the fact that the second-price auction is truthful for utility maximizers, a nice property implying that value maximizers adopt _uniform bidding_ strategy in equilibrium (Aggarwal et al., 2019). Here, a uniform bidding strategy for a value maximizer \(i\) is a strategy in which she bids \(k_{i} v_{i,j}\) with a constant bid multiplier \(k_{i}\) in each auction \(j\). However, as the first-price auction is not truthful for utility maximizers, a uniform bidding strategy is generally no longer a best response for a value maximizer. A value maximizer \(i\) may adopt a _non-uniform_ bidding strategy using different bid multiplier \(k_{i,j}\) in different auction \(j\), and the bid multipliers can even be _randomized_.

Liaw et al. (2022) show that the PoA of running the first-price auction in a full autobidding world is \(1/2\) when restricting to equilibria of bidding in a deterministic way (i.e., restricted to pure Nash equilibria). In this section, we devise a novel argument to analyze equilibria with possibly randomized non-uniform bidding strategies to show that the PoA of the first-price auction in a full autobidding world is exactly \(1/2\).

**Theorem 1**.: _When all bidders are value maximizers, the PoA of the first-price auction in a full autobidding world is \(1/2\). Formally,_

\[_{n,m,\{v_{i,j}\}}(n,m,B_{u}=,B_{v}=[n],\{v_{i,j}\})= 1/2.\]

All missing proofs are deferred to Appendix B. We remark that the proof of Theorem 1 in fact establishes the following claim, which will be a building block in our analysis of PoA of the first-price auction in a mixed autobidding world with both value maximizers and utility maximizers.

**Lemma 1**.: _For any \(n\), \(m\), \(B_{u}\), \(B_{v}\), and \(\{v_{i,j}\}\), if \(\{_{i}\}_{i}\) form an equilibrium, then_

\[_{i B_{v}}[_{i}]+_{i,j:(j) B_{ v}}[p_{i,j}]_{j:(j) B_{v}}_{i}v_{i,j},\]

_where \((j)=*{argmax}_{i}v_{i,j}\) denotes the "rightful winner" of each auction \(j\), with ties broken in favor of the bidder with the smallest index._

## 4 PoA of the First-price Auction in a Mixed Autobidding World

In this section, we proceed to the main result of the paper: characterizing the exact PoA of running the first-price auction in a mixed autobidding world with both utility maximizers and value maximizers participating in the auctions. The entire section is devoted to the proof of the following claim.

**Theorem 2**.: _The PoA of the first-price auction in a mixed autobidding world is given by:_

\[_{n,m,B_{u},B_{v},\{v_{i,j}\}}(n,m,B_{u},B_{v},\{v_{i,j}\})= _{t} 0.457.\]

Roadmap.In the rest of the section, we first establish a PoA lower bound. At first sight, one might be tempted to adapt the proof of Theorem 1, hoping to get the same lower bound of \(1/2\) in the presence of utility maximizers. In doing so, one faces the following intuitive difficulty: for a utility maximizer \(i\), the value \(i\) receives when best responding is not necessarily lower bounded by the value \(i\) receives when using the proxy bidding strategy \(b^{}_{i,j}=v_{i,j}\). This is because aiming to maximize utility, \(i\) may bid in a way such that both the value \(i\) receives and the payment \(i\) makes are smaller, but their difference (which is the utility \(i\) gets) is larger. One simple fix is to consider instead the following proxy strategy: \(b^{}_{i,j}=v_{i,j}/2\). Adapting the proof of Theorem 1, it is not hard to show this alternative proxy strategy gives a PoA lower bound of \(1/4\). However, it is unlikely that such a fix would yield the tight ratio of about \(0.457\).

In order to overcome this obstacle, we present a novel local analysis (Lemma 3) for the first-price auction that handles auctions where the rightful winner is a utility maximizer, which roughly says that if the expected value that the rightful winner receives from such an auction is small, then the expected payment that other bidders make in the same auction must be large. This argument relies on a characterization of the structure of the best response of a utility maximizer. Given the local analysis, one can already get a lower bound of about \(0.317\) on the PoA by exploiting the tradeoff between value and payment.

To obtain the right ratio, we further combine the local analysis for utility maximizers with the bound for value maximizers (Lemma 1) discussed earlier. The idea is to consider \(4\) quantities separately: (\(A\)) the total value that all value maximizers receive, (\(B\)) the total value that all utility maximizers receive from auctions where they are the rightful winner, (\(C\)) the total payment made in auctions where the rightful winner is a value maximizer, and (\(D\)) the total payment made in auctions where the rightful winner is a utility maximizer, by bidders who are not the rightful winner.

One can show that the welfare in equilibrium is lower bounded by a very specific combination of these \(4\) quantities (Lemma 4). Moreover, Lemma 1 provides a tradeoff between (\(A\)) and (\(C\)), and the local analysis (Lemma 3) provides a tradeoff between (\(B\)) and (\(D\)). Therefore, one can lower bound the PoA by solving an optimization problem involving a few number of parameters to get the worst-case tradeoffs. We show that this optimization gives the right ratio of about \(0.457\) (Lemma 5). Finally, we present a problem instance where there exists an equilibrium where the gap between the actual welfare and the optimal welfare is precisely the right ratio (Lemma 6). This, together with the matching lower bound, concludes the proof of Theorem 2.

### A Local Analysis

In this subsection, we propose a local analysis of the first-price auction to analyze the tradeoff between welfare and payment in equilibrium when the rightful winner of the auction is a utility maximizer. Although the analysis is mainly designed for utility maximizers towards establishing the lower bound of PoA, it also works when the rightful winner of the auction is a value maximizer. For the remainder of this subsection, we fix \(n\), \(m\), \(\{v_{i,j}\}\), and an equilibrium profile \(\{_{i}\}_{i}\), and consider any fixed bidder \(i\) and auction \(j\) where \(i\) is the rightful winner. For brevity, we also let \(v=v_{i,j}\).

Value-payment frontiers.We first try to understand the maximum expected value \(i\) can get in auction \(j\) when paying a particular amount in expectation. Let \(F\) be the CDF of the highest other bid, i.e., for any \(x 0\),

\[F(x)=_{_{-i}}[_{i^{} i}b_{i^{},j} x].\]

Note that in the first-price auction \(j\), if bidder \(i\) bids \(t\), the bidder \(i\) pays \(t F(t)\) and earns value \(v F(t)\). For any \(x 0\), consider a function \(G:_{+}[0,v]\) such that

\[G(x)=_{t 0:\ t F(t) x}v F(t).\]

In other words, \(G\) maps a desired expected payment \(x\) to the maximum (or strictly speaking, supremum) value \(i\) can get by bidding deterministically, when paying at most the desired payment \(x\) in expectation. By bidding randomly, \(i\) can further achieve any value-payment pair that is a convex combination of points on \(G\). In light of this, we further consider the _concave envelope \(H\) of \(G\)_, which captures the value-payment frontier when \(i\) can bid randomly. Note that for utility maximizers, although there always exists a deterministic best response (since all bids with a positive probability in a randomized bidding strategy must result in the same quasi-linear utility), the equilibrium bidding strategies may still be randomized for the sake of stability.

Characterizing the best response.Given the definition of the value-payment frontier \(H\), one can further observe that when best responding, \(i\)'s expected utility \([_{i,j}-p_{i,j}]\) depends only on \(H\). In fact, intuitively, since \(H\) is concave, \(i\)'s expected value and payment in auction \(j\) must correspond to the "rightmost" point on \(H\) where the derivative is larger than or equal to \(1\) (this is informal since (1) the point may not be unique and (2) the derivative may be undefined). Formally, when \(i\) is a utility maximizer, \(i\)'s best response in \(j\), \(b_{i,j}\), has the following property.

**Lemma 2**.: _For any \(b 0\) in the support of \(b_{i,j}\), we have for any \(w b F(b)\), \(H(w)-H(b F(b)) w-b F(b)\)._

We remark that the same property also holds when \(i\) is a value maximizer, with minor modifications in the proof.

A tradeoff between value and payment in equilibrium.We are ready to present a tradeoff between the value \(i\) receives and the payment other bidders make in auction \(j\). The intuition is that given Lemma 2, the curve \(H\) must be relatively flat to the right of \((p_{i,j},H(p_{i,j}))\) (i.e., with slope at most \(1\)), which means the CDF function \(F\) of the highest other bid must also be with a relatively small slope. On the other hand, the payment made by other bidders can be written as

\[b_{i,j}(1-F(b_{i,j}))+_{b_{i,j}}^{}(1-F(t))\,t.\]

This means if \(F(b_{i,j})\), the probability that \(i\) wins when bidding \(b_{i,j}\), is small, then since \(F\) is with a small slope to the right of \(b_{i,j}\), the payment must be relatively large. The following claim formally captures this tradeoff.

**Lemma 3**.: _There exists some \(x\) such that_

\[[_{i,j}]=x v_{i^{} i }[p_{i^{},j}](1-x+x x) v.\]

We remark that Lemma 3 alone already implies a lower bound of about \(0.317\) on the PoA: summing the bound in Lemma 3 over \(i\) and \(j\) where \((j)=i\) and exploiting the convexity of the mapping \(z 1-z+z z\), one can show there is some \(x\) such that

\[_{i}[_{i}] x_{j}_{i}v_{i,j} _{i}[p_{i}](1-x+x x)_{j}_{i}v _{i,j}.\]

Since \(_{i}[_{i}]_{i}[p_{i}]\), the worst case scenario is when \(x=1-x+x x\), which gives \(x 0.317\), a lower bound on the PoA.

### Putting Everything Together

In this subsection, we combine Lemma 1 and Lemma 3 to obtain an improved (and in fact, tight) lower bound on the PoA of the first-price auction in the mixed autobidding world. Fixing \(n\), \(m\), \(B_{u}\), \(B_{v}\) and \(\{v_{i,j}\}\), we consider four key quantities in the proof. (_A_): the total value that all value maximizers receive; (\(B\)): the total value that all utility maximizers receive from auctions where they are the rightful winner; (\(C\)): the total payment made in auctions where the rightful winner is a value maximizer; and (\(D\)): the total payment made in auctions where the rightful winner is a utility maximizer, by bidders who are not the rightful winner. Formally,

\[A =_{i B_{v}}[_{i}], B =_{i B_{u},j:(j)=i}[_{i,j}]\] \[C =_{i,j:(j) B_{u}}[p_{i,j}], D =_{i,j:(j) B_{u}(j) i} [p_{i,j}].\]

We first show that the welfare can be bounded by a combination of the above quantities.

**Lemma 4**.: _For any bidding strategies \(\{_{i}\}_{i}\) that form an equilibrium, we always have_

\[_{i}[_{i}]\{A,C+D\}+B.\]

We are now ready to prove our main PoA lower bound.

**Lemma 5**.: _In a mixed autobidding world with both utility maximizers and value maximizers, the PoA of the first-price auction has the following lower bound:_

\[_{n,m,B_{u},B_{v},\{v_{i,j}\}}(n,m,B_{u},B_{v},\{v_{i,j}\}) _{t} 0.457.\]

**Remark 1**.: _Our analysis involves bounds (e.g., Lemma 3) of similar forms to those normally seen in the smoothness framework  and its instantiations (e.g., ), and it is conceivable that one might be able to fit part of our analysis in the smoothness framework. However, it is unlikely that doing so would substantially simplify or change the nature of the analysis. In particular, in order to instantiate the smoothness framework in the proper way that produces the tight bounds, presumably one would need to carry out essentially the same argument as in our analysis._

### A Matching Upper Bound

To conclude this section, we present a problem instance in which our PoA lower bound can be actually achieved, even with \(n=2\) bidders and \(m=2\) auctions.

**Lemma 6**.: _When \(n=m=2\), there exists \(B_{u}\), \(B_{v}\) and \(\{v_{i,j}\}\) such that_

\[(n,m,B_{u},B_{v},\{v_{i,j}\})_{t} 0.457.\]

Theorem 2 is a direct corollary of Lemma 5 and Lemma 6.

Improved Efficiency with ML Advice

In this section, we turn to a more practically-motivated setting, where the seller can rely on machine-learned advice to set reserves and thereby further improve the efficiency of the first-price auction. In particular, we show that as the advice gets more and more accurate, there is a way to set reserves such that the PoA of the first-price auction approaches \(1\).

Setup.Following prior work Balseiro et al. (2021), we consider the setting in which for each auction \(j\), the seller can access a signal \(s_{j}\), which approximates the highest value \(_{i}v_{i,j}\) in this auction. Formally, we assume there is a constant \(\) such that \(s_{j}[_{i}v_{i,j},_{i}v_{i,j}]\) for each auction \(j\).5 As Balseiro et al. (2021) argue, the model is a reasonable simplification of the actual problem, which enables clean theoretical results while still making practical sense. In particular, the assumption that the signal never overestimates the value can be relaxed: if there is a (high-probability) bound on how much the signal might overestimate the maximum value, then one can scale everything down accordingly and retain the PoA bound in Theorem 3 (with high probability).

First-price auction with machine-learned reserves.The way we exploit machine-learned signals is to use them as reserve prices in the first-price auction. To be more specific, in each auction \(j\), we set a reserve \(r_{j}=s_{j}\), such that a bidder \(i\) can win only if \(i\)'s bid \(b_{i,j} r_{j}\). In particular, if \(_{i}b_{i,j}<r_{j}\), then no one wins in auction \(j\). This is different from the first-price auction without reserves, where there is always exactly \(1\) winner.

We overload the notations and let \(x_{i,j}=x_{i,j}(r_{j},\{b_{i^{},j}\}_{i^{}})\) be the indicator variable that \(i\) wins in auction \(j\), and define \(\{_{i,j}\}\) and \(\{p_{i,j}\}\) in a similar way such that all these variables depend on both the reserves \(\{r_{j}\}\) and the bidding profile \(\{b_{i^{},j}\}_{i^{}}\). For any \(n\), \(m\), \(B_{u}\), \(B_{v}\), and \(\{v_{i,j}\}\), we consider the following parametrized instance-wise PoA when each \(r_{j}=s_{j}[_{i}v_{i,j},_{i}v_{i,j}]\):

\[_{}(n,m,B_{u},B_{v},\{v_{i,j}\})=_{\{ b_{i,j}\\  j,r_{j}[_{i}v_{i,j},_{i}v_{i,j}]}} [_{i}]}{_{j}_{i}v_{i,j}}.\]

Our main result in the section is captured by the following theorem.

**Theorem 3**.: _For any \(n\), \(m\), \(B_{u}\), \(B_{v}\), \(\{v_{i,j}\}\) and \(\),_

\[_{}(n,m,B_{u},B_{v},\{v_{i,j}\})_{t}.\]

One way to interpret the lower bound is it provides a smooth transition between the case without machine-learned advice (or with totally unreliable advice, i.e., \(=0\)), and the case where the advice is perfectly accurate (i.e., \(=1\)) and the seller knows precisely the value of the rightful winner in each auction. In the former scenario corresponding to \(=0\), we recover the tight PoA bound stated in Theorem 2. In the latter scenario corresponding to \(=1\), as one would expect, the theorem gives a lower bound of \(1\), which means the auctions are perfectly efficient. More generally, for \(\) between \(0\) and \(1\), the lower bound in Theorem 3 increases monotonically as \(\) increases, since the fraction within the \(\) increases in \(\) for any fixed \(t\):

\[= }{(2-t+t t)(1+t t)-(1+t t)^{2}}+,\]

where \(1+t t(0,1]\) and \(2-t+t t 1(1+t t)\).

In order words, the efficiency of the first-price auction with machine-learned reserves improves as the reserves become more and more accurate. To better illustrate the rate at which the efficiency improves, we plot our lower bound against the accuracy \(\) in Figure 1. As the plot shows, our lower bound improves approximately linearly as the accuracy \(\) increases from \(0\) to \(1\).

To prove Theorem 3, the plan is to apply Lemma 4, which provides a lower bound on the welfare in any equilibrium, and consider tradeoffs between the \(4\) quantities involved in the lower bound. The key difference is that we obtain better tradeoffs with machine-learned reserves. In the rest of the section, we fix \(n\), \(m\), \(B_{u}\), \(B_{v}\), and \(\{v_{i,j}\}\). With machine-learned reserves, the tradeoff given by Lemma 1 improves to the following (note the factor of \((1-)\) on the left hand side).

**Lemma 7**.: _In auctions with machine-learned reserves of accuracy \(\), for any \(\{_{i}\}_{i}\) that form an equilibrium,_

\[(1-)_{i B_{v}}[_{i}]+_{i,j:(j) B_{v}}[p_{i,j}]_{j:(j) B_{v}}_{i}v_{ i,j}.\]

We note that the above lemma also implies a lower bound of \(1/(2-)\) on the PoA of the first-price auction with machine-learned reserves in the full autobidding world in which all bidders are value maximizers. When \( 0\) (i.e., reserves are extremely unreliable), the bound degrades to \(1/2\); when \( 1\) (i.e., reserves are extremely accurate), the bound approaches \(1\), which means the auctions are efficient.

**Corollary 1**.: _For any \(n\), \(m\), \(\{v_{i,j}\}\) and \(\), \(_{}(n,m,B_{u}=,B_{v}=[n],\{v_{i,j}\}) 1/(2-)\)._

For utility maximizers, we adapt the local analysis, and obtain the following improved tradeoff between value and payment.

**Lemma 8**.: _In auctions with machine-learned reserves of accuracy \(\), for any \(\{_{i}\}_{i}\) that form an equilibrium, and any bidder \(i\) and auction \(j\) where \((j)=i\), there exists \(x\) such that_

\[[_{i,j}]=x v_{i,j}_{i^{ } i}[p_{i^{},j}](1-x+(1-)x x) v_{i, j}.\]

We can now prove Theorem 3 by plugging Lemma 7 and Lemma 8 into Lemma 4.