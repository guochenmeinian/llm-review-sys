# Formalising Anti-Discrimination Law

in Automated Decision Systems

Anonymous Author(s)

Affiliation

Address

email

###### Abstract

We study the legal challenges in automated decision-making by analysing conventional algorithmic fairness approaches and their alignment with anti-discrimination law in the United Kingdom and other jurisdictions based on English common law. By translating principles of anti-discrimination law into a decision-theoretic framework, we formalise discrimination and propose a new, legally informed approach to developing systems for automated decision-making. Our investigation reveals that while algorithmic fairness approaches have adapted concepts from legal theory, they can conflict with legal standards, highlighting the importance of bridging the gap between automated decisions, fairness, and anti-discrimination doctrine.

## 1 Introduction

Automated decision-making using predictive models is becoming increasingly important in many areas of society, including lending [60; 100; 107], criminal justice [31; 14; 151], hiring [64; 59; 25], and welfare eligibility [41; 56; 113]. Instances of large-scale failures, from disproportionately harming vulnerable people in welfare eligibility assessments  to bias in consumer lending , highlight the need for lawful implementation. Scrutiny of ML-based decisions is heightened by concerns about replicating human biases and historical inequality [97; 41; 93].

Concerns about algorithmic bias have spurred research into _fair_ ML. Early discourse on fairness in ML was relatively narrow due to technical constraints [29; 61]. More recently, researchers have developed formal definitions of fairness in algorithmic decisions and methods to measure fairness in predictive models [49; 31; 27; 147; 87; 85]. Algorithmic fairness definitions generally measure prediction disparities across groups with different legally protected characteristics [90; 136; 87; 17]. This research has resulted in several proposals, including statistical metrics to assess the fairness of individual predictive models [136; 111; 22; 24], fairness for model auditing [70; 103; 63; 89; 98], and fairness constraints on models [31; 148; 50; 145; 12].

These criteria simplify fairness into measurements of disparity that do not inherently map to _unlawful_ discrimination. The usefulness of these metrics in practice is limited as incomplete or even irrelevant measures for legal investigations. There have been important efforts to bridge the gap between legal and technical approaches to fair ML [81; 55; 51; 144; 139; 1; 46]. Lawyers have highlighted the challenges of the narrow construction of fairness metrics focusing on disparity in predictions rather than more nuanced definitions of discriminatory conduct and the broader context of the automated decision-making process [55; 51; 144; 1]. We aim to contextualise and formalise legal concepts of algorithmic discrimination beyond the narrow construction of statistical disparity.

The predominance of US analysis of fairness and discrimination in ML, lack of non-US ML datasets , and the limited legal scholarship translating these concepts, has inadvertently fostered a series of misconceptions that pervade the field. However, very few papers have engaged withanti-discrimination laws outside of the United States [143; 139; 1; 140; 67; 76]. We aim to introduce new principles and methods to deal with the issues identified in this literature. By avoiding the nuanced legal realities of other jurisdictions, models designed to comply with US laws may breach UK laws or those in comparable jurisdictions. Our paper addresses this gap by providing a rigorous analysis of UK discrimination law, correcting some mischaracterisations, and establishing a more accurate foundation for developing fair ML in the UK and its related jurisdictions.

### Automated Decision-Making

Let \(x_{i}^{p}\) be a vector of observed attributes for individual \(i\). A decision-maker must choose a decision \(a\), where \(\) is closed. Further, we assume that the decision-maker wants to decide based on a future outcome \(y_{i}\) for individual \(i\). Here, we assume \(=\), which can be relaxed.

Decision-making under uncertainty has long been studied in statistical decision theory [108; 32; 13; 99]. Let \(u(y,a)\) be a utility function that summarises the _utility_ for the decision-maker. The optimal decision is then

\[a^{}=*{arg\,max}_{a}_{y}u(a,y)p(y|a)\,.\] (1)

The decision-maker usually neither knows \(y_{i}\) nor \(p(y|a)\) at the time of the decision. Hence, the decision must be based solely on \(x_{i}\). In an SML setting, a prediction model \((y|x)\) is trained to compute the predicted probability distribution (pmf) \(}_{i}=(y|x_{i})\) for individual \(i\), with the support on \(\). Further, let \((}_{i})\) be the classification made based on \(}_{i}\). In simple settings, the decision can be formulated as a decision function \(d(}_{i})\) that is used to choose an appropriate action based on \(}_{i}\). In the binary \(y\) and \(a\) case, it reduces to a simple threshold \(\), i.e., \(d()=I()\), where \(I\) is the indicator function and \(_{i}=(y=1 x_{i})\). We often train a model \((y|x)\) based on previous data \(D=(,)\), drawn from a population \(p(y,x)\), where both \(x_{i}\) and \(y_{i}\) are known. Replacing \(p(y|x_{i})\) with the predictive model \((y|x_{i})\) in Eq. 1 gives an optimal decision.

### Algorithmic Fairness

To define algorithmic fairness, we separate \(x_{i}\) into protected and legitimate features \(x_{i}=(x_{pi},x_{li})\): we drop \(i\) to simplify notation. Here, \(x_{p}\) indicates protected attributes, with \(\) being the set of different groups. Legally protected characteristics commonly identified in datasets include gender, race, and age. Many fairness metrics aim to evaluate the fairness of an SML model for commonly identified protected characteristics in datasets, including gender and race [49; 31; 82; 85].

**Statistical parity**, or demographic parity, is one of the central algorithmic fairness metrics [31; 136; 90; 82]. For statistical parity to hold, it requires that

\[_{x}[(y|x) x_{p}]=_{x}[ (y|x)]\,,\] (2)

such that the model predictions, in expectation over \(x\), need to be the same for the different groups [31; 136]. Given that the decision function \(d()\) is the same for the different groups, statistical parity results in equal decisions for the different groups. However, we discuss later in this paper that, in practice, statistical parity may exacerbate inequality or even result in unlawful discrimination [10; 74; 63].

**Conditional statistical parity** extends statistical parity to account for legitimate features \(x_{l}\). The model predictions should only differ across protected groups _to the extent that the difference is conditional on legitimate factors_[31; 136; 23]. This can be formalised as,

\[_{x}[(y|x) x_{l},x_{p}]=_{x}[ (y|x) x_{l}]\,,\] (3)

so that, conditional on legitimate features \(x_{l}\), there should not be any difference in predictions between groups given by the protected attribute. Below, we discuss the legitimacy of variables that correlate to protected attributes [34; 77].

Other similar group comparison metrics have been proposed, such as error parity, balanced classification rate, and equalised odds [49; 31; 136; 90; 82; 30]. Also, more individual approaches to parity have considered whether otherwise identical individuals are treated differently if they have different protected attributes [34; 68]. Finally, ideas from causal inference and counterfactual analysis have also been proposed to measure outcome consistency for individuals across protected groups [75; 69; 106; 149; 26; 142; 92; 6]

### Anti-Discrimination Law

The algorithmic fairness literature largely identifies statistical disparities in predicted outcomes for binary marginalised groups. Legally, discrimination is both broader and more detailed. Not all actions perceived as discriminatory are unlawful, and some non-obvious actions may be prohibited. Anti-discrimination law only applies to select duty-bearers in certain conditions . Individuals' friendship choices being based on race are not legally regulated, despite sometimes seeming unfair . It only applies to protected attributes. An algorithm that rejects a loan application because the applicant uses an Android phone rather than an iOS device may seem unfair because it does not reflect the true default risk but is a proxy for the applicant's income . However, in isolation, this would not be unlawful discrimination under UK law because poverty is not a protected attribute .

The prohibition on discrimination traces its legal roots to the Universal Declaration of Human Rights, which established equality and freedom from discrimination as fundamental human rights, further advanced in several international treaties , and enacted as legislation worldwide spurred by the Civil Rights Movement . The United Kingdom implemented several anti-discrimination laws in the 20th century , which were consolidated in the Equality Act 2010 .

The Equality Act protects "age; disability; gender reassignment; marriage and civil partnership; pregnancy and maternity; race; religion or belief; sex; sexual orientation" [40, s 4]. Algorithmic fairness literature has often oversimplified these protected characteristics as simply identifying visible traits when each has complex social meanings . One complexity is, for example, the difference between a person with a protected attribute by biological fact or by identifying with a protected group . UK anti-discrimination law distinguishes between _direct_ discrimination and _indirect_ discrimination. While analogous to the US disparate treatment and disparate impact doctrine, there are important distinctions, meaning they should not be so easily elided .

**Direct discrimination** occurs when an individual is treated less favourably than another based on a protected characteristic [40, s 13]. To establish direct discrimination, it is necessary to identify the specific protected characteristic involved, demonstrate the less favourable treatment (by real or hypothetical comparison), and prove that this treatment was caused "but for" the protected attribute. The intention of the decision-maker is not required or necessary .

**Indirect discrimination** refers to a policy, criterion, or practice (PCP) that disproportionately disadvantages a group with a particular protected attribute compared to those without [40, s 19]. To prove indirect discrimination, one must identify such a PCP, show that it puts a group defined by its protected attribute at a particular disadvantage compared to those without such attribute, and evaluate whether it is justifiable as a proportionate means of achieving a legitimate aim.

English common law is either in force or is the dominant influence in 80 legal systems that govern approximately 2.8 billion people, not including the US . UK anti-discrimination law is very similar to numerous Commonwealth and common law jurisdictions, including Australia , Canada , India , New Zealand , South Africa , and the pending bill in Bangladesh . European Union law also has broadly the same principles and discrimination case law evolved in parallel during the UK's membership . It is increasingly important to gain a nuanced understanding of unlawful discrimination in AI systems as new laws aim to prevent future harms .

### Contributions and Limitations

This paper makes four core contributions at the intersection of automated decision-making, fairness, and anti-discrimination doctrine.

1. We formalise critical aspects of anti-discrimination doctrine into decision-theoretic formalism.
2. We analyse the legal role of the data-generating process (DGP) and develop the DGP as a theoretical framework to formalise the legitimacy of the prediction target \(y\) and the features \(x\) in supervised models for automated decisions.
3. Further, we consider the legal and practical effects of approximating the DGP in supervised models. We propose _conditional estimation parity_ as a new, legally informed target.
4. Finally, we provide recommendations on creating SML models that minimise the risk of _unlawful_ discrimination in automated decision-making.

Our paper is formally limited to analysing and providing novel recommendations for the UK. While we discuss related jurisdictions that are functionally similar and based on English common law,specific legal advice should be followed with respect to different jurisdictions. Accountability varies by jurisdiction and context, which is why our paper underscores the importance of careful, informed classification by experts with appropriate legal advice.

## 2 Automated Decisions and Discrimination

### Legitimacy of True Differences

In SML, it is crucial to differentiate unlawful discrimination from mere statistical disparities and concepts of algorithmic fairness. While formal equality may map to statistical parity, anti-discrimination laws in the UK and related jurisdictions aim to achieve substantive equality. Despite the general rule that individuals should not receive less favourable treatment based on their protected attributes, courts acknowledge that treating all groups the same can actually disadvantage a protected group and minimise important structural and true differences [137; 143]. Therefore, substantive equality may sometimes require legitimate differential treatment because of the true differences among individuals [137; 52; 144; 139].

For instance, insurance decisions that might otherwise be construed as discriminatory - specifically concerning gender reassignment, marriage, civil partnership, pregnancy, and sex discrimination - are permissible if they are based on reliable actuarial data and executed reasonably [40; Sch 9. s 20]. Financial services can also "use age as a criterion for pricing risk, as it is a key risk factor associated with for example, medical conditions, ability to drive, likelihood of making an insurance claim and the ability to repay a loan" [117; para. 7.6]. These exemptions highlight legal recognition that certain group distinctions, particularly those involving risk assessment, are relevant and necessary for the equitable operation of such services. Similar statutory exemptions are found in other similar anti-discrimination laws, including the European Union [43; art 2], Australia [8; s 30-47], Canada [20; s 15], New Zealand [91; s 24-60] and South Africa [110; s 14].

### True Data Generating Process

Therefore, an important aspect from the legal perspective that is overlooked in the existing literature is the distinction between a "true data-generating" process (DGP) and the estimated model \((y|x)\). To formalise, we assume that there exists a true DGP, \(D p(y,x)\), where \(D_{i}=(y_{i},x_{i})\). Further, we use \(p(y|x_{i}^{})\) to denote the true probability (pmf) for individual \(i\), given the true features \(x_{i}^{}\).

We make multiple observations on the role of the "true" model and its use in connecting predictive modelling and legal reasoning.

First, understanding the limits of predictive models is crucial to explore inherent uncertainties and limitations in predictions. The true model is, in practice, never observed or known. When developing \((y|x)\), the target is often to select the model with the best predictive performance, which is closely connected to the role of the true DGP [15; 134; 135; 133]. For this reason, the "true" model may include features in \(x_{i}^{}\) that are not observed in the data, sometimes referred to as an \(\)-open setting when the "true" model is not included in the set of candidate models [15; 135].

Second, we assume that \(p(y|x_{i})\) is a probability distribution over \(\), introducing some level of aleatoric uncertainty in the true underlying process [95; 58; 114]. This means that perfect prediction of \(y_{i}\) may not be possible, even with knowledge of the true DGP. The distinction between aleatoric and epistemic uncertainty is important from a legal perspective. The reason is simple: the uncertainty coming from estimation is the (legal) responsibility of the modeller, while the aleatoric uncertainty can instead be considered a true underlying general risk.

Third, the true DGP connects to judicial legal reasoning. Courts must engage theoretically with legal and normative conceptions of what is justifiable and what constitutes unlawful discrimination. Judges consider legitimacy, proportionality, and necessity when evaluating actions, and hypothetical alternatives, that led to less favourable treatment. Although, courts are not oracles. Discrimination case law may not pinpoint what the perfect decision should have been. However, courts will engage in a similar theoretical process of reasoning about the decision-making process to the true DGP to understand whether the actions were justified or unlawful. We explain legal reasoning within this framework throughout the paper and in a real-world case on unlawful discrimination in algorithmic decision-making (see Appendix A).

### Estimation Parity

Legally, distinguishing between a true difference and an estimated one is important. We approximate the true DGP with a model \((y|x)\) based on training data when training an SML model. The approximation introduces estimation error

\[_{i}=}_{i}-_{i}=(y_{i}|x_{i})-p(y_{i}|x_{i}^{ })\,.\] (4)

Algorithmic fairness literature often assumes the absence of estimation error (see e.g.,  or assumes that the true causal structure is known [150; 68; 26; 21]. In practice, this is rarely the case. Hence, it is crucial, both practically and legally, to distinguish between the true underlying probabilities \(_{i}\) and the estimated probabilities \(}_{i}\). While the true underlying probability may sometimes be defensible (Section 2.2), introducing an estimation error that disadvantages individuals based on protected attributes invokes discrimination liability.

As the model will try to approximate the true data-generating process, modellers' expectations are difficult to ascertain. The law is unlikely to set a deterministic standard that any adverse effects of estimation will make a modeller liable. The modeller should try to approximate the true model as much as possible (see 4, 141; 135; 133, for discussions on model misspecification). However, where an estimation disparity reaches a threshold for discriminatory effects, the legal evaluation would require analysing the steps taken to test and mitigate estimation disparity (even though the intent is immaterial).

The potential bias in training data presents a risk that the estimation model will introduce bias against individuals with protected attributes (Section 2.6). Historical discriminatory lending practices, for example, could be perpetuated through biased training data [18; 104]. Such biased estimations may introduce biased outcomes that are not reflective of true differences, potentially leading to discriminatory outcomes. Therefore, we introduce "Conditional Estimation Parity" to formalise the legal context of estimation.

**Conditional Estimation Parity** is the difference in estimation error between groups with a protected attribute, given legitimate features, i.e.,

\[_{x}[ x_{p},x_{l}]=_{x}[ x_{l}]\,.\] (5)

Reducing the error in Eq. 4 is expected to diminish the risk of conditional estimation disparity. However, assessing conditional estimation parity is complex due to inherent challenges in evaluating estimation error.

It is crucial to examine both mathematical and legal causal theories of why certain differences are legitimate bases to make classification distinctions . We examine the mathematical basis for identifying statistical disparities in the context of unlawful discrimination. In Section 2.5, 2.7, and 2.6 we consider the causal relationships between legitimate differentiation and unlawful discrimination.

### Statistical Disparities and _Prima Facie_ Discrimination

To initiate a claim for discrimination, a claimant must establish a _prima facie_ case [37; 40, s 136]. Sufficient evidence must be produced to show that unlawful discrimination may have occurred, including by showing discriminatory effects or harm against an individual or group caused by the decision-maker's action [37; 65]. Statistical evidence can be used to prove less favourable treatment or particular disadvantage, but by design, it shows correlations, and "a correlation is not the same as a causal link" (130, para. 28). We explain the threshold for legal causation at the trial stage in Section 2.5. Although, at this stage, a mere correlation between the adverse effect on the person and the decision-maker's action will suffice . The size of the disparity is relevant. Smaller disparities are less likely to trigger legal inquiry under anti-discrimination laws . Courts will compare statistical evidence showing the different effects and outcomes between a disadvantaged group compared to a group without the protected attribute. The significance of the statistical disparity hinges on the specifics of the case [127; 124]. The thresholds for statistical significance are flexible and often resisted by courts to avoid excessive dependence on data . The UK has specifically avoided thresholds like those used to measure statistically significant disparity in the US [105; 10].

Statistical disparities, as identified through algorithmic fairness metrics, may indicate a reason to consider whether discrimination has arisen. However, without taking context and potential true andlegitimate differences into account, these disparities hold little legal weight (see Section 2.1). We can formalise this as the legal target being to minimise the conditional estimation disparity

\[=||_{x}[_{i} x_{l},x_{p}]-_{x} [_{i} x_{l}]||_{2},\] (6)

where \(||||_{2}\) is the euclidean norm. This target generalises the idea of minimising conditional statistical parity. If we assume _true_ conditional statistical parity, i.e.

\[_{x}[p(y_{i}|x_{i}^{}) x_{l},x_{p}]= _{x}[p(y_{i}|x_{i}^{}) x_{l}],\] (7)

then the target in Eq. 6 will be reduced to minimise the conditional statistical parity (see Eq. 3). Although, this is only true as long as there are no true differences.

Hence, if true statistical parity does not hold, it is explained by true differences between groups. If there is a true difference, such as age in financial services, forcing conditional statistical parity would harm the protected group, most likely resulting in unlawful discrimination. This result aligns with previous observations about the risks of forcing parity metrics . Courts may need to be more flexible in the type of statistical data they consider to establish a _prima facie_ case by considering non-comparative adverse effects in their assessment. Therefore, deferring to conditional estimation parity provides an avenue for a contextually informed assessment.

### Legal Causation and the Utility Function

To lawyers, causation is the relationship between an act, i.e., an action or decision, and its effect, which requires two questions: (1) factually, _but for_ the act, would the consequences have occurred; (2) is the act a substantial cause of the consequence to apply responsibility. We are concerned with the first question. Direct discrimination "requires a causal link between the less favourable treatment and the protected characteristic"; indirect discrimination "requires a causal link between the PCP and the particular disadvantage suffered by the group and individual" [130, para. 25]. In an algorithmic context, this causal link requires asking whether \(i\) would have received the same action or decision \(a\), _but for_ their protected attribute \(x_{p}\) or the PCP that indirectly relates to their protected attribute \(x_{p}\). For instance, whether an individual would have suffered the disadvantage _but for_ the protected attribute would be discriminatory regardless of the decision-maker's intention . This is a notable distinction from certain aspects of US discrimination doctrine.

From a decision-theoretic perspective, the protected attribute \(x_{p}\) can affect the decision \(a\) either through the utility function \(u(a,y)\) or through the model \((y|x)\). Discrimination may occur if the utility function in Eq. 1 differs for different groups defined by the protected attribute. Such a difference would mean that an individual or whole group with a protected attribute is treated less favourably than those without a protected attribute given the same model \((y|x)\). Such a difference in the utility function would risk unlawful discrimination. Specifically, if \(u(a,y)\) is changed for different persons, either _directly_ based on a protected attribute or _indirectly_ has the effect of disproportionately disadvantage disadvantage a group with a protected characteristic without justification (see Section 2.6).

Having different \((y|x)\), on the other hand, would mean that there is a legal causation between the decision \(a\) and \(x_{p}\). This might either be motivated by true differences (see Section 2.1) or a result of conditional estimation disparity. In the latter case, this might be a case of legal causation, i.e., that the model is poor, and hence, the modelling has resulted in disadvantage a protected group. Therefore, we can view the causal structure of \((y|x)\) as central to avoiding unlawful discrimination. However, not considering causal structures could lead to conditional estimation disparity, and potentially result in unlawful discrimination.

Legal causation focuses on the legal causal link between \(x_{p}\) and the decision \(a\). In addition, legal causation is less formal than common definitions of causal effects in ML. Courts, at least outside of the US, are effects-orientated, and a wide range of forms of a "legal causal link" could be identified . Much of the causal-based fairness literature formulates "causation" on the true causal model structure in \((y|x)\), i.e., the study of the causal effect of \(x\), due to outside interventions on \(y\). However, this formulation is not the same as that of legal causation.

In this discussion, the parallels to other discrimination studies become evident in how it would affect automated decision-making, particularly taste-based and statistical discrimination. Taste-based discrimination, could arise if only the utility function \(u(a,y)\) unjustifiably disfavours a group based on protected attributes \(x_{p}\). Statistical discrimination, on the other hand, arises when decision-makers use group-level statistics as proxies for individual characteristics due to imperfect information . Statistical discrimination parallels the disadvantage of a group due to having different \((x|y)\). While these types of discrimination are generally prohibited, statistical discrimination can be legally permissible in some circumstances (see Section 2.1).

### Legitimate aim and \(y\)

Decision-makers must consider the legitimacy of using an SML model by explicitly defining its purpose and the outcome variable \(y\). In algorithm design, social implications should be considered . Additionally, this aligns the model's use with legal expectations.

If the court believes sufficient evidence of discrimination exists, the burden shifts to the respondent to disprove allegations of unlawful discrimination . Indirect discrimination can be justified if the PCP is a proportionate means of achieving a legitimate aim [40, s 19(2)(d)]. Identifying a legitimate aim is closely connected to the choice of \(y\), the unknown entity used for decision-making. If the choice of \(y\) is legitimate based on context and the benefit outweighs any potential harm, there is a lower risk of unlawful discrimination .

The legitimacy of the aim depends on the decision-makers' _raison d'etre_. In _Homer_, the Court established a legitimate aim must "correspond to a real need and the means used must be appropriate with a view to achieving the objective and be necessary to that end" . In lending, it is a legitimate aim to protect the repayment of their loans or at least secure their loans. In fact, "the mortgage market could not survive without that aim being realised" [126, para. 79].

For a legitimate \(y\) to be an exception to indirect discrimination, the PCP must be a proportionate means of achieving the legitimate \(y\)[40, s 19(2)(d)]. To be proportionate, it must be an appropriate means of achieving the legitimate aim and (reasonably) necessary to do so . Such analysis will turn on the facts of each case. However, it will require evaluating whether the design choices were "appropriate with a view to achieving the objective and be necessary" by weighing the need against the seriousness of detriment to the disadvantaged group [39, para. 151]. This will require considering whether non-discriminatory alternatives were available . Measures to improve accuracy, maximise benefits over costs, minimise estimation error, or condition for protected attributes may all be relevant considerations for whether the modeller's choices were proportionate means of achieving a legitimate \(y\).

If the estimated outcome \(\) approximates the true outcome \(y\), this can lead to biased predictions. Let

\[_{i}=||p(_{i}|x_{i}^{})-p(y_{i}|x_{i}^{} )||_{2}\,,\] (8)

then, if the expectation of \(\) condition on \(x_{l}\) shows a disparity, i.e.,

\[_{x}[ x_{p},x_{l}]_{x}[ x_{l}]\,,\] (9)

it suggests the use of \(\) is inappropriate and might be discriminatory.

To illustrate with an example, if a bank's training data is outdated or sourced from a different country, it may not accurately represent the current population relevant to the model. This discrepancy can lead to biased estimations, particularly if the data reflects historical prejudices. For instance, the model might unjustly associate certain demographics with higher default risk, not because of true differences but biased historical data [as warned in 33].

### Legitimate \(x\)

One of the more crucial aspects of SML for automated decision-making is the choice of features \(x\). The aim and \(y\) will help inform the choice of features to include in the model. We can separate three types of features from a legal perspective: features with protected attributes \(x_{p}\), legitimate features \(x_{l}\), and non-legitimate or illegitimate features \(x_{n}\). The distinction between \(x_{l}\) and \(x_{n}\) depends on whether the feature can be considered legitimately related to \(y\) (see Section 2.5). Causal fairness literature has engaged with questions of discriminatory variables through the lens of proxy discrimination . Proxy discrimination has a specific legal meaning under UK law that relates to direct discrimination, unlike much of the US literature on proxy discrimination that relates to indirect forms of discrimination. Here, we explain the UK legal implications of such causal relationships between variables and we provide a real-world example in Appendix A.

#### 2.7.1 Direct Discrimination and Removing \(x_{p}\)

Direct discrimination in automated decisions may arise when members of, or an entire protected group, is affected. Where a model \((y|x)\) uses a protected attribute \(x_{p}\), and there is a difference in predictions between the protected groups defined by \(x_{p}\), this risk arises. Models have directly used protected characteristics, giving rise to direct discrimination (94, see discussion in Appendix). Direct discrimination may arise when a feature is an exact proxy for a protected attribute. In _Lee v Ashers_, Lady Hale explained that the risk of direct discrimination also arises if a decision is based on a feature that "is not the protected characteristic itself but some proxy for it" . Therefore, direct discrimination can arise even where \(x_{p}\) has been removed because there is a feature which is an _exact proxy_ that is "indissociable" or has an "exact correspondence" to \(x_{p}\)[130; 129]. Formally, we can define an exact proxy as a feature \(_{p}\) with a perfect or almost perfect correlation with \(x_{p}\).

UK courts have accepted that an exact proxy would be pregnancy because "pregnancy is unique to the female sex" [121; 125]. If a model uses pregnancy or maternity leave as a feature, collected from CV information, for example, it would have the effect of using an exact proxy \(_{p}\) that could hypothetically be the basis for a direct discrimination claim.

Given the relevance of \(x_{p}\) to direct discrimination, modellers have been encouraged to remove protected attributes when designing ML models [105; 62; 48]. These claims are usually based on the US Equal Protection Clause, which subjects classifications based on certain protected characteristics, such as race, to strict scrutiny . The focus on excluding certain data inputs is one form of discrimination prevention [146; 46], but not under UK law. Further, simply removing protected characteristics reduces accuracy and utility [150; 66], and does not remove the risk of discrimination [34; 79; 72].

This reasoning connects to the true DGP. If a protected attribute like gender is inherent in the DGP, removing it does not eliminate discrimination but instead may introduce it. Taking a gender-neutral approach to recidivism predictions may have the adverse effect of discrimination against women who would otherwise have received lower risk scores . In _Loomis_, the Court accepted that in recidivism algorithms, "if the inclusion of gender promotes the accuracy, it serves the interests of institutions and defendants, rather than a discriminatory purpose" [112; 766]. Hence, if the inclusion of \(x_{p}\) improves the accuracy and benefits the protected group, it may avoid the risk of discriminatory purposes. There is an absence of any legal guidance in the UK on the relationship between true probabilities and protected attributes in automated decision-making. Pending further legal guidance, it is important to carefully consider whether including \(x_{p}\) is relevant to promote accuracy and conditional estimation parity. Removing protected attributes often ignores the true probabilities for the legitimate differences between protected groups, affecting the lawfulness of its outcomes.

Therefore, removing \(x_{p}\) will not avoid liability for unlawful direct discrimination by itself. Even if a model ignores \(x_{p}\), in practice, it may rely on other data points acting as proxies with "exact correspondence" to a protected characteristic \(_{p}\). Importantly, this diverges from US law and highlights that intention is immaterial to UK direct discrimination [Cf. e.g., 5; 115]. UK law focuses on the discriminatory effects rather than a formalistic view of whether \(x_{p}\) is considered or not.

#### 2.7.2 Defining \(x_{l}\) and \(x_{n}\)

Indirect discrimination may arise if a PCP appears to apply equally to everyone but disadvantages members of a protected group. Both forms of discrimination can arise using an exact proxy or a weak proxy in a PCP. Therefore, identifying legitimate features is challenging when many features correlate to protected groups. We define non-legitimate features \(x_{n}\) as features not legitimate in the context of the true DGP (Section 2.2). In practice, this means a non-legitimate feature is one that, if included, would not contribute to the predictive performance of the optimal model, i.e., the one with the lowest estimation error (Section 2.3). Therefore, \(x_{n}\) would not improve the predictive performance if a modeller had the true features.

For example, hair length strongly correlates to gender in many cultural contexts but is unlikely to contribute to the consumers' true default risk. Boyarskaya et al. explain the absence of a "causal story" between hair length and loan repayment because hair length would not be part of a true model for the risk of default . Therefore, hair length is an example of \(x_{n}\) in a lending context.

For comparison, the legitimacy of zip codes illustrates the nuanced nature of legitimate features. While a zip code may correlate with race in some contexts, it might be a legitimate variable in other situations. For example, in an application for home insurance covering flood risk, zip codesare invaluable proxies for granular information such as geographical features, land topography and historical flooding. Therefore, in the best model for property flood insurance decisions, zip code will improve the predictive performance as a legitimate proxy for data within the true DGP. However, in a university application, there should be no predictive or causal relationship to merit for acceptance. In such cases, zip code likely acts as a proxy for race or the unprotected characteristic of socio-economic status and would be \(x_{n}\). So, in some circumstances, the zip code would be legitimate \(x_{l}\), but in others, it may not be \(x_{n}\). It will also be relevant to consider whether a less discriminatory feature is available, i.e., one with less correlation to a protected attribute that is equally predictive.

As explored in Appendix A, in lending, information about income and debts are likely to be legitimate features \(x_{l}\). Credit scores can be a proxy for a person's financial position, as well as protected attributes . However, the complexity of calculating credit scores means it is more valuable for inferring income, debt repayments, and history of credit. Credit scores, or related features, would have a material impact on the true model for default, and then would be a legitimate feature \(x_{l}\).

Given that nearly, all features may contain some information on protected attributes, even legitimate factors , this approach explains the need to assess the strength of this dependence and whether the feature contributes significantly to the model's prediction and can be argued to be part of a true DGP.

#### 2.7.3 Feature construction from \(x\)

The distinction between \(x_{l}\) and \(x_{n}\) also gives rise to problems in automatic feature construction, such as using deep neural networks. If features are constructed automatically using a combination of \(x_{l}\) and \(x_{n}\), indirect and direct discrimination are risks. As an example, an applicant's resume contains legitimate features \(x_{l}\) for recruitment prediction. However, the detailed granularity of many resumes also gives rise to the problem of non-legitimate information, such as maternity leave or women-only sports or other information that may contain information on other protected attributes. Hence, there needs to be an active choice of only including legitimate features \(x_{l}\) from available data in the model.

## 3 Conclusions

Minimising unlawful discrimination in automated decision-making requires a nuanced and contextual approach. While it is beyond our scope to offer specific legal advice, our findings underscore several key considerations to identify and mitigate potential discrimination effectively:

1. _Assess data legitimacy_. Carefully examine if the data, both the target variable (\(y\)) and features (\(x\)), are legitimate for the specific context (Sections 2.6 and 2.7). Legal analysis should inform what is legitimate in a specific setting.
2. _Build an accurate model_. Strive to approximate the true DGP \(p(y|x)\), using only legitimate features \(x_{l}\). Reasonable, necessary, and proportionate steps must be taken to minimise estimation error and aim for estimation parity (Section 2.3). This may entail model inference, interrogating social biases in the data, and scrutinising the estimated model.
3. _Evaluate statistical disparity_. Given the best model \((y|x)\), assess for conditional statistical parity by examining outcomes across groups with protected characteristics (Section 2.4). If a model's performance improves by including protected attributes, consider: 1. Identify whether conditional statistical parity is unattainable or undesirable based on true group differences. This requires stringent analysis into whether differences stem from prior injustice or legitimate variation. 2. Incorporate further legitimate features \(x_{l}\) that could minimise statistical disparities by "explaining away" the performance gained by the protected attribute with legitimate features. 3. Avoid using the model due to unmitigated discrimination risks.

While these guidelines cannot guarantee lawful automated decisions, they provide meaningful recommendations and abstractions to help identify and mitigate unlawful discrimination risks.

In conclusion, this work bridges a critical gap between the technical aspects of automated decisions and the complexities of anti-discrimination law. By translating these nuanced legal concepts into decision theory, we underscore the importance of accurately modelling true data-generating processes and the innovative concept of estimation parity. This interdisciplinary approach enhances the understanding of automated decision-making and sets a foundation for future research that aligns technological advancements with legal and ethical standards.