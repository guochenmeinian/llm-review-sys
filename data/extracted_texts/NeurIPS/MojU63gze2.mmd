# WildPPG: A Real-World PPG Dataset of Long Continuous Recordings

Manuel Meier, Berken Utku Demirel, and Christian Holz

Department of Computer Science

ETH Zurich, Switzerland

firstname.lastname@inf.ethz.ch

###### Abstract

Reflective photoplethysmography (PPG) has become the default sensing technique in wearable devices to monitor cardiac activity via a person's heart rate (HR). However, PPG-based HR estimates can be substantially impacted by factors such as the wearer's activities, sensor placement and resulting motion artifacts, as well as environmental characteristics such as temperature and ambient light. These and other factors can significantly impact and decrease HR prediction reliability.

In this paper, we show that state-of-the-art HR estimation methods struggle when processing _representative_ data from everyday activities in outdoor environments, likely because they rely on existing datasets that captured controlled conditions. We introduce a novel multimodal dataset and benchmark results for continuous PPG recordings during outdoor activities from 16 participants over 13.5 hours, captured from four wearable sensors, each worn at a different location on the body, totaling 216 hours. Our recordings include accelerometer, temperature, and altitude data, as well as a synchronized Lead I-based electrocardiogram for ground-truth HR references. Participants completed a round trip from Zurich to Jungfraujoch, a tall mountain in Switzerland over the course of one day. The trip included outdoor and indoor activities such as walking, hiking, stair climbing, eating, drinking, and resting at various temperatures and altitudes (up to 3,571 m above sea level) as well as using cars, trains, cable cars, and lifts for transport--all of which impacted participants' physiological dynamics. We also present a novel method that estimates HR values more robustly in such real-world scenarios than existing baselines.

Dataset & code for HR estimation: https://siplab.org/projects/WildPPG

## 1 Introduction

Today's wearable devices such as smartwatches and fitness trackers commonly monitor a person's cardiac health by continuously assessing their heart rate (HR). For estimating this metric, wearable devices predominantly use reflective photoplethysmography (PPG), which has become ubiquitous during ambulatory assessments due to its non-invasive nature and ease of use . The HR measurements devices obtained from real-life conditions can supplement health assessments including exercise intensity, stress, fatigue, or sleep quality .

However, obtaining _reliable HR estimations_ from PPG signals in real-world conditions and during real-world activities is challenging. Several external factors negatively impact accurate estimation, such as motion artifacts  that arise from a person's movements and performed activities , sensor misplacement  or slippage during wear, and environmental conditions that change over time such as low temperatures  or high levels of ambient light . Basic implementations of HR detection have been validated on comparably clean reference datasets, which do not adequately represent the variability and noise introduced by everyday activities and conditions. Even for simpleactivities such as walking and running , recent studies have provided evidence for the resulting detrimental effects on signal quality and, thus, the performance of HR tracking implementations.

To combat the effects of motions and activity on HR detection, prior work has proposed data-driven methods that learn to recover meaningful estimates under noisy conditions, including supervised methods , and rule-based techniques . While these and other methods estimate HR with high accuracy, their robustness to real-world effects is limited by the diversity of the datasets they were trained on. Because existing datasets were dominantly captured in controlled conditions, they may not adequately represent the noisy nature under which today's wearables obtain PPG measurements in daily life and "in the wild."

In this paper, we introduce WildPPG, a novel dataset of reflective PPG measurements from four locations across the wearer's body and reference recordings from an electrode-based Lead-I electrocardiogram (ECG) for HR estimation tasks from everyday activity outside controlled environments. Our dataset comprises continuous and synchronized recordings from 16 participants with an average duration of 13.5 hours during a round-trip to a tall mountain in Europe, including various daytime activities and modes of transport. As shown in Figure 1, our dataset additionally includes the continuous measurements from a 3-axis inertial sensor (accelerometer), barometric altitude sensor, and temperature sensor. Our data collection simultaneously recorded all these signals from four devices across the wearer's body (wrist, ankle, sternum, head), totaling 216 hours of synchronized multi-modal recordings that can enable a wide variety of future analyses.

We also contribute the implementation of multiple baseline methods for HR estimation and evaluate them on our dataset to identify weaknesses. Based on our analysis, we introduce a learning-based method that takes temperature as input in addition to the raw PPG signal and show that its temperature awareness allows it to produce more robust HR estimates.

Collectively, we make the following contributions in this dataset paper:

* a multi-modal real-world dataset of continuous, noisy, and synchronized PPG signals (raw red, green, infrared) from 4 body locations (forehead, sternum, wrist, ankle) and ECG recordings for reference, continuously collected from 16 participants over an average duration of 13.5 hours (minimum duration: 12.3 hours),
* a data collection study that covered everyday outdoor activities outside controlled (laboratory) conditions: During collection, participants completed a round-trip to a mountain station at over 3500 meters above sea level using various modes of transportation (car, train, cable car, elevator) and engaging in various outdoor and indoor activities (walking, hiking, stair climbing, eating, drinking, social interactions, restroom breaks, and resting in varying conditions), including environmental conditions of low and medium temperatures and various degrees of solar radiation,
* an accuracy analysis of baseline methods that estimate HR on WildPPG based on environmental characteristics. We also contribute a learning-based method for HR estimation that takes a raw PPG signal and temperature as input and show that it produces more robust estimates, and

Figure 1: WildPPG comprises multi-modal signals from wearable devices at four sites on the body. Each device continuously recorded synchronized signals from a 3-channel reflective photoplethysmogram (red, green, infrared PPG), 3-axis inertial sensor (accelerometer), temperature, and barometric altitude sensor. For reference, the sternum device continuously recorded a Lead-I electrocardiogram (ECG) from body-mounted gel electrodes to provide ground-truth heart rate (HR) estimates.

* additionally recorded and synchronized modalities in our dataset as the basis for future algorithm developments, including 3-axis inertial measurements (accelerometer), barometric altitude, and temperature data from each of the 4 body locations (some exposed, some covered by clothing).

## 2 Related Work

### PPG Datasets

Monitoring the cardiac activity of people using blood volume pulse signals, i.e., photoplethysmography, has a long history in continuous mobile health monitoring . Robust HR estimation in real-world situations remains challenging due to the noisy nature of the PPG signals . In order to develop, evaluate, and compare novel approaches, publicly available datasets are essential. However, existing public datasets are limited in terms of data size and applicability to wearable devices in real-world scenarios. For example the IEEE Signal Processing Challenge (SPC) 2015 dataset , includes 5-minute PPG recordings from 12 participants while the participants were controlled in the lab environments. This dataset is divided into two sets: a set with less motion artifacts from 12 participants (IEEE SPC12) and a set with heavy motions from 10 participants (IEEE SPC10). The BAMI dataset  was collected from 24 participants and includes resting, walking, and running activities. The experiments consisted of 2 minutes of walking as a warm-up, 3 minutes of running, 2 minutes of walking, 3 minutes of running, and 2 minutes of walking to cool down, all on a treadmill inside lab environments where even the speed was controlled (6.0 to 7.0 km/h). Similarly, the PPGMotion dataset contains walking, running, and cycling activities of 8 participants with an average recording duration of 17 minutes . Meanwhile, the WESAD dataset  consists of approximately 1.6 hours of recordings for each of its 15 participants while they were seated and/or standing in a lab environment. It does not contain any physical activities but includes stress and amusement stimuli as well as meditation. All aforementioned datasets were recorded in controlled indoor conditions.

To record data that is more representative of real-world conditions, i.e., outside of lab environments, the DaLiA dataset  includes not only indoor but also outdoor activities such as cycling, walking, and driving. It contains recordings of 15 participants with a total of 26 hours of PPG data. Although this dataset is the largest among existing datasets, it is approximately eight times smaller than our presented dataset. Moreover, while the activities in DaLiA are controlled outside of lab environments, our experiments were conducted in completely free-living conditions, offering a more realistic representation of everyday activities. In other words, our dataset was collected "in the wild" -- participants were not controlled and were free to move or engage in activities of their choice (within the framework of the experimental protocol) outside of the lab environment. It includes 216 hours of data, making it the largest dataset of its kind while including signals from multiple body locations with multiple wavelengths. Moreover, it is multi-modal. Covering the varying altitude-temperature changes, ensuring comprehensive and complete coverage of real-life conditions. Table 1 qualitatively compares WildPPG with the existing PPG datasets.

  
**Dataset** & **Collection** & **Hours** & **Body-worn** & **Wavelengths** & **Multi-** & **In-the-wild** & **Altitude/Temperature** \\ (**year**) & **methodology** & **(total)** & **locations** & **(PPG)** & **modal** & **dataset** & **changes** \\ 

### HR estimation methods

Numerous efforts have investigated HR estimation from wearable devices using PPG signals during everyday motion and activity , given its crucial role in mobile health monitoring . Most of these studies employed Fourier transformation to observe how the frequency changes over time for estimating HR value . While this approach works for less contaminated PPG signals, motion artifacts hinder the measurement of heart rate in spectral density. As a result, many approaches have been proposed to obtain the heart rate using the power spectral densities of PPG and accelerometer signals to differentiate the frequency of heartbeats from motion artifacts . However, if the dominant frequencies in accelerometer signals overlap with the true heart rate, it becomes challenging to distinguish signals in the frequency domain . In our previous work, we have shown that the combination of PPG signals from multiple body locations  and the use of multiple PPG signals recorded at different wavelengths  improves HR estimations, though motion artifacts often manifest across body locations and affect all PPG sensors. Our previous method BeliefPPG thus explicitly models uncertainties associated with PPG and IMU readings as well as estimated HR distribution, incorporating the statistical distribution of HR changes to refine estimates in a temporal context .

To enhance estimations based solely on PPG signals, recent works have proposed deep learning-based approaches . However, these models lack information about the degree of motion artifacts (MAs), leading to significant errors in heart rate estimation when inputs deviate from the training data distributions . Even methods that combine input from a PPG sensor and an accelerometer struggle to learn the intricate relationship between motion artifacts and blood volume flow signals, resulting in unreliable heart rate predictions . Thus, to address the limitations of existing PPG-based heart rate estimation methods, we introduce WildPPG which includes temperature as an additional modality alongside PPG recordings, resulting in improved heart rate estimation accuracy.

## 3 WildPPG Dataset

The purpose of WildPPG is to enable the development of more reliable PPG-based algorithms that improve the robustness of estimating HR as well as potential other cardiovascular metrics that are of interest on wearable devices such as smartwatches or fitness trackers. Our data recording methodology was designed to capture real-world data under less-than-optimal conditions during representative outdoor activities and everyday conditions. To achieve this, WildPPG contains long and uninterrupted recordings that our apparatus recorded from participants outside controlled environments or procedures. While our primary focus was on recording the signals crucial for HR estimation--PPG time series from a reflective green light-based sensing design across multiple body locations as well as chest ECG-based cardiac activity measurements for reference--our apparatus additionally recorded motion data from an inertial measurement unit at each body site, supplementary PPG signals from red and infrared reflections, as well as temperature readings and barometric altitude measurements throughout the recording for each participant.

Table 1 qualitatively compares our dataset's characteristics with commonly used datasets for HR prediction from blood volume pulse signals. We specifically focus on comparing our dataset with those collected under conditions similar to real-world conditions, where participants moved freely.

Figure 2: WildPPG participants engaged in multiple forms of travel as well as indoor and outdoor activities with changing environmental conditions. No strict study protocol was enforced and participants completed the activities at their own preferred speed.

BIDMC is an exception, as it was collected with critically ill adults (a subset of the MIMIC-II dataset), and we include it because of its use in learning-based HR prediction in previous work (e.g., ). As shown in Table 1, our dataset is \( 8\) bigger than existing datasets for HR prediction and includes multi-modal data collected under real-world conditions. Below, we detail the experimental protocol and the design of our data capture apparatus for WildPPG.

### Dataset Design

#### 3.1.1 Experimental Protocol

Participants gathered in the morning to start the study. An experimenter outfitted each participant with four recording devices and ensured PPG and ECG signal quality (20 min). The participants then took a minivan from Zurich to Grindelwald (140 min) and transitioned to a cable car and train to Jungfraujoch railway station at 3460 m above sea level (80 min). Subsequently, they spent 5 hours in public places in and around the station and engaged in various activities. While the stay at the station included the same main activities for all participants, no strict study protocol was enforced in an effort to capture real-world data while participants completed the activities at their own speed of preference. Participants were encouraged to not constrain themselves due to the study protocol and engage in social interactions, take pictures, buy and consume snacks and beverages, take restroom breaks as needed, or sit down throughout the stay.

As shown in Figure 2, the main activities included walking through the museum and exhibition area including an ice cave with below-freezing temperatures (\( 60\) min), taking a 110-meter-high elevator and walking the remaining stairs up to the observatory and outside viewing platform (\( 60\) min), sitting down for lunch (\( 60\) min), walking through the snow-covered outside area (\( 60\) min), and resting inside (\( 60\) min). Spread out throughout the stay at Jungfraujoch, the participants additionally climbed and descended a set of stairs across four floors at maximum endurable pace on three to four occasions. After the stay at the station, participants took the train and cable car back to Grindelwald (80 min) and returned to Zurich on the minivan (140 min). Upon arrival, the experimenter removed the recording devices from each participant. Throughout the study, participants were instructed to remove the device on the wrist when washing their hands. All other devices were worn continuously.

#### 3.1.2 Sensors

The signals collected in WildPPG were acquired using miniaturized, custom-built low-power wearable devices. As shown in Fig. 3, the devices are encased in a 3D-printed body and have an adjustable, stretchable strap with which they were attached at the forehead, sternum, ankle (supramalleolar), and wrist (dorsal). PPG measurements were obtained using an optical analog front-end at 128 Hz (MAX86141, Analog Devices) that connected to an optical module (SFH7072, ams-OSRAM) with a green (530 nm), a red (660 nm), and an infrared (950 nm) LED as well as a broadband photodiode (410 - 1100 nm), and an infrared-cut photodiode (402 - 694 nm). Green and red PPG were acquired in combination with the infrared-cut photodiode and infrared PPG with the broadband photodiode. Accelerometer data was acquired at a sampling rate of 200 Hz using a MEMS digital motion sensor (LIS2DH, STMicroelectronics). For ground truth, the sternum device additionally collected the Lead I ECG at 128 Hz through a biopotential sensor (MAX30003, Analog Devices) that connected to gel electrodes placed on the chest. Temperature and barometric altitude measurements were collected at a sampling rate of 10 Hz within the device (BME280, Bosch Sensortec).

Raw sensor data was continuously read from the sensors' FIFOs in batches by a System-on-a-Chip (DA14695, Dialog Semi), timestamped, stored in NAND memory (TH58CYG35OHRAIJ, Kiosia Corp.), and downloaded after the recording was completed. Checksums were used to guarantee correct data download. Each device was powered by a CR2032 coin cell battery.

#### 3.1.3 Synchronization

Since proper synchronization between sensors and devices is critical for this dataset, we collected the measurements "as synchronized as possible" on an electronics level and ensured proper trace alignment beyond the timing tolerances of the sensors. The most important measurements for this dataset, PPG and ECG, were triggered by an external clock derived from the real-time clock (RTC) of the System-on-a-Chip and thus perfectly synchronized with the system time of the device. This reduced the sample rate tolerance from \( 2\%\) of the internal sensor clock  by a factor of 100 to the tolerance of the used quartz (ECS-.327-7-16-C-TR, ECS Inc., \( 20\)ppm tolerance ). Temperature and barometric pressure measurements were triggered based on the same RTC and therefore also perfectly synchronized to the PPG and ECG measurements. The accelerometer sampled based on its own internal clock. Deviations in sampling rate due to clock tolerances were corrected in post-processing based on the RTC timestamps of the FIFO readouts of the sensor.

This setup guarantees synchronization for the different sensing modalities acquired by a single device. However, measurements across devices are still participant to clock skew and drift effects - most notably when comparing PPG measurements from the wrist, ankle, and head devices with ground truth ECG measurements acquired on the chest. With the given quartz tolerance, although low, two devices may experience sampling shifts of up to 2 seconds across a 14-hour continuous recording session. Therefore, sensor data across devices was synchronized by aligning recorded signals offline following the approach described by Meier and Holz (33 ms accuracy) .

### Recruitment and Recording

WildPPG's participants were 16 healthy adults, recruited on a voluntary basis without compensation beyond the coverage of all expenses incurred throughout the recording of the data and the visit of the mountain station. 7 female and 9 male participants took part, with ages ranging between 22 and 69 (mean age: 39). All participants' skin tones were within 1-3 on the Fitzpatrick scale . All participants signed a consent form prior to participation. The experimenters conducted the data collection with groups of 3-5 participants, and the protocol was identical for all participant groups.

At the beginning of the recording, participants were introduced to the experimental protocol and the goal of the study. An experimenter was always with the participants throughout the recording. The recording devices worked without requiring user input, operating in a completely passive manner. The apparatus provided no feedback of any sort to participants either.

#### 3.2.1 Risks

Participants were informed about the risk of developing symptoms of Acute Mountain Sickness (AMS) during the visit to Jungfraujoch station due to its altitude. Trains leaving to lower altitudes were available every 30 minutes in case a participant was feeling unwell. Additionally, a professional first aid station is available at Jungfraujoch alongside trained personnel and medical assistance if needed. The study protocol and risk assessment were approved by the ethics committee of ETH Zurich (EK 2022-N-44).

Figure 3: The wearable devices used for the data recording were custom-built and are centered around a SoC to read and store all synchronized sensor data in on-board flash memory. (a) Devices were powered by a CR2032 coin cell batteries (runtime: 18 hours) inside a 3D-printed case with (b) a flexible and adjustable strap. (c) The sternum unit additionally connected to 3 gel-electrodes to obtain a continuous ECG recording for reference.

### Dataset Composition

Participants' recordings are limited to the time they actually wore the sensor devices. PPG and ECG recordings are available as continuous recordings of raw sensor data. Accelerometer recordings were downsampled and synchronized to match the 128 Hz of the PPG and ECG signals. Device temperature measurements were averaged with an 8-second sliding window (2-second step size). The conversion from barometric pressure measurements to altitude above sea level was calculated following the conversion formula in the sensor's datasheet and a normed barometric pressure measurement from the same day acquired by a weather station at Jungfraujoch station run by the Swiss Federal Office of Meteorology and Climatology . Barometric altitude measurements were averaged across all 4 devices worn by a participant and averaged with an 8-second sliding window and 2-second step size. Overall, WildPPG contains 216 hours of synchronized recordings. Accounting for the four separate device locations, this corresponds to 864 hours of PPG recordings at 3 different wavelengths. An overview of all captured data is shown in Table 2.

#### 3.3.1 Ground Truth

As manual annotation of a dataset of this size is impractical and unreliable, the dataset contains Lead I-based ECG recordings for ground truth reference. For baseline analysis, we detected R-peaks in the ECG signal, using Pan-Tompkins . To reduce the risk of corrupt ground truth values, peaks with inter-beat intervals (IBI) corresponding to HR values greater than 185 bpm or less than 35 bpm were removed, and for HR calculation, only IBIs that were part of a sequence of 4 IBIs for which \(IBI_{min}/IBI_{max}<0.75\) were considered. In data windows with less than two remaining IBI, no ground truth HR is computed and the window is omitted from baseline methods. Across the whole dataset, this applies to 2640 8-second windows (2.7% of total) mainly due to three participants with partially noisy ECG recordings which are responsible for 2164 of the rejected windows.

## 4 Baselines

We computed 6 heuristic and 5 supervised baseline algorithms as well as our own method on WildPPG. To improve comparability, all baselines were computed on data recorded by wrist-worn devices. All results are shown in Table 3 and the methods are described in more detail in the following two subsections.

### Heuristic Methods

MSPTD is a peak detection method suited for PPG signals that computes a local maxima scalogram (LMS), a matrix that contains information about local maxima computed at different scales by comparing samples to neighbors at varying distances in the signal. The concept was first published by Scholkmann et al  and expanded upon by Bishop and Ercole by combining maxima detection with minima detection and improvements in algorithm efficiency . The algorithm does not require any parameter tuning and works for any periodic or quasi-periodic signal. qppg is another peak detection algorithm built specifically for PPG signals and works by integrating the positive slope

**Time Series** & **Description** & **depth** & **fps** & **head** & **sternum** & **wrist** & **ankle** \\  ppg\_g & Green PPG & 19 & 128 & \(\) & \(\) & \(\) & \(\) \\ ppg\_ir & Infrared PPG & 19 & 128 & \(\) & \(\) & \(\) & \(\) \\ ppg\_r & Red PPG & 19 & 128 & \(\) & \(\) & \(\) & \(\) \\ ecg & Lead I ECG & 18 & 128 & & \(\) & & \\ accel\_x & Accelerometer X-axis & 10 & 128 & \(\) & \(\) & \(\) & \(\) \\ accel\_y & Accelerometer Y-axis & 10 & 128 & \(\) & \(\) & \(\) & \(\) \\ accel\_z & Accelerometer Z-axis & 10 & 128 & \(\) & \(\) & \(\) & \(\) \\ altitude & Barometric altitude & 23 & 0.5 & \(\) & \(\) & \(\) & \(\) \\ temp & Temperature (inside case) & 16 & 0.5 & \(\) & \(\) & \(\) & \(\) \\  

Table 2: The synchronized time series captured in WildPPG.

[MISSING_PAGE_FAIL:8]

representations and fed to the final linear layer for HR estimation. The architecture of Temp-ResNet is shown in Figure 4.

## 5 Limitations

Regarding skin pigmentation, all participants were within 1-3 on the Fitzpatrick scale, and no participants rated themselves 4-6 (darker skin tones). Considering the more challenging nature of PPG measurements among people with darker skin tones , it will be important to broaden data collection in future efforts. More generally, including 16 participants is a limitation of our dataset, and including more would allow covering as many participant-specific effects as possible. Lastly, as described in Section 3.3.1, 2.7% of the total dataset is affected by noisy ground truth measurements.

## 6 Ethical Considerations

Working with real-world physiological and activity data from humans requires ethical considerations. All participants were informed regarding safety and privacy both verbally and in writing. They signed a consent form that they received prior to the study for careful reading. No personal information is released with the dataset, the data is fully anonymous and does not contain personally identifiable information or offensive content. To the best of our knowledge, no potential harm or malicious use is possible using the WildPPG dataset and the provided methods. The study was approved by the ethics committee of ETH Zurich.

## 7 Conclusion

We have presented WildPPG, a real-world dataset of long and continuous multimodal motion and physiology recordings for PPG-based HR analysis. Our experimental protocol included a wide variety of activities and environmental conditions including indoor and outdoor activities at different ambient temperatures, altitude levels, and light conditions. Participants moved, acted, and interacted naturally throughout the day and recording without being bound to a strict study procedure--for the purpose of capturing representative data that resembles the measurements taken by wearable devices in _everyday_ use. Besides PPG measurements at the three common red, green, and infrared wavelengths and ECG ground-truth references, WildPPG includes acceleration, temperature, and barometric altitude measurements to suit a wide range of analysis methods and tasks. Our study recorded and synchronized measurements from multiple body locations to support exploring future estimation techniques that exceed the analysis of signals from wrist-worn devices most common on smartwatches today and to capture cardiac activity more holistically and robustly in the future.

To the best of our knowledge, WildPPG is the largest available dataset of its kind and can enable learning pipelines that benefit from longer time series during training, additional modalities, and real-world data ("in the wild"). Beyond the dataset, WildPPG includes a range of baseline algorithms--heuristic as well as supervised--and our novel method that leverages temperature readings for improved HR estimation. These methods can serve as a starting point for future work and benchmarks

Figure 4: Architecture of Temp-ResNet. The ResNet includes batch normalization and ReLU activations after each convolution.

and our intention is to enable future work to better tailor methods to real-world situations and applications in less-than-optimal conditions. This could include multi-modal processing or analyses of additional cardiovascular metrics that are of interest in wearable devices.