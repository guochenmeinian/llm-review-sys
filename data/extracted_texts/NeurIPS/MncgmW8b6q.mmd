# Unsupervised Discovery of Formulas for Mathematical Constants

Michael Shalyt

Uri Seligmann

Equal contribution.

Rotem Elimelech

Ido Kaminer

Technion - Israel Institute of Technology, Haifa 3200003, Israel

shalyt@technion.ac.il, uri.seligmann@gmail.com

itaybe@campus.technion.ac.il, eofirdavid@gmail.com

rotem.eli@campus.technion.ac.il, kaminer@technion.ac.il

Iday Beit Halachmi

Ofir David

Rotem Elimelech

Ido Kaminer

Technion - Israel Institute of Technology, Haifa 3200003, Israel

shalyt@technion.ac.il, uri.seligmann@gmail.com

itaybe@campus.technion.ac.il, eofirdavid@gmail.com

rotem.eli@campus.technion.ac.il, kaminer@technion.ac.il

###### Abstract

Ongoing efforts that span over decades show a rise of AI methods for accelerating scientific discovery , yet accelerating discovery in mathematics remains a persistent challenge for AI. Specifically, AI methods were not effective in creation of formulas for mathematical constants because each such formula must be correct for infinite digits of precision, with "near-true" formulas providing no insight toward the correct ones. Consequently, formula discovery lacks a clear distance metric needed to guide automated discovery in this realm. In this work, we propose a systematic methodology for categorization, characterization, and pattern identification of such formulas. The key to our methodology is introducing metrics based on the convergence dynamics of the formulas, rather than on the numerical value of the formula. These metrics enable the first automated clustering of mathematical formulas. We demonstrate this methodology on Polynomial Continued Fraction formulas, which are ubiquitous in their intrinsic connections to mathematical constants , and generalize many mathematical functions and structures. We test our methodology on a set of 1,768,900 such formulas, identifying many known formulas for mathematical constants, and discover previously unknown formulas for \(\), \((2)\), Gauss', and Lemniscate's constants. The uncovered patterns enable a direct generalization of individual formulas to infinite families, unveiling rich mathematical structures. This success paves the way towards a generative model that creates formulas fulfilling specified mathematical properties, accelerating the rate of discovery of useful formulas.

## 2 Introduction

Historically, formulas of mathematical constants were a symbol of aesthetics and beauty. Continued fraction formulas such as those for the golden ratio \(\) and for \((x)\)

\[1+}}}}= }{3-}{5-}}}=(x)\] (1)

enable calculating infinitely many digits for these constants. Discovering such formulas often leads to profound revelations regarding the properties and underlying structure of fundamental constants. For example, the continued fraction formula for \((x)\), shown in Eq. 1, was used by Johann Heinrich Lambert in the first proof of the irrationality of Pi . Unfortunately, such formulas are notoriously hard to find on-demand, often relying on a mathematician's profound intuition. Part of the challenge is the lack of a well-defined 'distance', or ametric, between a formula and a given constant. i.e., there is no known way to tell whether a formula is nearly accurate. The formula either works, or it does not. In other fields of science, a prediction accurate to 1000 digits is precise enough for any practical need. However, in mathematics, if the 1001st digit is wrong, the formula is incorrect and gives no insight regarding a correct formula. This lack of a metric is a substantial hurdle both for human efforts and for automated analysis, as many methods for optimization such as gradient descent become unsuitable.

Recent efforts developed computer algorithms to discover a multitude of formula hypotheses for mathematical constants (Raayoni et al., 2021), even implementing the first large-scale distributed computation for such discoveries (Eilmelech et al., 2023), but they relied mostly on exhaustive search methods. These approaches complements earlier applications of algorithms for automated theorem proving (ATP) (such as computer proofs of hypergeometric identities (Petkovsek et al., 1996), Malarea (Urban, 2007), and Flyspeck (Kaliszyk and Urban, 2012)), and automated conjecture generation (ACG) (such as mechanical mathematics (Wang, 1960), the Automated Mathematician (Lenat, 1982), EURISKO (Lenat and Brown, 1984, Davis and Lenat, 1982), and Graffiti (Fajtlowicz, 1988)).

Here we propose a fundamentally new methodology for automated investigation and discovery of formulas for mathematical constants. We constructed a large dataset of continued fractions, and enriched it with metrics based on their convergence dynamics, which are found to embody fundamental information about each continued fraction. These dynamical metrics enable the identification and generalization of patterns within the dataset. Using the metrics, we develop a process of categorization and clustering (Fig. 1) of continued fractions that share similar values of their dynamical metrics. Analyzing each automatically identified cluster of formulas, we find that all its members often relate to the same mathematical constant, showing the value of the dynamical metrics for the discovery of new formulas and the internal structure of families of such formulas. This novel method of formula discovery allowed us to identify both previously known and completely new formulas for constants such as \(\), \((2)\), \((1)\), the golden ratio, square roots of multiple integers, the Gauss constant, and the Lemniscate constant.

Figure 1: **Systematic clustering and labeling of formulas by dynamical metrics.** Our methodology analyzes Polynomial Continued Fractions (PCFs) in two main stages. **Clustering**: (a) Filter degenerate PCFs. (b) Evaluate PCFs and extract their dynamics-based metrics (section 3). (c) Choose the best few metrics and use them to cluster the data. **Labeling**: In every cluster, look for PCFs known in the literature and use them as anchors. (d) If anchors are found in the cluster, validate that they do not contradict, i.e., relate to different constants. (d.1) If all anchors are in agreement, choose a random subset of other points in the cluster and use PSLQ to validate that they also relate to the same constant. If the validation is successful, the cluster is labeled. If not, the cluster should be split. (d.2) If the anchors relate to different constants, the cluster should be split – return to step c for finer clustering of the data. When focusing on a specific cluster, the best metrics could be different than those for the full dataset. (e) If no anchor is found in a certain cluster, attempt to label by (e.1) choosing a small subset of PCFs in the cluster and running a PSLQ search for each of them against a large set of potential constants. If a connection is found, the cluster now has an anchor – return to step d. (e.2) If an anchor is still not found, attempt to connect a sample of data points within the cluster using PSLQ. If successful, conclude that the cluster is correct, but has no identified constant. Define a new label for that cluster. If PSLQ failed to connect points within the cluster, return to step c for finer clustering. If no further refinement is appropriate, flag the cluster for further analytical investigation.

As part of our analysis of metrics of continued fractions, we developed and applied the most complete classification of polynomial continued fractions known to date, detailed in Appendix B. This classification includes the prediction of whether the continued fraction converges directly based on its defining polynomials.

Traditional clustering methods attempt to relate data points by calculating distance metrics based on the parameters of these data points, e.g., the coefficients of the defining polynomials. The most common approaches (like SVM) rely on linear classification, while more advanced methods rely on non-linear kernel transformations - but usually use various functions calculated directly on the data parameters. In our dataset, each point is a continued fraction formula defined by the polynomials used to construct it. However, we find that it is not sufficient to use the parameters of the polynomials, and not even the numerical limit of the continued fraction. Instead, we find that it is the _dynamics_ of the continued fraction generated by these polynomials, rather than any direct function on their coefficients, which provides the most useful metrics for analysis. In other words, we find that the useful underlying metrics to extract from each data point are embedded within the intricate progression of the sequence created by the formula, rather than the explicit numerical value (limit) of that formula, or the coefficients defining it. Thus, in order to assess the distance between two polynomial continued fractions, and identify relations between such formulas, it is imperative to characterize the nuanced behavior of their sequences, analyzing trends in the convergence process of these sequences, spanning over numerous terms.

Some of the metrics we extract, such as the irrationality measure, are well-known in the mathematical community, yet were never considered for a large-scale classification effort. The evaluation of the irrationality measure is technically challenging for formulas whose limit is not known in advance (which is the vast majority). This challenge made it impossible to extract the irrationality of formulas for a large dataset. Consequently, we develop a new algorithm - the Blind-\(\) algorithm (Section 3.4) - to enable the extraction of the irrationality measure of a continued fraction without prior knowledge of its limit. This algorithm allowed us to extract the irrationality measure for the entire dataset.

These advances provide the building blocks for our novel methodology for formula discovery. We cluster formulas by their 'closeness' to other formulas according to these new metrics, thus identifying promising formulas regardless of their numerical value (Fig. 1left). Once a candidate formula is found, we numerically validate it by calculating its value to a large precision and then identifying its relation to a mathematical constant. The "generate \(\) validate" approach is inspired by works in AI-driven code generation (Ridnik et al., 2024) and problem solving in geometry (Trinh et al., 2024).

## 3 Methodology for Data-Driven Discovery

### Definitions

#### Polynomial Continued Fractions

In this work we chose to focus on polynomial continued fraction (PCF) formulas as our test case due to the combination of their simplicity and expressive power. PCFs relate to a wide range of mathematical fields, represent a variety of constants, are equivalent to infinite sums (Euler, 1748), and cover mathematical functions such as Bessel functions, trigonometric functions, integral families, widely used Taylor series, and generalized hypergeometric functions (Cuyt et al., 2008). Thus, studying PCFs can provide insight into a plethora of mathematical objects and applications.

A PCF at depth \(n\) is defined as:

\[a_{0}+}{a_{1}+}{+}{a_{n}}}}=}{q_{n}},\] (2)

where \(a_{n}=a(n)\) and \(b_{n}=b(n)\) are evaluations of polynomials with integer coefficients. The PCF value is the limit \(L=_{n}}{q_{n}}\) (when it exists). The converging sequence of rational numbers \(}{q_{n}}\) provides an approximation of \(L\), which is known as a Diophantine approximation.

_The Irrationality Measure of a Number_While irrational numbers cannot be expressed using a simple quotient of integers, they can be approximated by them. Moreover, some approximations are "better" than others, and one way to evaluate their quality is by a quantity called the irrationality measure (Hardy et al., 1979).

We define the _irrationality measure of a sequence_\(}{q_{n}} L\) as the limit \(_{n}\), with

\[_{n}=}{q_{n}}|}{|_{n}|}- 1,_{n}=}{(p_{n},q_{n})}\] (3)

For every \(L\), the _irrationality measure of \(L\)_ is defined as the supremum of all possible \(\) for which there is a sequence of distinct rational numbers \(}{q_{n}} L\); \(}{q_{n}} L\) that satisfies

\[|L-}{q_{n}}|<^{1+}}.\] (4)

It is known that for irrational numbers this measure is \( 1\) (Dirichlet theorem for Diophantine approximations), and for rationals it is \(0\).

Note that the irrationality measure of \(L\) is greater or equal to the irrationality measure of any specific sequence converging to the same \(L\). While the irrationality measure of a sequence can be any number \(\) -1, the irrationality measure of its limit \(L\) is always either 0 or \(\) 1 (Church, 2019).

### \(\)-Predictor Formula

The classification of a large number of continued fraction formulas requires an efficient and accurate calculation of the irrationality measure \(\) for each formula. This calculation is challenging because it depends on the asymptotic behavior of the converging sequence, and because \(\) appears as an exponent of a large basis number. The \(\)-Predictor formula that we present here provides a way around this challenge - requiring no specific knowledge about the convergence rate and trajectory, or even about the sequence limit itself:

\[_{}=_{n}(n)}{_{2}(n)}|}{|_{n}|}-1\] (5)

where \(_{1}(n)\) and \(_{2}(n)\) are the eigenvalues of the matrix \(0&b_{n}\\ 1&a_{n}\), \(|_{1}(n)|>|_{2}(n)|\).

This formula extends a hypothesis made in a previous work (David et al., 2021), which was limited to PCFs with \((B)=2(A)\) and with a \(_{n}\) that grows exponentially. As we found in this work, Eq.5 works for any converging PCF. It was validated numerically and proven for the \((B)=2(A)\) case in Appendix F. This formula helps estimate the irrationality measure, a critical dynamical metric for our work. Specifically, the asymptotic behavior of \(_{n}\) and \(}}{{_{2}}}\) are still required for finding \(_{}\), but they are usually easier to derive.

### Discovery of Formulas by Unsupervised Learning

Each PCF formula is defined by the polynomials that generate it. This work focuses on polynomials up to 2nd degree: \(a_{n}=A_{2}n^{2}+A_{1}n+A_{0}\), \(b_{n}=B_{2}n^{2}+B_{1}n+B_{0}\), with integer coefficients in the domain \(-5 A_{i} 5\), \(-5 B_{i} 5\). We removed the \(a=0\) and \(b=0\) cases, as they break the PCF structure, leaving us with 1,768,900 formulas. Some of these PCFs do not converge to a single limit, rendering their measured metrics meaningless (see Appendix B for the classification method we developed to predict PCF convergence). We filtered out all formulas that do not converge, providing the final filtered dataset of 1,543,926 formulas.

The conventional classification of the PCFs is by the coefficients of their polynomials \(a_{n},b_{n}\), \((A_{2},A_{1},A_{0},B_{2},B_{1},B_{0})\), and by their numerical limit \(L\), which we evaluate here at depth \(n=2000\).

Going beyond these conventional classification, our methodology relies on dynamics-based metrics calculated for each formula:

* The irrationality measure: for each PCF, we calculate \(_{}\) (Eq.5) and compute \(\) directly using the Blind-\(\) algorithm (presented in section 3.4) at depth \(n=1000\). Fig.2a presents example \(\) evaluations.

* The convergence rate dynamics, comprised of three parameters: for each PCF, we fit the approximation error \((n):=|}{q_{n}}-L|\), which scales as \((n) n!^{} e^{ n} n^{}\) for large \(n\). We store the fitted \(\) (factorial coefficient), \(\) (exponential coefficient), and \(\) (polynomial coefficient). The process is detailed in Appendix A.
* The growth rate of \(_{n}\), comprised of three parameters: For each PCF, we fit the denominator to \(_{n} n!^{^{}} e^{^{}n} n^{^ {}}\) for large \(n\). We store the fitted parameters \(^{},^{},^{}\).

Based on this set of metrics, we applied unsupervised clustering for unlabeled data (using the hierarchical density-based HDBSCAN algorithm (McInnes et al., 2017)). The clustering is the key component in the algorithm we developed (Fig.1), leading to the discovery of a variety of formulas and data patterns that exposed formula families (see sections 4.1, 4.2, 4.3, and 4.4 for selected results).

### The Blind-\(\) Algorithm

The irrationality measure \(\) of a PCF is of mathematical interest, and (as we will see in section 4) is a powerful dynamical metric. Unfortunately, evaluating \(\) using Eq.3 requires knowing the series limit \(L\), making its estimation for a large set of unlabeled PCFs impractical.

The Blind-\(\) algorithm was created in order to circumvent this limitation. Instead of inspecting the convergence behavior of \(}{q_{n}} L\), we inspect the convergence behavior of \(}{q_{n}}}{q_{m}}\) for specific

Figure 2: **Dynamics-based metrics for formulas of mathematical constants.** Analysing the convergence of polynomial continued fraction (PCF) formulas provide _dynamical metrics_ that prove useful for their automated clustering and identification. (a) Irrationality measure \(\) vs. PCF depth, for two example formulas of the constants \((1)\) and the Silver Ratio. The \(\) of these constants is known to be \(1\) (green dashed lines). The blue dots show the numerical convergence of \(\) (Eq.3) to the correct value. The red dots show the evaluated \(\)-Predictor formula (Eq.5), following the numerical \(\) very closely in the Silver Ratio formula, while taking a completely different (and much slower) trajectory in the \((1)\) formula; yet both converge to the correct value \(=1\). For the purposes of clustering, \(_{}\) was evaluated at \(n=10^{6}\), providing an accurate estimation for \(\). (b) \(_{n}\) (\(n=1000\)) vs. the limit value for PCFs in our dataset. While \(\) values seem to follow a pattern, the limit value distribution does not contain relevant information (the higher density of PCFs near the Y axis arises from the small coefficients of the polynomials in our dataset). Our dataset contains \(913,056\) irrationality-proving formulas, most of which are not yet linked to any known constant. (c) Exponential growth coefficients of \(_{n}\) and of \((n)\) for PCFs with \((B)=2(A)\). Note the surprising “band-structures” that this view reveals. A few of the clusters have been identified, but the reason for the appearance of these “bands” and the properties of most clusters remain as open questions. (d) Example PCFs in the dataset that converge to a value close to the constant \((1)\) (\( 10^{-5}\)) and yet are not related to it, showcasing the challenge of mathematical formula discovery. For visual clarity, error bars not shown. See Appendix A for a discussion regarding measurement errors.

\(m>n\). Given a rational approximation \(}{q_{n}} L\), we approximate the error rate \((n)\) with

\[|}{q_{n}}-}{q_{m}}|=(n)|1- |.\]

If \(0<s<|1-|<S\) is bounded away from zero and infinity for all \(n\) large enough, then the approximation of the Blind-\(\) algorithm has the same convergence rate as Eq.3, bypassing the need to evaluate \(L\). Intuitively, this condition holds whenever \(|(n)| 0\) fast enough, which is true for the vast majority of PCFs (see Appendix F for details).

Note that \(m\) has to grow with \(n\). In practice, our implementation of the algorithm in this work uses \(m=2n\), so in order to study \(\) up to \(n=1000\), we use \(m=2000\).

### Choice of Metrics for Clustering

As part of the automated formula discovery flow we choose the best metric (for each step), in terms of representation power, which is measured by applying the Davies-Bouldin Index (Davies and Bouldin, 1979) on clustering using each metric individually. Table 1 shows results for a randomly chosen sample of 25K converging PCFs. Note the extremely poor performance of the PCF limit \(L\), in agreement with Fig.2b,d. This dimensionality reduction is important for efficiency during the clustering step and for better explainability. The former is because the dataset size grows exponentially with the PCF degree and with the magnitude of the polynomial coefficients.

Other metrics were tested. Some have been shown to have little to no representation power (e.g. \(p_{n}\) and \(q_{n}\), as defined in Eq.2, modulo various primes, their sign, their GCD etc.) while others show potential and are left for future study (e.g. the leading Fourier coefficients of the "noise" around the fit of \(_{n}\)). A relatively small number of metrics were measured and used, which helped keep the results mathematically explainable. Nevertheless, the clustering using the metrics in Table 1 showcases the strength of our dynamical metrics approach.

## 4 Results

### Discovered Formulas for Mathematical Constants

The first step in validating the dynamical metrics approach is using basic heuristics on the metric space to find PCFs related to mathematical constants. There are some PCFs in the dataset that have a known irrational limit (like the examples in Eq.1 and the PCF family

\[}=+4B}}\]

for constant \(A\) and \(B\)), so we expected to find some of them. Through this test, we also found _previously unknown_ PCF formulas related to mathematical constants. Note that known mathematical formulas are both the anchors for labeling and a test set in our method.

A natural heuristic is inspecting PCFs with \( 1\), marking their limits as irrational. Another heuristic we used is focusing on PCFs with \(^{} 0\), as it was a very strong indicator for mathematical constant

  Metric &  \\  Limit \(L\) &  \\  Irrationality measure \(\) &  \\  Reduced denominator \(_{n}\) growth factors & Exponential coefficient \(^{}\) & 0.51 \\  \(_{n} n!^{^{}} e^{^{}n} n^{^ {}}\) & Factorial coefficient \(^{}\) & 0.13 \\  Error rate \(|e(n)|\) growth factors \(|e(n)| n!^{} e^{ n} n^{}\) & Exponential coefficient \(\) & 14.83 \\   \(n!^{} e^{ n} n^{}\) & Factorial coefficient \(\) & 0.77 \\  

Table 1: Comparison of the representation power of the main dynamical metrics (lower is better). \(\), \(^{}\) and \((A_{2},A_{1},A_{0},B_{2},B_{1},B_{0})\) provide little value for the initial clustering and are not shown.

formulas in a previous work [Elimlelech et al., 2023]. Combining the two gives a subset (see Fig.3a top left) that contains PCFs such as:

\[5+-5n}{5n+5+}}=2+-3+}=-3}\] (6)

Removing the limitation on \(_{n}\) growth rate, one can find the \((1)\) formula shown in Fig.2a:

\[1+}=(1)\] (7)

On the other hand, relaxing the limitation on \(\), focusing only on \(^{} 0\), a rich structure emerges (Fig.3b). Diving deeper into the B-dominated subset, we find formulas (Fig.3c) for the Gauss constant \(G_{GA}\)[Finch, 2003]:

\[4++2n}{4+}}=}{4G_{GA}-3}  4++2n-2}{4+}}=-1}{3G_{GA}-2}\] (8)

Lemniscate constant \(L_{Lemniscate}\)[Finch, 2003]:

Figure 3: **Discovery of mathematical structures via analysis of dynamical metrics of formulas.** (a) Projecting the data on the \(\) vs. \(^{}\) (\(_{n}\) factorial coefficient) plane, it is easy to see the emerging subsets. We focus on PCFs with \(^{} 0\), as a previous work [Elimlelech et al., 2023] indicated this as an important property. (b) Clustering in the \(\) vs. \(^{}\) (\(_{n}\) exponential coefficient) plane shows examples of common properties within a cluster, like rationality or convergence to a specific constant (up to a linear fractional transformation). Focusing further on the \((B)>2(A)\) cluster (as it is a clear anomaly in the \(^{} 0\) subset), we used a PSLQ algorithm to identify links between these formulas and mathematical constants. This identification was feasible since a preliminary step identified a promising subset \( 5,000\) times smaller than the initial dataset. (c) The result of this clustering and identification procedure is a structured arrangement of formulas that reveal a range of novel formulas related to constants such as \(\), \((2)\), \(\), Gauss’ constant, and Lemniscate’s constant. (d) Keeping only PCFs with \(B_{2}=1\) we are left with a highly symmetrical “checkerboard pattern” of formulas for \(\) and \((2)\), which was generalized into infinite formula families hypotheses (see section 4.3). Error bars not shown for visual clarity, see Appendix A for a discussion regarding measurement errors.

\[4+-2n}{4+}}=-4}\] (9)

As well as for second order roots, \(\) and \((2)\) (see section 4.3). Note that unlike the formulas in Eq.6 and Eq.7, which are analytically proven, the formulas in Eq.8 and Eq.9 are (to the best of the authors' knowledge) _novel_. Their limits were numerically validated to a large precision, yet formal proofs for these formula hypotheses remain an open challenge.

It should be noted that usually in number theory, a bigger \(\) is considered "good", whereas a smaller (often negative) \(\) is considered "bad". We use \(\) as a metric, without "judgment". These novel formulas (Eq.8, Eq.9 and the infinite family of formulas shown in section 4.3), which have the "bad" \(-1\), are a demonstration that our "non-judgmental" approach is successful.

### Clustering in Dynamics-Based Metric Latent Space

This section shows that clusters in the latent space of dynamics-based metrics are successful in grouping together different formulas in a way that exposes their shared properties, such as the mathematical constant to which they relate.

Looking at the top left cluster in Fig.3b (defined by \(_{n}\) exponential coefficient \(<0.6\) and \(>0.9\)), we recognize the canonical form of the golden ratio PCF (shown in Eq.1). This cluster also contains 21 additional PCFs, with different generating polynomials, some of higher degree. As it turns out, all of them are linear fractional transformations of \(\) (see Appendix C), which were labeled automatically by the formula discovery algorithm (Fig.1). Another example of property conservation within clusters is the rational cluster marked in green on Fig.3b. The limits of the PCFs in this subset are varied, and its spread is real (i.e., not only due to numerical imperfections). Yet, all the PCFs in this cluster converge to rationals - which is not directly measured by any of the latent space dimensions.

Fig.4 showcases a collection of clusters with shared properties. Using a set of 126 (mathematically unique) known anchor formulas, _441 novel mathematical formula hypotheses were automatically

Figure 4: **Automated Formula Discovery Results:** Showcasing the automated clustering and labeling of PCFs using a set of 126 known anchor formulas, connected to constants such as \(,e,e^{2}\), \(C_{CF}\) (the continued fraction constant), the golden ratio \(,,\), and \(\). The clustering is visualized here via the 2 leading PCA components, revealing _441 novel, automatically discovered, mathematical formula hypotheses_. For visual clarity, error bars are not shown. See Appendix A for a discussion regarding measurement errors. See Appendix E for additional visualizations.

_discovered_. The constants which are related to the most new conjectures are: \(e^{2}\) (28 anchor formulas gave 178 new conjectures), \(\) (39 anchor formulas gave 116 new conjectures), \(e\) (44 anchor formulas gave 80 new conjectures), and \(\) (1 anchor formula gave 55 new conjectures). Some of the novel formulas are equivalent to known PCFs (see Appendix C for a discussion about equivalence) while other formulas were analytically proven (see Appendix A.3 and Appendix G).

Note the multi-anchor clusters of \(e\) and \(e^{2}\), as well as the algebraic roots: these clusters failed to single out a specific constant, yet relate to constants of similar nature - suggesting meaningful clustering nevertheless. For the sake of visualization the algorithm stopped after the second iteration. In a standard run these multi-anchor clusters would have been separated via additional metrics.

### Detecting Patterns and Underlying Structure

As mentioned in section 4.1, the \((B)>2(A)\), \(^{} 0\) cluster, contains many formulas of interest (see Fig.3c and d). They were discovered via a PSLQ algorithm, identifying linear fractional relations between the limit values of PCFs in the subset and notable mathematical constants (such as \(\) or \(e\)). This is a computationally heavy operation, and it would be challenging to run it on all 1.5M formulas in the data set. Yet by first identifying the promising clusters, we reduce the search space \( 5,000\) times, allowing for a deeper inspection of each PCF.

Once the "checkerboard" pattern in Fig.3d was discovered, the hypothesis was expanded into 2 infinite families of PCFs with sub-exponential convergence relating to \(\) and \((2)\):

* \(a_{n}=i+2j+1,b_{n}=n^{2}+(i+k)n\), with integers \(i,j 0\), and \(k\{0,1\}\). This is expected to be related to \(\) if \(k=1\), and to \((2)\) if \(k=0\) (in fact, this pattern can be generalized even further, into a novel 3-dimensional Conservative Matrix Field, provided in Appendix C. See  for the definition of Conservative Matrix Fields).

Another formula family was discovered via clustering in the \(\) vs. \(^{}\) space. The algebraic roots subset (marked by a green circle in Fig.2c) was generalized into:

* \(a_{n}=-2n+j-1,b_{n}=-n^{2}+jn+k\) for integer \(j,k\) such that \(b_{n}\) has real roots that are not positive integers. This is expected to converge to a root of \(b_{n}\).

These are novel experimental results and mathematical hypotheses - awaiting proof.

### Higher Degree PCF Identification

Figure 5: Higher-degree PCF formulas for mathematical constants, overlaid on Fig.3b. Formulas that are equivalent to an existing element in the original dataset are marked with “o”, while “x” marks truly novel formulas. _The higher-degree PCFs fit, using the same dynamical metrics, into clusters trained on lower-degree PCFs, showing the ability to identify novel formulas despite being of mathematical forms not seen during training_.

The final validation for the dynamical metrics approach is to show its potential even on test sets of a different mathematical structure than the training set. For that purpose, the clusters created based on the original dataset were treated as a classifier, and a test set of higher-degree PCFs (up to 3\({}^{}\) degree \(A_{n}\) and 4\({}^{}\) degree \(B_{n}\), coefficient range [-2,2]) was created, measured and classified.

Naturally, not all high-degree PCFs fit neatly into the existing clusters (as they represent constants that were not present in the original dataset), but some were correctly identified and labeled, discovering novel formulas in the process (see Fig.5 for a sample of the results).

## 5 Discussion and Outlook

This work marks an important step toward the vision of automated on-demand formula creation in mathematics. Going beyond all previous algorithms in this field, we connect the challenge of formula creation to robust ML methods. This methodology provides a wide variety of automatically generated formulas, including both previously known and previously unknown ones, exposing their underlying mathematical structure and enabling new proofs.

The next research step directly building on our methodology could help to finally reveal the complete intricate mathematical structure of PCFs. For example, starting with the "band-structure" found in Fig.2c, or with clusters of formulas with various structures representing the same mathematical constant. Further exploration of our conjectures from section 4 could have more impact on mathematics, perhaps achieving further generalizations and prescriptive formula generation.

The technique presented here can be applied to a larger scope of continued fractions and for completely different types of formulas. For more general continued fractions, dynamical metrics such as the numerical trajectories and the corresponding sequences of \(\) (in addition to its asymptotic value) hold valuable information even in continued fractions that do not converge at all. We expect these dynamical metrics to provide a "fingerprint" for wider families of formulas and perhaps even for the mathematical constants themselves. This approach was directly applied in this work to higher polynomial degrees, larger polynomial coefficients, and can be expanded to continued fractions not based on polynomials. Looking beyond continued fractions, metrics that are derived from the dynamics of a numerical calculation of certain formulas are an especially good fit for automated computer-assisted investigations. Such metrics can be measured for a variety of mathematical structures, including ones whose evaluation is iterative or recursive, that are defined via an infinite sum, or any other process which produces rational approximants. Any such mathematical structure can be measured, clustered, and identified using the proposed method - treating the generating functions as a black box. We believe that such dynamical metrics can unveil patterns and underlying structures in broad fields of mathematics and in other areas of science.

To exemplify this universal concept, we looked into higher depth recursion relations, which are a promising research direction because little is known about their global structure, yet they are involved in several important conjectures. For example, the best rational approximation formula known for Euler's gamma constant is constructed via such a recursion relation [Aptekarev, 2009]. This family of formulas is broader than continued fractions, yet they can be described by the same metrics as PCFs. Another type of mathematical structure successfully analyzed using the same method is hypergeometric functions, showing the applicability of our measurement-clustering-generation approach to a bigger family of mathematical functions. This generalization can be useful in a wide variety of contexts, such as investigations of integral formulas (e.g., Beukers-type integrals [Beukers, 1979, Dougherty-Bliss et al., 2022, Brown and Zudilin, 2022]).

Our work was based on a limited-size dataset and on a small set of metrics. It would be intriguing to test the extracted conjectures on larger datasets, which can help reveal additional, more intricate, phenomena. Considering the success we had using a relatively small set of metrics, we would like to use an order-of-magnitude larger set of metrics and find what new predictions can be recovered. In fact, the creation and evaluation of the metrics themselves can be automated.

Taking a broader perspective, the methodology presented in this work can be seen as a general prescription for tackling scientific discovery challenges in mathematics and theoretical physics that rely on numerical evaluations and generalizations. Such an advance is especially exciting for such challenges that were considered in the past to require intuitive leaps of creativity.

#### Acknowledgments

This research received support through Schmidt Sciences, LLC.