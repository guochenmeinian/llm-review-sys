# Bicriteria Multidimensional Mechanism Design with Side Information

Maria-Florina Balcan

School of Computer Science

Carnegie Mellon University

ninamf@cs.cmu.edu &Siddharth Prasad

Computer Science Department

Carnegie Mellon University

sprasad2@cs.cmu.edu &Tuomas Sandholm

Computer Science Department

Carnegie Mellon University

Strategy Robot, Inc.

Strategic Machine, Inc.

sandholm@cs.cmu.edu

###### Abstract

We develop a versatile new methodology for multidimensional mechanism design that incorporates side information about agent types to generate high social welfare and high revenue simultaneously. Prominent sources of side information in practice include predictions from a machine-learning model trained on historical agent data, advice from domain experts, and even the mechanism designer's own gut instinct. In this paper we adopt a prior-free perspective that makes no assumptions on the correctness, accuracy, or source of the side information. First, we design a meta-mechanism that integrates input side information with an improvement of the classical VCG mechanism. The welfare, revenue, and incentive properties of our meta-mechanism are characterized by novel constructions we introduce based on the notion of a _weakest competitor_, which is an agent that has the smallest impact on welfare. We show that our meta-mechanism, when carefully instantiated, simultaneously achieves strong welfare and revenue guarantees parameterized by errors in the side information. When the side information is highly informative and accurate, our mechanism achieves welfare and revenue competitive with the total social surplus, and its performance decays continuously and gradually as the quality of the side information decreases. Finally, we apply our meta-mechanism to a setting where each agent's type is determined by a constant number of parameters. Specifically, agent types lie on constant-dimensional subspaces (of the potentially high-dimensional ambient type space) that are known to the mechanism designer. We use our meta-mechanism to obtain the first known welfare and revenue guarantees in this setting.

## 1 Introduction

Mechanism design is a high-impact branch of economics and computer science that studies the implementation of socially desirable outcomes among strategic self-interested agents. Major real-world use cases include combinatorial auctions (_e.g._, strategic sourcing, radio spectrum auctions), matching markets (_e.g._, housing allocation, ridesharing), project fundraisers, and many more. The two most commonly studied objectives in mechanism design are _welfare maximization_ and _revenue maximization_. In many settings, welfare maximization, or _efficiency_, is achieved by the classicVickrey-Clarke-Groves (VCG) mechanism [19; 28; 50]. Revenue maximization is a much more elusive problem that is only understood in very special cases. The seminal work of Myerson  characterized the revenue-optimal mechanism for the sale of a single item in the Bayesian setting, but it is not even known how to optimally sell two items. It is known that welfare and revenue are generally at odds and optimizing one can come at the great expense of the other [1; 4; 7; 23; 33].

In this paper we study how _side information_ (or _predictions_) about the agents can help with _bicriteria_ optimization of both welfare and revenue. Side information can come from a variety of sources that are abundantly available in practice such as predictions from a machine-learning model trained on historical agent data, advice from domain experts, or even the mechanism designer's own gut instinct. Machine learning approaches that exploit the proliferation of agent data have in particular witnessed a great deal of success both in theory [8; 10; 38; 41] and in practice [24; 25; 46; 52]. In contrast to the typical Bayesian approach to mechanism design that views side information through the lens of a prior distribution over agents, we adopt a prior-free perspective that makes no assumptions on the correctness, accuracy, or source of the side information. A nascent line of work (part of a larger agenda on learning-augmented algorithms ) has begun to examine the challenge of exploiting predictions when agents are self-interested, but only for fairly specific problem settings [3; 13; 14; 15; 26; 53]. We contribute to this area with a general side-information-dependent meta-mechanism for a wide swath of multidimensional mechanism design problems that aim for high social welfare and high revenue.

### Our contributions

Our main contribution is a versatile meta-mechanism that integrates side information about agent types with the bicriteria goal of simultaneously optimizing welfare and revenue.

In Section 2 we formally define the components of multidimensional mechanism design with side information. The abstraction of multidimensional mechanism design is a rich language that allows our theory to apply to many real-world settings including combinatorial auctions, matching markets, project fundraisers, and more--we expand on this list of examples further in Section 2. We also present the weakest-competitor VCG mechanism introduced by Krishna and Perry  and prove that it is revenue-optimal among all efficient mechanisms in the prior-free setting (extending their work which was in the Bayesian setting for a fixed known prior).

In Section 3 we present our meta-mechanism for mechanism design with side information. It generalizes the mechanism of Krishna and Perry . We introduce the notion of a weakest-competitor set and a weakest-competitor hull, which are constructions that are crucial to understanding the payments and incentive properties of our meta-mechanism.

In Section 4 we prove that our meta-mechanism--when carefully instantiated--achieves strong welfare and revenue guarantees that are parameterized by errors in the side information. Our mechanism works by independently expanding the input predictions, where the expansion radius for each prediction is drawn randomly from a logarithmic discretization of the diameter of the ambient type space. Our mechanism achieves the efficient welfare \(\) and revenue _at least_\((/ H)\) when the side information is highly informative and accurate, where \(H\) is an upper bound on any agent's value for any outcome. Its revenue approaches \(\) if its initialization parameters are chosen wisely. Its performance decays gradually as the quality of the side information decreases (whereas naive approaches suffer from huge discontinuous drops in performance). _Prior-free efficient welfare \(\), or total social surplus, is the strongest possible benchmark for both welfare and revenue._ Finally, we extend our methods to a more general, more expressive side information language.

In Section 5 we use our meta-mechanism to derive new results in a setting where each agent's type is determined by a constant number of parameters. Specifically, agent types lie on constant-dimensional subspaces (of the potentially high-dimensional ambient type space) that are known to the mechanism designer. _For example, a real-estate agent might infer a buyers' relative property values based on value per square foot._ When each agent's true type is known to lie in a particular \(k\)-dimensional subspace of the ambient type space, we show how to use our meta-mechanism to guarantee revenue at least \((/k( H)^{k})\) while simultaneously guaranteeing welfare at least \(/ H\).

Traditionally it is known that welfare and revenue are at odds and maximizing one objective comes at the expense of the other. Our results show that side information can help mitigate this difficulty.

### Related work

_Side information in mechanism design._ Various mechanism design settings have been studied under the assumption that some form of public side information is available. Medina and Vassilvitskii  study single-item (unlimited supply) single-bidder posted-price auctions with bid predictions. Devanur et al.  study the sample complexity of (single-parameter) auctions when the mechanism designer receives a distinguishing signal for each bidder. More generally, the active field of _algorithms with predictions_ aims to improve the quality of classical algorithms when machine-learning predictions about the solution are available . There have been recent explicit connections of this paradigm to settings with strategic agents . Most related to our work, Xu and Lu  study auctions for the sale of a (single copy of a) single item when the mechanism designer receives point predictions on the bidders' values. Unlike our approach, they focus on _deterministic_ modifications of a second-price auction. An important drawback of determinism is that revenue guarantees do not decay continuously as prediction quality degrades. For agents with value capped at \(H\) there is an error threshold after which, in the worst case, only a \(1/H\)-fraction of revenue can be guaranteed (this is not even competitive with a vanilla second-price auction). Xu and Lu  prove that such a revenue drop is unavoidable by deterministic mechanisms. Finally, our setting is distinct from, but similar to in spirit, work that uses public attributes for market segmentation to improve revenue .

_Welfare-revenue tradeoffs in auctions._ Welfare and revenue relationships in Bayesian auctions have been widely studied since the seminal work of Bulow and Klemperer . Welfare-revenue tradeoffs for second-price auctions with reserve prices in the single item setting have been quantified , with some approximate understanding of the Pareto frontier . Anshelevich et al.  study welfare-revenue tradeoffs in large markets, Aggarwal et al.  study the efficiency of revenue-optimal mechanisms, and Abhishek and Hajek  study the efficiency loss of revenue-optimal mechanisms.

_Constant-parameter mechanism design._ Revenue-optimal mechanism design for settings where each agent's type space is of a constant dimension has been studied previously in certain specific settings. Single-parameter mechanism design is a well-studied topic dating back to the seminal work of Myerson , who (1) characterized the set of all truthful allocation rules and (2) derived the Bayesian optimal auction based on virtual values (a quantity that is highly dependent on knowledge of the agents' value distributions). Archer and Tardos  also characterize the set of allocation rules that can be implemented truthfully in the single-parameter setting, and use this to derive polynomial-time mechanisms with strong revenue approximation guarantees in various settings. Kleinberg and Yuan  prove revenue guarantees for a variety of single-parameter settings that depend on distributional parameters. Constrained buyers with two-parameter values have also been studied .

_Combinatorial auctions for limited supply._ Our mechanism when agent types lie on known linear subspaces can be seen as a generalization of the well-known logarithmic revenue approximation that is achieved by a second-price auction with a random reserve price in the single-item setting . Similar revenue approximations have been derived in multi-item settings for various classes of bidder valuation functions such as unit-demand , additive , and subadditive . To the best of our knowledge, no previous techniques handle agent types on low-dimensional subspaces. Furthermore, our results are not restricted to combinatorial auctions unlike most previous research.

## 2 Problem formulation, example applications, and weakest-competitor VCG

We consider a general multidimensional mechanism design setting with a finite allocation space \(\) and \(n\) agents. \(_{i}\) is the type space of agent \(i\). Agent \(i\)'s true private type \(_{i}_{i}\) determines her value \(v(_{i},)\) for allocation \(\). We will interpret \(_{i}\) as a subset of \(^{}\), so \(_{i}[]=v(_{i},)\). We use \(_{i=1}^{n}_{i}\) to denote a profile of types and \(_{-i}_{-i}:=_{j i}_{i}\) to denote a profile of types excluding agent \(i\). We now introduce our model of side information. For each agent, the mechanism designer receives a subset of the type space predicting that the subset contains the agent's true yet-to-be-revealed type. Formally, the mechanism designer receives additional information about each agent in the form of a refinement of each agent's type space, given by \(_{1}_{1},,_{n} _{n}\). These refinements postulate that the true type of bidder \(i\) is actually contained in \(_{i}\) (though the mechanism designer does not necessarily know whether or not these predictions are valid). We refer to the \(_{i}\) as _side-information sets_ or _predictions_. To simplify exposition, we assume that priorto receiving side information the mechanism designer has no differentiating information about the agents' types, that is, \(_{1}==_{n}\). Let \(\) denote this common _ambient type space_.

A mechanism with side information is specified by an allocation rule \((;_{1},,_{n})\) and a payment rule \(p_{i}(;_{1},,_{n}) \) for each agent \(i\). We assume agents have quasilinear utilities. A mechanism is _incentive compatible (IC)_ if \(_{i}*{argmax}_{^{}_{i}_{i}}_{ i}[(^{}_{i},_{-i};_{1},, _{n})]-p_{i}(^{}_{i},_{-i}; {}_{1},,_{n})\) holds for all \(i,_{i}_{i},_{-i}_{-i},_{ 1}_{i},,_{n}_{n}\), that is, agents are incentivized to report their true type regardless of what other agents report and regardless of the side information used by the mechanism (this definition is equivalent to the usual notion of dominant-strategy IC and simply stipulates that side information ought to be used in an IC manner). A mechanism is _individually rational (IR)_ if \(_{i}[(_{i},_{-i};_{1},, _{n})]-p_{i}(_{i},_{-i};_ {1},,_{n}) 0\) holds for all \(i,_{i},_{-i},_{1},, _{n}\). We will analyze a variety of randomized mechanisms that randomize over IC and IR mechanisms. Such randomized mechanisms are thus IC and IR in the strongest possible sense (as supposed to weaker in-expectation IC/IR). _An important note: no assumptions are made on the veracity of \(_{i}\), and agent \(i\)'s misreporting space is the ambient type space \(_{i}\)._

#### Example applications

Our model of side information within the rich language of multidimensional mechanism design allows us to capture a variety of different problem scenarios where both welfare and revenue are desired objectives. We list a few examples of different multidimensional mechanism settings along with examples of different varieties of side information sets.

* Combinatorial auctions: There are \(m\) indivisible items to be allocated among \(n\) agents (or to no one). The allocation space \(\) is the set of \((n+1)^{m}\) allocations of the items and \(_{i}[]\) is agent \(i\)'s value for the bundle of items she is allocated by \(\). Let X and Y denote two of the items for sale. The set \(_{i}=\{_{i}:_{i}[\{,\}] 9, _{i}[\{\}]+_{i}[\{\}] 10\}\) represents the prediction that agent \(i\)'s values for X and Y individually sum up to at least $10, and her value for the bundle is at least $9. Here, \(_{i}\) is the intersection of linear constraints.
* Matching markets: There are \(m\) items (_e.g._, houses) to be matched to \(n\) buyers. The allocation space \(\) is the set of matchings on the bipartite graph \(K_{m,n}\) and \(_{i}[]\) is buyer \(i\)'s value for the item \(\) assigns her. Let \(_{1},_{2},_{3}\) denote three matchings that match house 1, house 2, and house 3 to agent \(i\), respectively. The set \(_{i}=\{_{i}:_{i}[_{1}]=2_{i}[ _{2}]=0.75_{i}[_{3}]\}\) represents the information that agent \(i\) values house 1 twice as much as house 2, and \(3/4\) as much as house 3. Here, \(_{i}\) is the linear space given by \(*{span}( 1,1/2,4/3)\).
* Fundraising for a common amenity: A multi-story office building that houses several companies is opening a new cafeteria on a to-be-determined floor and is raising construction funds. The allocation space \(\) is the set of floors of the building and \(_{i}[]\) is the (inverse of the) cost incurred by building-occupant \(i\) for traveling to floor \(\). The set \(_{i}=\{_{i}:\|_{i}-_{i}^{*}\|_{p} k\}\) postulates that \(i\)'s true type is no more than \(k\) away from \(_{i}^{*}\) in \(_{p}\)-distance, which might be derived from an estimate of the range of floors agent \(i\) works on based on the company agent \(i\) represents. Here, \(_{i}\) is given by a (potentially nonlinear) distance constraint.
* Bidding for a shared outcome: A delivery service that offers multiple delivery rates (priced proportionally) needs to decide on a delivery route to serve \(n\) customers. The allocation space \(\) is the set of feasible routes and \(_{i}[]\) is agent \(i\)'s value for receiving her packages after the driving delay specified by \(\). Let \(_{t}\) denote an allocation that imposes a driving delay of \(t\) on agent \(i\). The set \(_{i}=\{_{i}:_{i}[_{0}] 50,_{i}[ _{t+1}] f_{t}(_{i}[_{t}])\  t\}\) is the prediction that agent \(i\) is willing to pay $50 to receive her package as soon as possible, and is at worst a time discounter determined by (potentially nonlinear) discount functions \(f_{t}\). Here, the complexity of \(_{i}\) is determined by the \(f_{t}\).

In our results we will assume that \(=[0,H]^{}\) imposing a cap \(H\) on any agent's value for any allocation. This is the only problem-specific parameter in our results. In the above four bulleted examples \(H\) represents the maximum value any agent has for the grand bundle of items, any available house, the cafeteria opening on her floor, and receiving her packages with no delay, respectively.

### The weakest-competitor VCG mechanism

The VCG mechanism can generally be highly suboptimal when it comes to revenue [7; 39; 49] (and conversely mechanisms that shoot for high revenue can be highly welfare suboptimal). However, if efficiency is enforced as a constraint of the mechanism design, then the _weakest-competitor VCG (WCVCG) mechanism_ introduced by Krishna and Perry  is in fact revenue optimal (they call it the generalized VCG mechanism). While VCG payments are based on participation externalities, WCVCG payments are based on agents being replaced by _weakest competitors_ who have the smallest impact on welfare. This approach yields a strict revenue improvement over vanilla VCG. Krishna and Perry  proved that the Bayesian version of WCVCG is revenue optimal among all efficient, IC, and IR mechanisms. The (prior-free) WCVCG mechanism works as follows. Given reported types \(\), it uses the efficient allocation \(^{*}=*{argmax}_{}_{i=1}^{n}_{i} []\). The payments are given by \(p_{i}()=_{_{i}_{i}}(_{ }_{j i}_{j}[]+_{i}[])- _{j i}_{j}[^{*}]\). Here, \(_{i}\) is the ambient type space of agent \(i\). If \(0_{i}\), \(p_{i}\) is the vanilla VCG payment. Krishna and Perry  prove the following result in the Bayesian setting, which we reproduce in a stronger prior-free form for completeness.

**Theorem 2.1**.: _Weakest-competitor VCG is revenue-optimal subject to efficiency, IC, and IR._

Proofs of all results in this paper are in Appendix A. Our meta-mechanism (Section 3) is a generalization of WCVCG that uses side information sets rather than the ambient type space to determine payments. (Misreporting is not limited to side information sets.) Our meta-mechanism relaxes efficiency in order to use the side information to boost revenue.

## 3 Weakest-competitor sets and our meta-mechanism

In this section we present our meta-mechanism for mechanism design with side information. Our meta-mechanism generalizes the WCVCG mechanism. We begin by introducing some new constructions based on the concept of a weakest competitor. These constructions are the key ingredients in understanding the role of side information in our meta-mechanism. Let \(^{}\) if \([]^{}[]\) for all \(\). Let \(^{}\) if \([]^{}[]\) for all \(\) and there exists \(^{}\) with \([^{}]<^{}[^{}]\). Let \(^{}\) if \([]<^{}[]\) for all \(\). We assume \(_{i}==[0,H]^{}\) for all \(i\), that is, all agents share a common ambient type space with no up-front differentiating information.

**Definition 3.1**.: The _extended weakest-competitor set_ of a closed set \(_{i}\), denoted by \(}(_{i})\), is the subset of all weakest competitors in \(_{i}\) over all possible type profiles of the other agents. Formally, \(}(_{i}):=\{*{argmin}_{ _{i}_{i}}(_{}_{ j i}_{j}[]+_{i}[]):_{-i}_{-i}\}\). The _weakest-competitor set_ of \(_{i}\), denoted by \((_{i})\), is the subset of \(}(_{i})\) where ties in the argmin are broken by discarding any \(^{}\) in the argmin if there exists \(\) also in the argmin with \(^{}\). We call members of both \(}(_{i})\) and \((_{i})\)_weakes competitors_ and say \(_{i}\) is a _weakest competitor relative to \(_{-i}\)_ if \(_{i}*{argmin}_{_{i} _{i}}_{}_{j i}_{j}[]+ _{i}[]\).

The weakest-competitor set is a natural notion of a lower bound corresponding to a given predicted type set. From the perspective of WCVCG, the payment of an agent with true type in \(_{i}\) only depends on \((_{i})\) and not on \(_{i}\). Motivated by this observation, we define the weakest-competitor hull, which can be viewed as a "weakest-competitor relaxation".

**Definition 3.2**.: The _weakest-competitor hull_ of \(_{i}\), denoted by \((_{i})\), is the maximal set \(S\) such that \((S)=(_{i})\) (no \(T S\) satisfies \((T)=(_{i})\)).

Weakest-competitor sets and hulls can be simply characterized without explicit reference to the mechanics of WCVCG. Figure 1 displays examples in a two-dimensional type space.

**Theorem 3.3**.: _Let \(=[0,H]^{}\) and let \(\) be closed. Then \(}()=\{:\{ ^{}:^{}\}=\}\), \(()=\{:\{^{} :^{}\}=\},\) and \(()=\{:^{} \) s.t. \(^{}\}\) is the upwards closure of \(\)._

We now present our meta-mechanism, which we denote by \(\). It uses the efficient allocation, but that allocation is enjoyed only by the subset of agents able to compete with the weakest competitors in the side information set. \(\) then implements the weakest-competitor payments on those agents.

The input subsets \(_{1},,_{n}\) represent the side information/predictions given to the mechanism designer that postulate that \(_{i}_{i}\).

Meta-mechanism \(\)

Input: subsets \(_{1},,_{n}\) given to mechanism designer.

* Based on \(_{1},,_{n}\), come up with \(_{1},,_{n}\). Agents asked to reveal types \(_{1},,_{n}\).
* Let \(^{*}=*{argmax}_{}_{i=1}^{n}_{i}[ ]\) and for each \(i\) let \[p_{i}=_{_{i}(_{i})} (_{}_{j i}_{j}[]+_{i}[])-_{j i}_{j}[^{*}].\]
* Let \(=\{i:_{i}[^{*}]-p_{i} 0\}\). If agent \(i\), \(i\) is excluded and receives zero utility (zero value and zero payment).* If agent \(i\), \(i\) enjoys allocation \(^{*}\) and pays \(p_{i}\).

Meta-mechanism \(\) generates welfare equal to \(_{i}_{i}[^{*}]\) and revenue equal to \(_{i}p_{i}\). \(\) does not specify how to set \(_{1},,_{n}\) based on \(_{1},,_{n}\) (hence the "meta" label). This challenge is the subject of the later sections where we will describe, based on the setting, how to set the \(_{i}\) in order to generate high welfare and high revenue. We now establish the incentive properties of \(\).

**Theorem 3.4**.: \(\) _is IC and IR._

Next we show that \(\) precisely captures the set of agent types that never violate IR. This consideration does not arise in \(\) since in that setting misreporting is limited to the set used in the weakest-competitor minimization, and hence IR is never violated. In our setting, we make no assumptions on the veracity of the sets \(_{i}\) and must therefore reckon with the possibility that an agent is unable to compete with the weakest competitors in \((_{i})\).

**Theorem 3.5**.: _Let \(_{i}\) denote the true type of agent \(i\) and let \(_{1},,_{n}\) denote the side information sets used by \(\). Then \(i\) for all \(_{-i}_{i}(_{i})\)._

Theorem 3.5 shows that \(i\) is guaranteed to participate in \(\) regardless of other agents' types if and only if \(_{i}(_{i})\). We capitalize on this observation when we derive revenue guarantees for \(\), since the welfare of \(\) is at least \(_{i:_{i}(_{i})}_{i}[^{*}]\) and its revenue is at least \(_{i:_{i}(_{i})}p_{i}\).

Before we proceed to our main analyses of the key properties and guarantees of \(\), we briefly discuss its computational complexity. We consider the special case where the side-information sets are polytopes. Let \(size(_{i})\) denote the encoding size of the constraints defining \(_{i}\).

**Theorem 3.6**.: _Let \(_{i}\) be a polytope. Payment \(p_{i}\) in \(\) can be computed in \(poly(||,size(_{i}),n)\) time. Furthermore, determining membership in \((_{i})\) can be done in \(poly(||,size(_{i}))\) time._Main guarantees of the mechanism in terms of prediction quality

In this section we prove our main guarantees on our meta-mechanism \(\) in terms of the quality of the side information \(_{1},,_{n}\). We will largely refer to the side information as _predictions_ in this section to emphasize that \(_{i}\) could be wildly incorrect/inaccurate. To state our results we need the following notation which will be used throughout the remainder of the paper. Given agent types \(_{1},,_{n}\), let \(_{}\) denote the efficient allocation among the \(n\) agents and let \(=_{}_{i=1}^{n}_{i}[]=_{i=1} ^{n}_{i}[_{}]\) denote the welfare of the efficient allocation (also called the total social surplus). Let \(\) denote VCG revenue on the \(n\) agents.

The following lemma shows that payment \(p_{i}\) in \(\) can be related to agent \(i\)'s value for \(_{}\) if \(i\) has a valid side information set \((_{i}(_{i}))\). We incur a loss term equal to the \(_{}\)-Hausdorff distance from the true type \(_{i}\) to \((_{i})\), defined as \(d_{H}(_{i},(_{i})):=_{_ {i}(_{i})}\|_{i}-_{i}\|_ {}\).

**Lemma 4.1**.: _Run \(\) with \(_{i}\). If \(i\) is such that \(_{i}(_{i})\), then \(p_{i}_{i}[_{}]-d_{H}(_{i},( _{i}))\)._

_Measuring the error of a prediction._ Before instantiating \(\) with specific rules to determine the \(_{i}\) from the \(_{i}\), we define our notions of prediction error, which are motivated by Lemma 4.1.

**Definition 4.2**.: The _involatility_ of a prediction \(_{i}\), denoted by \(_{i}^{V}\), is the distance from the true type \(_{i}\) of agent \(i\) to \((_{i})\): \(_{i}^{V}:=d(_{i},(_{i}))=_{ _{i}(_{i})}\|_{i}- _{i}\|_{}\).

**Definition 4.3**.: The _inaccuracy_ of a prediction \(_{i}\) is the quantity \(_{i}^{A}:=d_{H}(_{i},(_{i}))\).

We say that a prediction \(_{i}\) is _valid_ if \(_{i}^{V}=0\), that is, \(_{i}(_{i})\). We say that a prediction is _perfect_ if \(_{i}^{A}=0\) or, equivalently, \((_{i})=\{_{i}\}\). If a prediction is perfect, then it is also valid. Our main results will depend on these error measures. See Figure 1 for an illustration.

_Consistency and robustness._ We say a mechanism is \((a,b)\)_-consistent_ and \((c,d)\)_-robust_ if when predictions are perfect it satisfies \([] a\), \([] b\), and satisfies \([] c,[]  d\) independent of the prediction quality. Consistency demands near-optimal performance when the side information is perfect, and therefore we compete with the total social surplus \(\) on both the welfare and revenue fronts. Robustness deals with the case of arbitrarily bad side information, in which case we would like our mechanism's performance to be competitive with vanilla VCG, which already obtains welfare equal to \(\). High consistency and robustness ratios are in fact trivial to achieve, and we will thus largely not be too concerned with these measures--our main goal is to design high-performance mechanisms that degrade gracefully as the prediction errors increase. In Appendix B we show that the trivial mechanism that discards all side information with probability \(\) and trusts the side information completely with probability \(1-\) is \((1,1-)\)-consistent and \((,)\)-robust, but suffers from huge discontinuous drops in performance even when predictions are nearly perfect.

_Random expansion mechanism._ Our guarantees will depend on \(H\); an upper bound on any agent's values. This is the only problem-domain-specific parameter in our results (examples are in Section 2). \(H=_{_{1},_{2}}\|_{1}-_{2}\|_{}\) is the \(_{}\)-diameter of \(\). For a point \(\), let \((,r)=\{^{}:\|-^{}\|_{} r\}\) be the closed \(_{}\)-ball centered at \(\) with radius \(r\). For a set \(\), let \((,r)=_{}(,r)\) denote the \(_{}\)-expansion of \(\) by \(r\). For \(_{i} 0,_{i}>0\), and \(K_{i}:=_{2}((H-_{i})/_{i})\), let \(_{,}\) denote the mechanism that for each \(i\) independently sets

\[_{i}=(_{i},_{i}+2^{k_{ i}}_{i}),k_{i}_{}\{0,1,,K_{i}\}.}\]

We now state and discuss our main welfare and revenue guarantees on \(M_{,}\). Define \(^{+}:_{ 0}\) by \(^{+}(x)=0\) if \(x 0\) and \(^{+}(x)=\{0,(x)\}\) if \(x>0\).

**Theorem 4.4**.: \([]\{(1-_{i}^{+}(( _{i}^{V}-_{i})/_{i})}{1+_{2}((H-_{i})/ _{i})}),_{2}((H-_{i})/_{ i})}\}\)_._

**Theorem 4.5** (Revenue bound 1).: _Let \(_{i}=2(_{i}^{V}-_{i})(_{i}+_{i}<_{i} ^{V})+_{i}(_{i}+_{i}_{i}^{V})\). Then \([]_{2}((H-_{i})/ _{i})}(-_{i=1}^{n}(_{i}^{A}+_{i}+_{ i}))\)._

**Theorem 4.6** (Revenue bound 2).: \([](1-_{i}^{+}((_{i}^{V}- _{i})/_{i})}{1+_{2}((H-_{i})/_{i}) })(-_{i=1}^{n}(_{i}^{A}+_{i}))-_{i=1}^{n} ((H-_{i})/_{i})}\)._Proof sketch.: \(_{,}\) in essence performs a doubling search with initial hop \(_{i}\) and \(_{i}\) controlling how fine-grained the search proceeds. The bounds are proven (Appendix A.3) by controlling participation probabilities \((_{i}_{i})\) and accounting for conditional payments via Lemma 4.1. 

First, consider constant \(,\). Our welfare guarantee degrades from \(\) to \((/ H)\) as the invalidity of the predictions increase. Revenue bound 1 degrades from \((/ H)\) as both the invalidity and inaccuracy of the predictions increase. Revenue bound 2 illustrates that we can obtain significantly better performance if the parameters \(,\) are chosen appropriately. In particular, for any \(\), \(_{i}=_{i}^{V}\) and \(_{i} O((H-_{i})/2^{H/})\) yields \(|revenue|-_{i=1}^{n}(_{i}^{A}+_{i}^{V }+)\), a bound that is only additively worse than the total social surplus (and recovers the total social surplus as \(_{i} 0\) if the predictions are perfect). This bound degrades gradually as \(_{i},_{i}\) deviate.

To summarize, if the side information is of very high quality, the best parameters \(,\) nearly recover the total social surplus \(\) as welfare _and_ revenue, and revenue degrades gradually as the chosen parameters \(,\) worsen. If the side information is of questionable quality, the best parameters \(,\) still obtain \(\) as welfare, with revenue suffering additively by the prediction errors. As the parameter selection worsens, welfare and revenue degrade to \((/ H)\) with revenue suffering the same additive loss. Effective parameters can be, for example, learned from data . We briefly discuss the consistency and robustness of \(_{,}\) in Appendix B.3, where we show the worst case performance of \(_{,}\) independent of prediction quality is not much worse than vanilla VCG.

### More expressive forms of side information

In this subsection we establish two avenues for richer and more expressive side information languages. The first deals with uncertainty and the second with joint multi-agent predictions.

Uncertainty.We now show that the techniques we have developed so far readily extend to an even larger more expressive form of side information that allows one to express varying degrees of uncertainty. A _side information structure_ corresponding to agent \(i\) is given by a partition \((A_{1}^{i},,A_{m}^{i})\) of the ambient type space \(_{i}\) into disjoint sets, probabilities \(_{1}^{i},,_{m}^{i} 0;_{j}_{j}^{i}=1\) corresponding to each partition element, and for each partition element an optional probability density function \(f_{j}^{i_{}}\!_{A_{j}^{i}}f_{j}^{i}=1\). The side information structure represents (1) a belief over what partition element \(A_{j}^{i}\) the true type \(_{i}\) lies in and (2) if a density is specified, the precise nature of uncertainty over the true type within \(A_{j}^{i}\). Our model of side information sets \(_{i}\) considered earlier in the paper corresponds to the partition \((_{i},_{i}_{i})\) with \((_{i})=1\) and no specified densities. The richer model allows side information to convey finer-grained beliefs; for example one can express quantiles of certainty, precise distributional beliefs, and arbitrary mixtures of these.

Our notions of prediction error (invalidity and inaccuracy) can be naturally generalized. We define \(_{i}^{V}=_{j}_{j}^{i}_{i}^{V}(A_{j}^{i};f_{j}^{ i})\) and \(_{i}^{A}=_{j}_{j}^{i}_{i}^{A}(A_{j}^{i};f_{j}^{ i})\), where \(_{i}^{V}(A_{j}^{i};f_{j}^{i})=d(_{i},(A_{j}^{i}))\) if \(f_{j}^{i}=\) and \(_{i}^{V}(A_{j}^{i};f_{j}^{i})=_{_{i} f _{j}^{i}}[d(_{i},(\{_{i}\})]\) if \(f_{j}^{i}\) is a well-defined density. Similarly \(_{i}^{A}(A_{j}^{i};f_{j}^{i})=d_{H}(_{i},(A_{j}^{i}))\) if \(f_{j}^{i}=\) and \(_{i}^{A}(A_{j}^{i};f_{j}^{i})=_{_{i} f _{j}^{i}}[d(_{i},_{i})]\) otherwise.

Our generalized version of \(M_{,}\) first samples a partition element \(A_{j}^{i}\) according to \((_{1}^{i},,_{m}^{i})\), and draws \(k_{i}_{}\{0,,K_{i}\}\) where \(K_{i}\) is defined as before. If \(f_{j}^{i}=\), it sets \(_{i}=(A_{j}^{i},_{i}+2^{k_{i}}_{i})\). Otherwise, it samples \(_{i} f_{j}^{i}\) and sets \(_{i}=(\{_{i}\},_{i}+2^{k_{i }}_{i})\). Versions of Theorems 4.4, 4.5, and 4.6 carry forward with \(_{i}^{V}\) and \(_{i}^{A}\) as the error measures. In Appendix C we provide the derivations, and also take the expressive power one step further by specifying a probability space over \(_{i}\); its \(\)-algebra captures the granularity of knowledge being conveyed and its probability measure captures the uncertainty.

Joint side information.So far, side information has been independent across agents. Specifically, the mechanism designer receives sets \(_{i}_{i}\) for each agent \(i\) postulating that \(=(_{1},,_{n})_{1} _{n}\). We show that our techniques extend to a more expressive form of side information that allows one to express predictions involving multiple agents. Let \(=_{1}_{n}\). The mechanism designer receives as side information a set \(}\) postulating that \(=(_{1},,_{n})}\). Givenan agent \(i\), a side information set \(}\), and \(}_{-i}_{j i}_{j}\), let \(_{i}(};}_{-i})= \{_{i}_{i}:_{-i}}_{-i}(_{i},_{-i}) }\}\) be the \(i\)th _projection_ of \(}\) with respect to \(}_{-i}\). The projection is the set of types for agent \(i\) consistent with \(}\) given that the realizations of the other agents' true types are contained in \(}_{-i}\). First, if \(}\) is known to be a valid prediction, that is, the true type profile \(\) is guaranteed apri to lie in \(}\) (equivalently, the joint misreporting space is limited to \(}\)), we generalize the weakest-competitor VCG mechanism as follows. First, agents are asked to reveal their true types \(=(_{1},,_{n})\). The allocation used is \(^{*}=_{}_{i=1}^{n}_{i}[ ]\) and agent \(i\) pays

\[p_{i}=_{_{i}_{i}(};_{-i})}(_{}_{j i}_{j} []+_{i}[])-_{j i}_{j}[ ^{*}].\]

This generalized weakest-competitor VCG mechanism is IC, IR, and revenue optimal subject to efficiency in the joint information setting for the same reason that weakest-competitor VCG is in the independent information setting.

More generally, given side information set \(}\), our random expansion mechanism can be generalized as follows. Agents first reveal their true types \(_{1},,_{n}\). For each agent \(i\), independently set \(_{i}=(_{i}(},_{-i}),_{i}+2^{k_{i}}_{i})\). The same guarantees we derived previously hold, with appropriately modified quality measures: invalidity is \(_{i}^{V}=d(_{i},(_{i}(},_{-i})))\) and inaccuracy is \(_{i}^{A}=d_{H}(_{i},(_{i}( {},_{-i})))\). An important idea highlighted by these mechanisms for joint side information is that the true types of all agents _other than \(i\)_ can be heavily utilized in determining \(p_{i}\). This model of side information affords significantly more expressive power than the agent-independent model with product structure considered previously. For example, the mechanism designer might know that sum of the valuations of two customers for a cup of coffee exceeds a particular threshold, but does not know who has the higher value. Joint side information enables such a belief to be precisely expressed. It allows the mechanism designer to refine his beliefs on one agent based on the realized true type of the other agent (which was not possible in our previous framework).

We conclude this section with the observation that these mechanisms can loosely be interpreted as prior-free quantitative analogues of the seminal total-surplus-extraction Bayesian mechanism of Cremer and McLean  for correlated agents (generalized to infinite type spaces by McAfee and Reny ). This is an interesting connection to explore further in future research.

## 5 Constant-parameter agents: types on low-dimensional subspaces

In this section we show how the theory we have developed so far can be used to derive new revenue approximation results when the mechanism designer knows that each agent's type belongs to some low-dimensional subspace of \(^{}\) (these subspaces can be different for each agent).

This is a slightly different setup from the previous sections. So far, we have assumed that \(_{i}=\) for all \(i\), that is, there is an ambient type space that is common to all the agents. Side information sets \(_{i}\) are given as input to the mechanism designer, with no assumptions on quality/correctness (and our guarantees in Section 4 were parameterized by quality). Here, we assume the side information that each agent's type lies in a particular subspace is guaranteed to be valid. Two equivalent ways of stating this setup are (1) that \(_{i}\) is the corresponding subspace for agent \(i\) and the mechanism designer receives no additional prediction set \(_{i}\) or (2) \(_{i}=\) for all \(i\), \(_{i}= U_{i}\) where \(U_{i}\) is a subspace of \(^{}\), and the mechanism designer has the additional guarantee that \(_{i} U_{i}\) (so \(_{i}\) is a _valid_ side-information set). We shall use the language of the second interpretation.

In this setting, while the side information is valid, the inaccuracy errors \(_{i}^{A}\) of the sets \(_{i}= U_{i}\) can be too large to meaningfully use our previous guarantees. In this section we show how to fruitfully use the information provided by the subspaces \(U_{1},,U_{n}\) within the framework of our meta-mechanism. We assume \(=[1,H]^{}\), thereby imposing a lower bound of \(1\) on agent values (this choice of lower bound is not important, but the knowledge of some lower bound is needed).

Formally, for each \(i\), the mechanism designer knows that \(_{i}\) lies in a \(k\)-dimensional subspace \(U_{i}=(u_{i,1},,u_{i,k})\) of \(^{}\) where each \(u_{i,j}^{}_{ 0}\) lies in the non-negative orthant and \(\{u_{i,1},,u_{i,k}\}\) is an orthonormal basis for \(U_{i}\). For simplicity, assume \(H=2^{a}\) for some positive integer \(a\). Let \(_{i,j}=\{ u_{i,j}: 0\}[0,H]^{}\) be the line segment that is the portion of the ray generated by \(u_{i,j}\) that lies in \([0,H]^{}\). Let \(y_{i,j}\) be the endpoint of \(_{i,j}\) with \(\|y_{i,j}\|_{}=H\) (the other endpoint of \(_{i,j}\) is the origin). Let \(z^{1}_{i,j}=y_{i,j}/2\) be the midpoint of \(_{i,j}\), and for \(=2,,_{2}H\) let \(z^{}_{i,j}=z^{-1}_{i,j}/2\) be the midpoint of \(0z^{-1}_{i,j}\). So \(\|z^{_{2}H}_{i,j}\|_{}=1\). We terminate the halving of \(_{i,j}\) after \(_{2}H\) steps due to the assumption that \(_{i}[1,H]^{}\). For every \(k\)-tuple \((_{1},,_{k})\{1,,_{2}H\}^{k}\), let \(_{i}(_{1},,_{k})=_{j=1}^{k}z^{_{i,j}}_ {i,j}\). Furthermore, let \(W_{}=\{(_{1},,_{k})\{1,,_{2}H\}^{k}:_{j} _{j}=\}\). The sets \(W_{1},,W_{_{2}H}\) partition \(\{1,,_{2}H\}^{k}\) into levels, where \(W_{}\) is the set of points with \(_{}\)-distance \(H/2^{}\) from the origin. For each agent \(i\), our mechanism \(_{k}\) independently sets

\[_{i}=\{_{i}(_{i,1},, _{i,k})\}_{i}_{}\{1,,_{2}H\}(_{i,1},,_{i,k})_{}W_{_{i,}}}\]

**Theorem 5.1**.: \(_{k}\) _satisfies \([]/_{2}H\) and \([]/(2k(_{2}H)^{k})\)._

As mentioned in Section 1, \(_{k}\) can be viewed as a generalization of the \( H\) revenue approximation in the single-item limited-supply setting that is achieved by a second-price auction with a uniformly random reserve price from \(\{H/2,H/4,,1\}\). Our results apply not only to auctions but to general multidimensional mechanism design problems such as the examples presented in Section 2.

## 6 Conclusions and future research

We developed a versatile new methodology for multidimensional mechanism design that incorporates side information about agent types with the bicriteria goal of generating high social welfare and high revenue simultaneously. We designed a side-information-dependent meta-mechanism. This mechanism generalizes the weakest-competitor VCG mechanism of Krishna and Perry . Careful instantiations of our meta-mechanism simultaneously achieved strong welfare and revenue guarantees that were parameterized by errors in the side information, and additionally proved to be fruitful in a setting where each agent's type lies on a constant-dimensional subspace (of the potentially high-dimensional ambient type space) that is known to the mechanism designer.

There are many new research directions that stem from our work. First, how far off are our mechanisms from the welfare-versus-revenue Pareto frontier? The weakest-competitor VCG mechanism is one extreme point, but what does the rest of the frontier look like? One possible approach here would be to extend our theory beyond VCG to the larger class of affine maximizers (which are known to contain high-revenue mechanisms)--we provide some initial ideas in Appendix D.

_Computational complexity:_ An important facet that we have largely ignored is computational complexity. The computations in our mechanism involving weakest competitors scale with the description complexity of \(_{i}\) (_e.g._, the number of constraints, the complexity of constraints, and so on). An important question here is to understand the computational complexity of our mechanisms as a function of the differing (potentially problem-specific) language structures used to describe the side-information sets \(_{i}\). In particular, the classes of side-information sets that are accurate, natural/interpretable, and easy to describe might depend on the specific mechanism design domain. Expressive bidding languages for combinatorial auctions have been extensively studied with massive impact in practice [46; 47]. Can a similar methodology be developed for side information?

_Improved analysis when there is a known prior:_ Another direction is to improve the Bayesian revenue analysis of Krishna and Perry when there is a known prior over agents' types. Here, the benchmark would be efficient welfare in expectation over the prior. The (Bayesian) WCVCG mechanism of Krishna and Perry uses weakest competitors with respect to the prior's support to guarantee efficient welfare in expectation, but its revenue could potentially be boosted significantly by compromising on welfare as in our random expansion mechanism. Another direction here is to study the setting when the given prior might be inaccurate. Can our random expansion mechanism be used to derive guarantees that depend on the closeness of the given prior to the true prior? Such questions are thematically related to _robust mechanism design_. Another direction along this vein is to generalize our mechanisms to depend on a known prior over prediction errors.

Finally, the WCVCG mechanism of Krishna and Perry is a strict improvement over the vanilla VCG mechanism, yet it appears to not have been further studied nor applied since its discovery. The weakest-competitor paradigm could have applications in economics and computation more broadly.