# Patient Basic Information(50)

PEACE: A Dataset of Pharmaceutical Care for Cancer Pain Analgesia Evaluation and Medication Decision

Yutao Dou\({}^{1,2}\), Huimin Yu\({}^{2}\), Wei Li\({}^{3}\), Jingyang Li\({}^{2}\), Fei Xia\({}^{1}\), Jian Xiao\({}^{2}\)

\({}^{1}\) College of Computer Science and Electronic Engineering, Hunan University, Changsha 410082, China.

\({}^{2}\) Department of Pharmacy, Xiangya Hospital, Central South University, Changsha 410008, China.

\({}^{3}\) School of Computer Science, The University of Sydney, Darlington, NSW, 2008, Australia.

ytdou@hnu.edu.cn, 228112395@csu.edu.cn, weiwilson.li@sydney.edu.au,

228112396@csu.edu.cn, xcyphoenix@hnu.edu.cn, admanoas@163.com

Equal contributionCorresponding author

###### Abstract

Over half of cancer patients experience long-term pain management challenges. Recently, interest has grown in systems for cancer pain treatment effectiveness assessment (TEA) and medication recommendation (MR) to optimize pharmacological care. These systems aim to improve treatment effectiveness by recommending personalized medication plans based on comprehensive patient information. Despite progress, current systems lack multidisciplinary treatment (MDT) team assessments of treatment and the patient's perception of medication, crucial for effective cancer pain management. Moreover, managing cancer pain medication requires multiple adjustments to the treatment plan based on the patient's evolving condition, a detail often missing in existing datasets. To tackle these issues, we designed the PEACE dataset specifically for cancer pain medication research. It includes detailed pharmacological care records for over 38,000 patients, covering demographics, clinical examination, treatment outcomes, medication plans, and patient self-perceptions. Unlike existing datasets, PEACE records not only long-term and multiple follow-ups both inside and outside hospitals but also includes patients' self-assessments of medication effects and the impact on their lives. We conducted a proof-of-concept study with 13 machine learning algorithms on the PEACE dataset for the TEA (classification task) and MR (regression task). These experiments provide valuable insights into the potential of the PEACE dataset for advancing personalized cancer pain management. The dataset is accessible at: [https://github.com/YTYTYTYD/PEACE].

## 1 Introduction

Cancer pain is a common symptom among cancer patients, with an incidence rate of up to 53%. This greatly affects patients' quality of life and may impede effective cancer treatment. Pharmacotherapy, the mainstay of cancer pain management, often involves long-term medication use. Physicians must continually assess the efficacy of the current analgesic regimen by considering factors such as the patient's physical condition, pain intensity, type of pain, and prior medications. This enables targeted adjustments to the treatment plan to improve therapeutic outcomes.

Recently, machine learning and deep neural network technologies have significantly advanced automated treatment effect assessment (TEA) and medication recommendation (MR) systems for cancer pain management. These systems use patient data to make accurate assessments and provide medication recommendations. However, most existing systems focus on single treatments and rarely include long-term follow-up. In practice, medication assessment and decision-making often rely on multidisciplinary treatment (MDT) collaboration. Including a pharmacist can significantly enhance cancer pain management efficiency and improve patient pain control and medication adherence. Notably, widely used public datasets like MIMIC [11; 10] and FAERS  lack ongoing MDT assessments of patients' medication rationality.

We developed the PEACE (Pharmaceuticals for Easing cAncer pain with CarE) dataset, a comprehensive resource specifically designed for the construction of TEA and MR systems for cancer pain. Compared to other cancer pain related datasets, PEACE offers significant improvements in both the size of patient records and the duration of observations. To our knowledge, it is the first cancer pain medication dataset that provides long-term patient observations and comprehensively contains the information required for MDT decision-making. This dataset includes in-hospital features (patient information, laboratory indicators, physician diagnoses) and out-of-hospital features (patient comments, medication feedback, impact on life). Additionally, it details the MDT's evaluation of the patient's medication use and treatment planning rationale.

Our main contributions are as follows:

1. We release the PEACE dataset1, the first known resource specifically designed for pharmaceutical care in cancer pain management. This dataset contains over 38,000 patient records, encompassing 103 features related to diverse pathologies, symptoms, and etiologies. It includes multi-visit, long-term observations for 2,600 patients, providing valuable insights into patient care trajectories. 2. PEACE incorporates medical professionals' assessments of the current health state and the rationale behind medication plans, which are not present in existing datasets.
3. We conducted extensive experiments with this dataset, validating the efficacy of 13 machine learning and deep learning approaches in enhancing treatment effect evaluations and medication decision-making.

## 2 Related work

To build reliable TEA and MR systems, it is crucial to gather comprehensive data on both inpatients and outpatients. This includes medication details, treatment outcomes, adverse events and their etiologies, treatment adjustments, and impact on patients' quality of life. However, no public dataset currently meets all these requirements comprehensively. Widely used datasets such as MIMIC-III  and MIMIC-IV , while detailed in recording medication specifics, lack pharmacist assessments of treatment outcomes. These datasets primarily focus on single hospitalization events rather than the long-term health status of patients, which is particularly disadvantageous for managing chronic conditions like cancer pain. Similarly, the eICU Collaborative Research Database  documents essential medication usage information but fails to provide clear explanations of medication effects and lacks long-term patient follow-up. Additionally, these datasets lack patient feedback on their treatment plans. SEER  is a representative large-scale cancer registry databases in the United States, compiling extensive retrospective clinical data. It primarily focuses on the treatment processes of cancer patients but does not include assessments of medication plans following hospital discharge. For medication effect assessment, the SIDER  database lists adverse reactions for marketed drugs, while the FAERS  and TwoSIDES  datasets record potential drug interactions. Although these datasets are useful in some aspects, they generally lack detailed records of patients' conditions and necessary clinical features, limiting their practical utility. ISS is a cancer pain assessment dataset that includes videos of 29 patients, along with their self-reported pain scale scores, used to predict the patients' pain levels. A common shortfall of these datasets is their inability to continuously observe and assess patient conditions. They often describe data from a single perspective and fail to integrate the diverse characteristics needed for making MDT decisions. The following section details the PEACE dataset and the steps taken to construct it, aiming to address the deficiencies of existing datasets.

## 3 Dataset Construction

As illustrated in Figure 1, the PEACE dataset construction process begins with clinical data manually collected from hospital, along with follow-up web interactions for patient-reported symptoms. Patient identifiers are anonymized, and dates are shifted to ensure privacy. Feature selection is conducted by experts using the Delphi consensus method , a structured communication technique that relies on a panel of experts answering questionnaires in multiple rounds to reach a consensus on key attributes. Data preprocessing involves standardization, imputation, and simplification. Finally, features are categorized, and the processed data is structured into a consistent format, ready for analysis, ensuring both data integrity and privacy protection.

### Data Sources

The data used in this study was collected from two main sources. The first part originated from the Xiangya hospital, encompassing a broad range of patient information, including patient demographics, clinical signs, medication details, physiological parameters, and treatment outcomes. The second part of the data source is our cancer pain online follow-up platform. This platform allows continuous follow-up of cancer pain patients after hospital discharge through patient-initiated reports. It includes patient basic information, pain levels, adverse reactions from medication, dynamic adjustments to medication, treatment of adverse reactions, and other related data. Further details regarding the online follow-up platform can be found in Appendix A.

The inclusion criteria for this research required subjects to have a definitive diagnosis of cancer with associated pain, confirmed via histopathological or cytological methods, with cancer being the primary diagnosis in their medical records. Exclusion criteria included cases with severely incomplete key medical records or significant medical complications. Our work is approved by the Institutional Review Board of the Xiangya Hospital (Ethics Approval ID: 202109422). This work does not interfere with clinical care and treatment procedures. Informed consent is obtained from the patients, and all protected health information is de-identified.

Figure 1: Overview of the data construction process for the PEACE dataset

### De-identification and Privacy Protection

In the collected data, patient identifiers were removed, and each patient was assigned a unique randomized code ID. Date and time values were shifted 30 to 80 years into the future using a personalized random offset measured in years. Each patient received an independent date transformation, ensuring that the temporal sequence within their data remained consistent. For instance, if the interval between two measurements in the original data was 15 days, the same interval was maintained in the PEACE dataset. However, temporal data for different patients are not comparable. This means that two patients treated in the year 2100 in the dataset are not necessarily treated in the same year in reality. Patients older than 89 years were uniformly labeled as 89 years old to protect their privacy, and patients younger than 18 years were excluded from the dataset. Finally, patient-specific diagnostic reports were reorganized, classified into different categories, and clearly labeled to facilitate data analysis and model training while ensuring privacy protection.

### Features Selection

Inspired by , this section identifies key features in cancer pain management through the Delphi consensus process, integrating insights from clinical practice and MDT pharmaceutical care. In clinical pharmacy, the Delphi technique is primarily used to develop guidelines or pathways. This is achieved through several rounds of anonymous surveys, repeated consultations, multiple revisions, and generalizations, ultimately leading to the convergence of final opinions . The detailed screening process is outlined in Appendix B.

#### 3.3.1 Expert Panel Recruitment

We employed judgmental sampling , a targeted recruitment strategy, to identify and invite experts in cancer pain management. Detailed descriptions of the study design and objectives were provided to ensure informed participation. This transparency allowed potential candidates to understand the research goals, methods, and their role in contributing expertise. A multidisciplinary team of experts was assembled to create an effective feature list. This team included clinical pharmacists, anesthetists, oncologists, and nurses. All experts met the following criteria: employment at a tertiary hospital, a minimum of five years of experience in cancer pain management, holding an academic role within a provincial cancer pain association, and willingness to participate in two questionnaire rounds. To ensure balanced representation among professionals, we aimed to maintain equal numbers of doctors and nurses as suggested in , with pharmacists serving as additional specialists. We finally recruited 32 experts, including 16 pharmacists, 4 anesthetists, 4 oncologists, and 8 nurses, all based in tertiary hospitals across nine provinces. Their demographics are provided in Appendix B.2.

Experts were required to self-assess their authority (Cr) for each round, based on criteria (Ca) and their familiarity with clinical issues (Cs). The criteria (Ca) encompassed four dimensions: work experience, theoretical analysis, knowledge of domestic and international peers, and insights. Familiarity (Cs) was categorized into five levels: very familiar, familiar, somewhat familiar, unfamiliar, and very unfamiliar, quantified as 1.0, 0.8, 0.6, 0.4, and 0.2, respectively. The questionnaires in both rounds calculated the experts' opinion coordination coefficient (W) and response rate, with a response rate of 75% or higher considered satisfactory. Detailed calculations are provided in Appendix B.1.

#### 3.3.2 Delphi Consensus

**The First Round:** In this round, we initiated the Delphi process by inviting experts to participate via email. We informed participants of all study details. The survey began with an introduction and participant demographics section, collecting information like age, gender, education, profession, title, and years of experience. The core of the survey focused on six key themes relevant to cancer pain management pharmaceutical services: patient basic information, comprehensive pain assessment, previous analgesic treatment, evaluation of previous analgesic treatment, cancer pain medication decision, and follow-up. For each theme, experts rated features using a 5-point Likert scale (agreement scale). Additionally, open-ended sections allowed for written feedback.

Following the first round, we calculated average scores and coefficients of variation for each feature. Consensus for an item was defined by meeting the following criteria: 1) average score \( 4.0\); 2) coefficient of variation \(<0.15\); and 3) no dissenting opinions. However, if an item received "Agree" or "Strongly Agree" from over 25% of experts but an average score below 3.0, it was carried forward to the second round for further discussion. The first round also encouraged the experts to raise relevant clinical questions. This feedback was collated and shared with all participants as reference material for the second round. Finally, the survey concluded with a self-assessment section where experts rated their own level of expertise and agreement with the overall process. Appendix B.3 provides a more in-depth look at the first round of the Delphi process.

**The Second Round:** This round focused exclusively on features that lacked clear consensus in the first round . Experts received their individual scores alongside the overall distribution and percentages of scores from their peers [24; 25]. This facilitated informed reflection and potential adjustments to their initial ratings. We also considered expert suggestions for modifying existing questions or introducing new ones from the first round. These were incorporated into personalized questionnaires for the second round. Stringent inclusion criteria remained for the second round. Features required an average rating of at least 4.0 (strongly agree), and a coefficient of variation less than 0.15 (low variability) to be considered for the final list. Please see Appendix B.4 for a detailed breakdown of the second-round process.

### Data Preprocessing

**Data Standardization:** The raw medication data presented significant challenges for direct modeling due to noise, complex attribute relationships, and high dimensionality. Common issues included disorganization, duplicate records, and missing information, which complicate model training. To mitigate these challenges, we implemented a comprehensive data preprocessing pipeline. For example, we standardized synonym variations within pain intensity labels. Terms like "burning pain," "scaling pain," and "burn-like pain" were standardized to "burning-type pain" to ensure consistent representation. Redundancies were addressed by merging useful fields from duplicate records to enhance data quality. For data inconsistencies and anomalies potentially arising from human errors, we employed a two-pronged approach. When sample sizes permitted, we opted for data correction through expert consultation to preserve valuable information. In cases where data accuracy could not be confirmed, or sample sizes were inadequate, data points were removed to prevent model bias and improve training robustness.

**Feature Categorization:** The original data included numerous multiple-choice features, such as various analgesics with similar effects but different brands or specifications. Patients might also take several similar drugs simultaneously due to complementary effects. Given the large number of possible combinations, directly including these features in the model may lead to suboptimal performance. To mitigate this, we categorized these features to structure them for better usability in machine learning tasks. For instance, combinations of dozens of drugs in the raw data were grouped into seven categories based on their actions and specifications: "Extended Release Strong Opiates (ERSO)," "Immediate Release Strong Opiates (IRSO)," "Extended Release Weak Opiates (ERWO)," "Immediate Release Weak Opiates (IRWO)," "Nonsteroidal Anti-Inflammatory Drugs (NSAID)," "Anticonvulsants/Antidepressants (A/A)," and "Others," with numerical representation of the quantity of medication used per category. Similarly, we classified patients' pain types into four categories by integrating specific pain locations, pain intensity, and the nature of the pain, providing the model with a comprehensive representation of pain characteristics. Additionally, we addressed the high dimensionality of the pain intensity score. The original specific number of times or persistent pain was simplified into a more practical multiclassification (0: none, 1: \(<\)3 times, 2: \(\)3 times, and 3: persistent pain) to improve model efficiency without compromising essential information.

### Dataset Features

Our data construction process resulted in a comprehensive dataset encompassing 103 features, broadly categorized into six groups. The Patient Baseline Information group (50 features) captures demographic and clinical characteristics of the patients, potentially including age, gender, co-morbidities, and disease stage. The Comprehensive Pain Assessment group (15 features) details the extent and characteristics of the patients' pain experience, potentially including pain intensity scores, pain quality descriptors (e.g., visceral pain, somatic pain), and functional limitations. The Previous Analgesic Treatment group (23 features) details the medications and interventions previously used to manage the patients' pain, potentially including medication names, dosages, durations, and routes of administration. The Evaluation of Previous Analgesic Treatment group (5 features) captures the effectiveness and tolerability of prior pain management strategies, potentially including patient-reported outcomes or physician assessments. The Cancer Pain Medication Decision group (9 features) details the rationale behind the selection of specific pain medications for the study participants, potentially including factors like pain type, treatment history, and co-morbidities. The Follow-Up group (1 feature) captures information on patient outcomes after the intervention of interest, potentially including pain response or adverse events. A detailed description of each feature is provided in Appendix B.5.

### Dataset Descriptive Analysis

**Feature distribution:** Table 1 categorizes the 103 features in the PEACE dataset, with numeric features comprising the majority at 75%.

**Demographics:** The socio-demographic statistics of our patients are presented in Figure 2 (a), showing that the 45-74 age group has the highest cancer incidence. Figure 2 (b) illustrates the gender distribution, which is nearly balanced with a male-to-female ratio of 51.4:48.6. See Appendix C for more detailed demographics.

**Visit Statistics:** Table 2 summarizes patient visit statistics. Notably, 7% of patients have multiple visits recorded, with a maximum of 33 visits.

**Patient Sample:** We present a sample patient with selected features from the PEACE dataset in Table 3. The table illustrates how medical staff adjust the patient's medication based on the effectiveness of each treatment and the drug reactions experienced during the medication process. This approach

    &  &  \\  Total & Binary & Multiclass & Numerical & Total & Binary & Multiclass & Numerical & Total & Binary & Multiclass & Numerical \\ 
50 & 6 & 2 & 42 & 15 & 0 & 4 & 11 & 23 & 5 & 0 & 18 \\   &  &  \\  Total & Binary & Multiclass & Numerical & Total & Binary & Multiclass & Numerical & Total & Binary & Multiclass & Numerical \\ 
5 & 0 & 5 & 0 & 9 & 2 & 0 & 7 & 1 & 0 & 1 & 0 \\   

Table 1: Summary of dataset features distribution.

Figure 2: Patient demographics: Age and gender distributionaims to mitigate adverse reactions and achieve better outcomes. The complete data for this patient and additional patient samples are provided in Appendix F.

### Dataset Usage

The PEACE dataset is designated for research purposes exclusively. The dataset access process involves three steps: 1) Completing relevant training (such as the CITI or GCP training), 2) Signing and adhering to a data use agreement, and 3) Obtaining approval from Xiangya Hospital. The agreement outlines responsible data handling practices and emphasizes the importance of following established collaborative research ethics. Models trained on this dataset should undergo rigorous evaluation before real-world deployment. This evaluation should assess the model's performance, generalizability, and representativeness for the target real-world application. A detailed description of the PEACE dataset usage is provided in Appendix E.

    & Number of patients & Avg & Std dev & Min & 1st quartile & Median & 3rd quartile & Max \\  All patients & 38,766 & 1.09 & 0.58 & 1 & 1 & 1 & 1 & 33 \\ Patients with records \(\) 2 & 2,601 & 2.48 & 1.74 & 2 & 2 & 2 & 2 & 33 \\ Patients with records \(\) 3 & 514 & 4.44 & 3.27 & 3 & 3 & 3 & 4 & 33 \\ Patients with records \(\) 5 & 116 & 8.69 & 4.86 & 5 & 6 & 7 & 9.25 & 33 \\ Patients with records \(\) 10 & 29 & 14.82 & 6.25 & 10 & 11 & 13 & 16 & 33 \\   

Table 2: Statistics on the patient records

  
**ID: SJ-289031** &  \\  Gender & Age &  Length of \\ Hospital Star \\  &  Discharge \\ Diagnosis \\  &  Smoking \\ History \\  &  Treatment \\ Method \\  & 
 White Blood \\ Cell Count \\  & Total 50 Features \\ 

[MISSING_PAGE_POST]

   

Table 3: A sample patient from the PEACE dataset (Pain Relief and Post-medication Pain Score: 1. Complete Relief, 2. Partial Relief, 3. Mild Relief, 4. Ineffective)Experiment

### Experimental Setup

#### 4.1.1 Tasks

To establish the TEA/MR system, this study quantitatively assess patient treatment outcomes and guide future treatment strategies. Our PEACE dataset supports two types of prediction tasks: (1) TEA, which is a multi-label classification (levels 1-4) using patient characteristics with time series data to quantify levels of treatment efficacy; and (2) MR, which involves regression analyses utilizing time series data to predict the quantity of various analgesics required by patients following adjustments in their treatment plans based on their medication history.

#### 4.1.2 Baselines

We present the results for 13 algorithms, which cover machine learning and deep learning algorithms, on the PEACE dataset for both tasks. These algorithms include 5 basic machine learning and neural network models: Decision Trees , Logistic Regression , Random Forests , SVM  and MLP ; 3 popular gradient boosting decision tree methods: LightGBM , XGBoost , and AdaBoost ; 3 advanced neural network models designed for time-series data: iTransformer , TransTab , and Mampa ; and 2 neural network models specifically tailored for electronic health records (EHR): Stagenet and Adacare. Details of the baselines are provided in Appendix D.1.

#### 4.1.3 Experiment Environment

In our experiments, 80% of the dataset was used for model building with 5-fold cross-validation, while the remaining 20% served as an independent test set. For detailed information on data partitioning, please refer to Appendix D.2. A random state of 42 was used in all our experiments. The models were trained on a computing platform platform equipped with an Intel i7-13700KF CPU, 128GB of memory, and an NVIDIA RTX4090 24GB GPU.

#### 4.1.4 Evaluation Metrics

In our experiments, we used the following metrics to evaluate the performance. For TEA (classification tasks), we used the metrics of accuracy (ACC), area under the receiver operating characteristic curve (AUROC), F1 score, recall, and precision. For MR (regression tasks), we used mean squared error (MSE) and mean absolute error (MAE). The details of the metrics are given in Appendix D.3.

### Results

For the TEA task, as shown in Table 4, the GBDT algorithm LightGBM achieved the highest ACC and Recall. This success is due to its ability to handle large-scale, high-dimensional data, robust feature selection, and effective regularization to prevent overfitting. XGBoost also performed well, closely following LightGBM. Basic models like Decision Trees and Logistic Regression, although simple and efficient, struggled with complex data patterns and multidimensional features. General neural network models required more precise tuning and did not perform as well on the tabular format of the PEACE dataset. In contrast, EHR-specific models were better at identifying task-relevant features, leading to improved performance. Detailed results for the K-fold and independent test set experiments for the TEA task are given in Table 14 of Appendix D.4.

For the MR task, as shown in Table 5, tree-based models, including decision trees, random forests, and GBDT, demonstrated good performance and stability, achieving the top results in most metrics. Advanced neural network models like iTransformer, while excelling in specific categories, were prone to overfitting and lacked the robustness of tree-based models. Similar to their performance in the TEA task, neural network models optimized for the EHR scenario show potential for significant improvement. Detailed results on the K-fold and independent test set experiments for the MR task are given in Table 15 of Appendix D.4.

[MISSING_PAGE_FAIL:9]

Conclusion and Future Work

In this work, we introduce PEACE, a comprehensive dataset for cancer pain medication therapy, which comprises over 38,000 patients experiencing cancer-related pain, including more than 2,600 patients with multiple long-term follow-up records. The dataset integrates features from hospital and online follow-up platform through an expert Delphi consensus process. These features encompass demographics, laboratory tests, pain assessments, medication treatments, and variables related to outcome evaluation and medication recommendations. Using this dataset, we evaluated the performance of 13 models on the classification and regression tasks. Our results indicate that existing models are unable to fully harness the dataset's potential. Constructed from a multidisciplinary therapeutic research perspective, PEACE thoroughly incorporates the specifics of the medical field, making it a valuable resource for researchers seeking to extract meaningful medical information. This dataset could be utilized in many studies concerning cancer pain.

In the next phase of our work, we will continue to incorporate more patient information into our dataset to enhance its generalizability and representativeness. We also plan to expand our selected features, particularly with more detailed laboratory indicators such as blood drug concentrations, based on further expert advice. Additionally, we intend to explore potential correlations between human genes, drug molecules, and cancer pain from the perspectives of biogenetics, bioinformatics, and medicinal chemistry to enhance medication safety for patients and reduce adverse effects. This approach will help enhance medication safety and reduce adverse effects. Finally, we will validate our models in clinical settings to assess their practical efficacy and reliability.