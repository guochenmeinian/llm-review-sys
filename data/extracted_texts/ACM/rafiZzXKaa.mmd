# Our contributions are as follows.

[MISSING_PAGE_FAIL:1]

such methods have great limitations and will drop their performance under open-world assumptions. These CDSR approaches still rely heavily on overlapping users, with more than 70% of users being common across domains, to establish bridge connections among multiple domains and perform knowledge aggregation and transition processes.

The second challenge arises from an observation in open-world scenarios: Recommender systems frequently engage primarily with active users. In the training phase, some unexposed users who are not exposed to the platform, and thus unbeknownst to the models, may surface in the testing stage. This issue causes a performance drop after adapting from an offline to an online environment . So, the second challenge _is how to alleviate the selection bias of the model in the environment with the data distribution shift?_ CaseQ  learns context-specific representations of sequences to capture temporal patterns in various environments. Similarly, DCRec  proposes a novel debiasing contrastive learning paradigm to address the popularity bias issue in single-domain recommendation systems. However, these methods overlook the selection bias among the domains that exists in open-world scenarios, leading to biased performance estimation. To address this selection bias,  proposes an Inverse-Propensity-Score (IPS) estimator, yet often suffering high variance.

In this paper, we first rethink cross-domain sequential recommendation under open-world assumptions and identify the primary challenges. To address these challenges, we propose an adaptive multi-interest debiasing framework for CDSR, which includes a multi-interest information module and a doubly robust estimator.**1)** To our best knowledge, this paper is the first effort addressing the open-world challenges in CSDR. We conduct empirical analysis and show that extending existing CDSR models to the open-world environment yields two primary challenges that used to be overlooked: i) How to construct a model in scenarios where the majority of users are non-overlapping, without relying on overlapping users? and ii) How to eliminate selection bias of the model with the data distribution shift?

**2)** We design an **A**daptive **M**ulti-**I**nterest **D**ebiasing framework for cross-domain sequential recommendation (**AMID**), which could be integrated with most off-the-shelf SDSR methods . It is composed of a multi-interest information module (**MIM**) and a doubly robust estimator (**DRE**). MIM transfers cross-domain information for both overlapping and non-overlapping users, while DRE eliminates selection bias and popularity bias to obtain unbiased performance estimation. Moreover, we provide a theoretical analysis that demonstrates the superiority of DRE in terms of bias and tail bound, compared to the IPS estimator used in .

**3)** In order to foster further research in the community, particularly under open-world assumptions, we gathered a real-world financial CDSR dataset from Alipay, called "**MYbank**-**CDR**". As far as we are aware, "MYbank-CDR' is the first publicly available cross-domain financial dataset. The collected dataset "MYbank-CDR' and the source code will be made publicly available upon acceptance.

**4)** We demonstrate that our proposed **AMID**, when integrated with multiple single-domain sequential recommendation models, achieves state-of-the-art results compared to CDR, CDSR and debiasing methods. Additionally, we conduct online experiments to validate the performance of our proposed framework in a real-world CDSR financial platform with millions of daily traffic logs.

## 2. Motivation: Towards Open-World

### CDR

Current CDSR methods conduct their experiments under closed-world assumptions which assume that there exist fully or mostly overlapping users across domains. However, in real-world applications, the number of overlapping users across domains is typically a minority. To validate their performance in the open-world environment, we perform motivational experiments on the Amazon dataset with three single-domain sequential recommendation methods (BERT4Rec , GRU4Rec  and SASRec ) and three cross-domain sequential recommendation methods (Pi-Net , DASL  and C\({}^{2}\)DSR ). Following previous works , we vary the overlapping ratio 1 to simulate different CDSR scenarios. We present a plot of the performance of the models from two domains in Fig. 2. In the Movie domain, SASRec (SDSB) achieves the best performance. Similarly, in the Music domain with a 100% overlapping ratio, SASRec (SDSR) outperforms DASL (CDSR). This is attributed to the fact that existing CDSR methods rely on overlapping users to construct their models or transfer information across domains, which leads to a decrease in performance in a partially

Figure 2. Solid lines denote the SDSR methods, while dashed lines denote the CDSR methods. Due to the lack of abundant overlapping users, SASRec (SDSR) outperforms all the CDSR methods in the Movie domain.

overlapping scenario. Hence, this finding serves as a motivating factor for us to design a high-performing CDSR model that can be applied in the open-world environment (_1st challenge_). Furthermore, a counterintuitive phenomenon has been observed, where SDSR methods exhibit a lesser reliance on overlapping users compared to CDSR methods. In an ideal scenario, SDSR methods should exhibit inferior performance compared to CDSR methods when the overlapping user ratio is high. However, experimental results have revealed that the performance gap actually diminishes as the ratio decreases. Surprisingly, when the ratio is small, the performance of a few SDSR methods outperforms CDSR methods, and in some cases, even when the ratio is high.

To analyze the underlying cause for this phenomenon, we try to visualize the distribution shift between the train set and the test set. Figure 6 displays the t-SNE visualization of user embeddings 2 for the train set (blue dots) and the test set (green dots). Training with a 25% proportion simulates the situation where the training data in a real-world scenario may suffer from unseen factors. We observed that the distribution difference at 25% proportion is larger than that at 100% proportion. These visualization results confirm that the distribution shift from training to testing indeed exists in the CDSR scenarios. The distribution shift often occurs in a real-world platform under open-world assumptions. In real-world recommendation systems, users to be exposed are sometimes selected by the recommendation algorithm based on factors such as estimated conversion rates and business rules. During training, only the data of these exposed users are used because their interaction labels are considered meaningful, while the unexposed users are overlooked. However, during the inference stage, estimated conversion scores are required for all users, including the unexposed ones, in order to determine the selection of users to be exposed in the recommendation system. The rating data of these unexposed users are missing not at random (Brocker et al., 2017), leading to selection bias in the CDSR scenario. Therefore, this raises another question: "How can we mitigate data selection bias across multiple domains in the open-world environment?" (_2nd challenge_)

## 3. Preliminaries

### Problem Definition

In this paper, we consider a partially overlapping CDSR scenario composed of multiple domains \(=\{z_{1},...,z_{||}\}\). Let \(=\{u_{1},...,u_{||}\}\), \(=\{v_{1}^{Z_{1}},...,v_{||}^{Z_{2}}\}\) be the user set, item set, rating set. A user who only has historical behaviors in one domain is referred to as a non-overlapping user, while a user with historical behaviors in multiple domains is referred to as an overlapping user. As a certain user, denote \(=\{S^{Z_{1}},...,S^{Z_{||}}\}\) the corresponding sequential behaviours of the users. For example, \(S^{Z_{1}}=\{v_{1},...,v_{T}\}\) represents the single-domain sequence, where \(T\) is a variable length. Given the data \(=\), CDSR aims to develop a personalized ranking function that utilizes the past item sequences from multiple domains of a user and predicts the next item (i.e. \(v_{T+1}\)) in each domain that the user is most likely to choose.

Different from conventional cross-domain recommendation (CDR), CDSR methods pay more attention to modeling sequential behavior dependencies. Mathematically, the objective of CDR methods are formulated as follows:

\[\;\;P^{X}(r_{u,v}^{X}=v|U^{X},U^{Y},V^{X}),\; \;v^{X}. \]

where \(r_{u,v}\) denotes the prediction from user \(u\) to item \(v\) in domain \(X\). However, the objective of CDSR approaches is to predict the next item for a given user \(u\) based on their interaction sequences:

\[\;\;P^{X}(r_{|S^{X}|_{+1}}^{X}=v|S^{X},S^{Y},U^{X},U^{Y},V^{ X}),\;\;v^{X}. \]

### Causal Graph

To tackle the issue of incomplete and insufficient observed information, we construct a causal view and propose an adaptive multi-interest debiasing framework. \(_{U}^{Z}\), \(_{U}^{Z}\), \(SC^{Z}\), and \(GC\) denote the random variables of the historical event sequence, the observed ratings, the domain-specific confounder, and the general confounder. \(O\), which represents the observed variable of the instance (\(O=1\), observed; \(O=0\), unobserved), is decided by \(O^{Z_{1}}\) and \(O^{Z_{2}}\) commonly. If a user is not observed in either of the two domains, \(O\) is 0; otherwise, it is 1. The SDSR methods focus on learning the specified confounder \(SC^{Z}\) for a given user, while the previous CDSR approaches construct models based on overlapping users to obtain the general confounder \(GC\). The links between \((SC^{Z}\), \(GC)_{U}^{Z}\) represent the causal effect of the domain-specific and general confounders on their interaction label. In observational studies (Kang et al., 2019; Wang et al., 2019; Wang et al., 2019), the collected rating data is often unevenly presented, and the variables \(_{U}^{Z}\) and \(_{U}^{Z}\) can affect the observation \(O\) of a given instance. This mechanism gives rise to selection bias, resulting in an inconsistent

Figure 3. Selection bias can cause a distribution shift in the cross-domain sequential scenario with few overlapping users (control ratio is 25%).

distribution of the observed rating data as compared to the ideal test distribution.

From another perspective, the causal graph depicts two sources of association between the causes \(S\) and the outcome \(R\): (1) the desirable causal effect \(S(SC,GC) R\): (2) the collision path \(S O R\) that connects \(S\) and \(R\) through their common (conditioned on) effects \(O=1\). Analyses conditioned on \(O=1\) may generate spurious associations between \(S\) and \(R\). It is important to note that the domains \(Z_{1}\) and \(Z_{2}\) commonly influence the observed variable. Models learned from observed data may be affected by the issue of selection bias. In the open-world environment, this is a critical issue that must be addressed to prevent a drop in online performance.

### Single-domain Sequential Recommendation Methods

In this research, our primary objective is to develop a universal cross-domain structure that can improve the performance of single-domain sequential recommendation models by seamlessly integrating them into comprehensive CDSR models. To achieve this, we first explore the fundamental mechanisms of the single-domain sequential recommendation network.

**Embedding layer.** We map the fixed-length sequence \(S=\{o_{1},...,o_{T}\}\) to a \(d\)-dimensional embedding space, which is achieved through truncation or padding. Besides, a learnable parameter position embedding matrix is utilized to enhance the chronologically ordered information of the sequence. Specially, we get the sequence embedding \(_{u}=\{^{}_{o_{1}},...,^{}_{o_{T}}\} ^{T d}\).

**Sequential information encoder.** In the previous single-domain sequential recommendation methods, they designed various sequential information encoders to extract short-/long-term item relationships among the sequence. For example, GRU4Rec (He et al., 2016) designs multiple GRU layers for the sequential recommendation. SASRec (Shen et al., 2017) proposes stacking self-attention blocks with residual connections, while BERT4Rec (Wang et al., 2018) develops the deep bidirectional self-attention to model user behavior sequences. For convenience, we obtain the enhanced sequential embedding via a function \(\) which represents their designed sequential information encoder. This process is formulated as \(_{o_{1}},...,_{o_{T}}=(^{}_{o_ {1}},...,^{}_{o_{T}})\).

## 4. Methodology

### Multi-interest Information Module

In this section, we will introduce our multi-interest information module, which can convert a normal SDSR model into a CDSR model. The module consists of two steps: interest group construction and information propagation. For simplicity, we only include two domains as examples and show the operation on them, but our methods can be applied to multiple domains. Our design is motivated by the goal of creating interest groups by identifying users with similar preferences and sharing information as widely as possible.

**Group construction.** Initially, we compute the group flag by evaluating the similarity between their sequences point-by-point. For instance, consider two sequences \(^{Z_{1}}_{u_{i}}^{T d}\) and \(^{Z_{2}^{Z}}_{u_{j}}^{T d}\) from users \(u_{i}\) and \(u_{j}\) in different domains. We then determine the group flag among users as follows:

\[^{}{}_{ij}=\{(^{Z_{1}}_{u_{1}}_{1})( ^{Z_{2}^{Z}}_{u_{j}}_{2})^{}\} \]

where \(_{1},_{2}^{d d}\) are the transformation matrix. The max function is utilized to find the nearest similarity between user \(u_{i}\) and \(u_{j}\) from \(T T\) similarity relations. Last, we get the group flag via the threshold determination where \(_{ij}=1\) means the users \(u_{i}\) and \(u_{j}\) are in the same group.

\[_{ij}=\{0&,\\ 1&,\\ .^{}{}_{ij} k\\ ^{}{}_{ij} k\\  \]

**Information propagation.** After constructing the interest groups, the cross-domain information will propagate among the same group. The cross-domain message \(_{u_{i}^{Z_{1}} u_{j}^{Z_{2}}}^{T d}\) can be obtained:

\[_{u_{i}^{Z_{1}} u_{j}^{Z_{2}}}=_{ij}(S^{Z_ {2}^{Z}}_{u_{j}}_{ip}) \]

where \(_{ip}^{d d}\) is the trainable parameter to transfer the cross-domain knowledge. When the user has the behaviors in multiple domains, the message from the same user in a different domain (e.g. \(_{u_{i}^{Z_{1}} u_{j}^{Z_{2}}}\)) will also be propagated. For the target user (e.g. \(u_{i}^{Z_{2}}\)), we concatenate all the information from other domains along the last dimension to obtain the aggregated message \(^{}_{u_{i}^{Z_{1}}}^{T d N}\), where \(N\) is the number of the sampled users. We then use transformation matrix \(_{C}^{N 1}\) and \(_{F}^{d d}\) to fuse the information and get the enhanced sequence representation \(S^{Z_{2}^{Z}}_{u_{i}}^{2T d}\) concatenated with the initial sequence information, where the Squeeze function reduces the dimension of the matrix. For users in other domains, information propagation occurs in a similar manner.

\[S^{Z}_{u_{i}}=(S^{Z}_{u_{i}},(^ {}{}_{u_{i}^{Z}}_{C}))_{F} \]

### Prediction Layer

We construct a prediction layer to estimate the user's \(u_{i}\) preference towards the target item \(u_{k}\) as:

\[}^{Z}_{u_{i},}=(((S^{Z}_{ u_{i}})||^{Z}_{k})) \]

where MLPs consist of stacked MLP layers that take as input the concatenation of enhanced sequence embedding and item embedding. The sigmoid function is denoted by \(\), and the Mean function averages the embedding along the temporal dimension.

### Doubly Robust Estimator for CDSR

In this part, we propose a novel doubly robust estimator, which generalizes the traditional DR estimator (Wang et al., 2018) to the cross-domain sequential scenarios. Suppose \(}^{Z}^{T V^{Z}}\) be a prediction matrix and \(^{Z}^{T V^{Z}}\) be a true rating matrix, the prediction inaccuracy \(\) and the doubly robust estimator \(^{*}_{}\) are defined as:

\[=|}_{Z} ^{2}|}_{u,u^{Z}}e^{Z}_{u,}. \]

\[^{*}_{}=|}_{Z} ^{2}|}_{u,u^{Z}}( }^{Z}_{u,}+_{u,}}^{Z}_{u,} }{}^{Z}_{u,}}). \]where \(^{Z}_{u,}=|}^{Z}_{u,}-}^{Z}_{u,}|\) or \(^{Z}_{u,}=(}^{Z}_{u,}-}^{Z}_{u,})^{2}\) via optional measure metrics for MAE or MSE. The imputation error \(^{Z}_{u,}=g_{^{Z}}((^{Z}_{u})|| ^{Z}))\) is computed by imputation model which aims to estimate the prediction error \(_{u,}\) on the observed data. We also learn the propensity \(_{u,}=g_{^{Z}}((^{*Z}_{u})|| ^{Z})\). The imputation model \(g_{^{Z}}\) and the propensity model \(g_{^{Z}}\) are implemented in a multi-task manner. The bias of the estimator is derived as follows.

**Lemma 4.1 (Bias of DR Estimator)**. Given imputation errors \(}^{Z}\) and learned propensities \(}^{Z}\) for all user-item pairs, the bias of the DR estimator in the CDSR task is

\[(^{*}_{DR})=|}_{Z}[^{Z}|}|_{u,^{Z} }^{Z}_{u,}^{Z}_{u,}|] \]

where the imputation error \(^{Z}_{u,}\) and the learned propensities \(^{Z}_{u,}\) is defined as:

\[^{Z}_{u,}=^{Z}_{u,}-}^{Z}_{u,}}{^{Z}_{u,}},\ \ ^{Z}_{u, }=^{Z}_{u,}-^{Z}_{u,} \]

**Corollary 4.1 (Double Robustness)**. The DR estimator for CDSR is unbiased when either imputed errors \(}^{Z}\) or learned propensities \(}^{Z}\) are accurate for all user-item pairs.

**Lemma 4.2 (Tail Bound of DR Estimator)**. Given imputation errors \(}^{Z}\) and learned propensities \(}^{Z}\), for any prediction matrix \(}^{Z}\), with probability 1-\(\), the deviation of the DR estimator from its expectation has the following tail bound in CDSR task.

\[|^{*}_{DR}-_{0}|^{*}_{DR}||)}{2||(_{Z}|^{Z}|)^ {2}}_{Z}[^{Z}|}_{u, ^{Z}}(_{u,}}{^{Z}_{u, }})^{2}]} \]

**Corollary 4.2 (Tail Bound Comparison)**. Suppose imputed errors \(}^{Z}\) are such that \(0^{Z}_{u,} 2^{Z}_{u,}\) for each \(u,^{Z}\), then for any learned propensities \(\), the tail bound of the proposed estimator will be lower than that of the IPS estimator which is utilized in IPSCDR (Tail and Dornings, 2014). The proof of the lemmas and the corollaries are demonstrated in Appendix A.

### Joint learning

We apply an alternating training for joint learning. In the first step, we train the imputation and prediction models on the observed data by minimizing the proposed hybrid loss in the first step.

(13) \[_{e}(,,)= |}_{Z}(^{Z}|}_{u,^{Z}}_{u, }+_{1}_{u,^{Z}}_{u, }-_{u,})^{2}}{_{u,}})\] \[+_{2}||||_{F}^{

[MISSING_PAGE_FAIL:6]

### Performance Comparisons

**Compared Methods.** We compare our method with three classes of baselines: (1) Single-domain sequential recommendation methods, i.e., BERT4Rec (Devlin et al., 2019), GRU4Rec (He et al., 2016) and SASRec (He et al., 2016). (2) Conventional Cross-domain recommendation methods, i.e., STAR (Wang et al., 2019), MAMDR (He et al., 2016), SSCDR (He et al., 2016). (3) Cross-domain sequential recommendation methods, i.e., Pi-Net (Wang et al., 2019), DASL (He et al., 2016) and C\({}^{2}\)DSR (He et al., 2016). (4) Debiased recommendation methods, i.e., DCRec (Wang et al., 2019), CaseQ (He et al., 2016) and IPSCDR (He et al., 2016). A detailed introduction to these baselines can be found in Appendix C.2. As shown in Table 4, our AMID is the most versatile and universal approach which considers propagating cross-domain knowledge for both overlapping users and non-overlapping users and can combine with most off-the-shelf SDSR backbone models. Regarding the debiasing frameworks (He et al., 2016; Wang et al., 2019), our AMID approach can simultaneously alleviate multiple types of bias, especially selection bias, from multiple domains. Additionally, our proposed doubly robust estimator for CDSR has a low variance, which is different from the IPS estimator from IPSCDR (He et al., 2016) with high variance (He et al., 2016).

**Quantitative Results.** Tables 1-2 present the quantitative comparison results on two CDSR tasks with different selection bias magnitudes. A larger \(_{u}\) indicates a less biased scenario. The best results of each column are highlighted in boldface, while the second-best results are underlined. As expected, the performance of all models increases with increasing \(_{u}\), since more biased scenarios may make it harder for models to converge. Our analysis yields the following insightful findings: (1) In most cases, the debiasing baselines, which eliminate the biases produced in domains, perform better than the CDSR baselines in more biased scenarios (i.e. \(_{u}=25\%\)). (2) In a more biased scenario with smaller \(_{u}\), our framework achieves more significant performance compared to the second-best models, indicating that our AMID effectively alleviates the bias. (3) Benefiting from the low variance in our estimator, our AMID is more unbiased and performs better than IPSCDR.

**Model Efficiency.** All comparative models are trained and tested on the same machine, which has a single NVIDIA GeForce A100 with 80GB memory and an Intel Core i7-8700K CPU with 646 RAM. Notably, the number of parameters for typical C\({}^{2}\)DSR, SASRec + CaseQ, SASRec + IPSCDR, and SASRec + AMID were of the same order of magnitude, denoted as 0.276M, 0.210M, 0.192M, and 0.193M. The training/testing efficiencies of C\({}^{2}\)DSR, SASRec + CaseQ, SASRec + HSCDR, and SASRec + AMID in processing one batch of samples are 0.130s/0.049s, 0.083s/0.027s, 0.143s/0.045s, and 0.111s/0.032s, respectively. Therefore, our AMID achieves superior performance enhancements in open-world CDSR scenarios while maintaining promising time efficiency.

**Ablation Study.** To better evaluate the effectiveness of each key component in our approach, we conducted an ablation study by comparing it with a variant that only utilized MIM. Notably, we did not include a variant that only employed DRE, as our approach would degrade into an SDSR method in the absence of MIM. However, our variant equipped with only the multi-interest information module (MIM) still achieves state-of-the-art results in most cases. This is because our proposed module can effectively propagate potential interest information among both overlapping and non-overlapping users.

### Online A/B Test

We conduct large-scale online A/B tests on open-world financial CDSR scenarios with partially overlapping users. In the online serving platform, a large number of users participate in one or multiple financial domains, such as purchasing funds, mortgage loans, or discounting bills. Specifically, we selected three popular domains - "Loan," Fund," and "Account" - from the serving platform, with partially overlapping users, as the targets of our online testing. We calculate the average statistics of online traffic logs for one day and present them in Table 5. For the control group, we adopt the current online solution for recommending themes to users, which is a cross-domain sequential recommendation method that utilizes noisy auxiliary behaviors directly. For the experiment group, we setup our method with a mature SDSR approach that has achieved remarkable success in the business. We evaluate the results based on three metrics: the number of users who have been exposed to the service, the number of users who have clicked inside the service, and the conversion rate of the service (denoted by \(\) exposure, \(\) click, and CVR, respectively). All of the results are reported as the lift compared to the control group and presented in Table 6. In a (78) fourteen-day online A/B test, our method improved the average exposure by 9.65%, the click rate by 5.69%, and the CVR by 1.32% in the three domains.

larger threshold \(k\) (\(0.5 0.7\)) leads to better performance, as more related interest information can be transferred. However, when the threshold \(k\) is increased beyond 0.7, the model's performance drops due to noise interference and redundant information. Therefore, to achieve superior performance, we set the threshold \(k\) to 0.7.

**The number of the sampled users.** To explore the impact of the number of sampled users on the multi-interest information module, we conduct ablation experiments varying the number of sampled users from 128 to 1024. Our findings suggest that an increase in the number of sampled users initially improves the recommendation performance, but it eventually declines when the matching neighbors reach 1024. This observation indicates that having too few sampled users would provide insufficient transferred information, while too many sampled users could introduce interference noise and compromise the model's performance. In practice, we select the number of sampled users to be \(512\) as it results in the best performance for our model. More analysis and results can be found in Appendix C.3.

## 6. Related Work

**Conventional cross-domain recommendation** has emerged as a promising solution for mitigating data sparsity and cold-start issues encountered in single-domain recommendation systems. Early CDR studies (Garfinkel et al., 2014; Li et al., 2015) have primarily focused on developing approaches that transfer cross-domain knowledge by relying on overlapping users. However, real-world CDR scenarios often do not satisfy strict overlapping requirements and exhibit only a small fraction of common users across domains. To tackle this challenge, recent methods (Zhou et al., 2017; Li et al., 2015) have proposed a network structure comprising shared and domain-specific networks to effectively capture the unique characteristics and commonalities across all domains simultaneously. While these CDR approaches incorporate valuable information from relevant domains to enhance performance in the target domain, they still encounter difficulties in addressing the contextual sequential dependencies within users' interaction history, which are essential for comprehensive modeling in CDSR tasks.

**Cross-domain sequential recommendation** is designed to improve recommendations for SR tasks that involve items from multiple domains. Pi-Net (Zhu et al., 2017) and PSJNet (Zhu et al., 2018) devise the gating mechanisms to transfer the information among the overlapping users. Similarly, DASL (Liang et al., 2018) designs a dual-attention mechanism to bidirectionally transfer user preferences within the overlapping users. The interaction bipartite graph (Chen et al., 2018; Li et al., 2015) is constructed to propagate the information among users. C\({}^{2}\)DSR (Chen et al., 2018) introduces a contrastive objective combined with GNNs to enhance the representation of user preferences. However, these works construct their cross-domain unit relying on the overlapping users under closed-world assumptions, leading to worse performance in the open-world case.

**Debias for recommender systems** are proposed to alleviate the widespread bias in the user behavior observed data, including the selection bias (Chen et al., 2018; Li et al., 2015), position bias (Garfinkel et al., 2014; Li et al., 2015), exposure bias (Li et al., 2015; Li et al., 2015) and popularity bias (Garfinkel et al., 2014; Li et al., 2015). To address selection bias in RS, two standard approaches have been proposed: the error-imputation-based (EIB) approach and the inverse-propenity-scoring (IPS) approach. The EIB approach (Zhu et al., 2018) estimates the prediction error for missing ratings, while the IPS approach (Zhu et al., 2018; Li et al., 2015) reduces selection bias by optimizing the risk function with the inverse propensity score. Recently, (Li et al., 2015) proposes an IPS estimator for cross-domain scenarios with multiple restrictions. However, EIB methods may have a large bias due to imputation inaccuracy (Chen et al., 2018), and propensity-based methods may suffer from high variance (Zhu et al., 2018), leading to non-optimal results. (Zhu et al., 2018) propose a self-normalized inverse propensity scoring estimator to reduce the variance of the IPS estimator. To design a less biased estimator, the doubly robust model (Zhu et al., 2018) integrates the imputation model with the propensity score for the single-domain recommendation.

## 7. Conclusions and Discussions

In this paper, we conduct a thorough study of existing CDSR methods under open-world assumptions. To overcome the challenges, we devise an adaptive multi-interest dephasing framework that includes a multi-interest information module (MIM) and a doubly robust estimator (DRE) for CDSR. MIM utilizes the user behaviors to build the interest groups and propagate the information among both overlapping and non-overlapping users, while DRE introduces a cross-domain debiasing estimator to reduce the estimation bias in an open-world environment. Besides, we collect a financial industry dataset from Alipay, which includes over one billion users. Extensive offline and online experiments show the remarkable efficacy of our approach, as it outperforms existing methods including CDSR methods and debiasing methods in various evaluation metrics.

**Limitations.** Our MIM constructs interest groups between pairs of domains, which share cross-domain knowledge as widely as possible. In the real-world platform, commercial activities are usually composed of multiple domains. However, constructing all the groups for \(||\) domains has a time complexity of \((||^{2})\), which can become quite time-consuming as the number of domains increases. Therefore, it is important to develop more efficient methods for constructing groups among multiple domains in future work.

Figure 6. Impact of the threshold \(k\) and the number of the sampled users.