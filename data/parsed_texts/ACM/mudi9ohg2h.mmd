# Individual Welfare Guarantees in the Autobidding World with Machine-learned Advice

Anonymous Author(s)

###### Abstract.

Online advertising channels commonly focus on maximizing total advertiser welfare to enhance channel health, and previous literature has studied augmenting ad auctions with machine learning predictions on advertiser values (also known as _machine-learned advice_) to improve total welfare. Yet, such improvements could come at the cost of individual bidders' welfare and do not shed light on how particular advertiser bidding strategies impact welfare. Motivated by this, we present an analysis on an individual bidder's welfare loss in the autobidding world for auctions with and without machine-learned advice, and also uncover how advertiser strategies relate to such losses. In particular, we demonstrate how ad platforms can utilize ML advice to improve welfare guarantee on the aggregate and individual bidder level by setting ML advice as personalized reserve prices when the platform consists of _autobidders_ who maximize value while respecting a return on ad spend (ROAS) constraint. Under parallel VCG auctions with such ML advice-based reserves, we present a worst-case welfare lower-bound guarantee for an individual autobidder, and show that the lower-bound guarantee is positively correlated with ML advice quality as well as the scale of bids induced by the autobidder's bidding strategies. Further, we show that no truthful, and possibly randomized mechanism with anonymous allocations can achieve universally better individual welfare guarantees than VCG, in the presence of personalized reserves based on ML-advice of equal quality. Moreover, we extend our individual welfare guarantee results to generalized first price (GFP) and generalized second price (GSP) auctions. Finally, we present numerical studies using semi-synthetic data derived from ad auction logs of a search ad platform to showcase improvements in individual welfare when setting personalized reserve prices with ML-advice.

2021

## 1. Introduction

Online advertisers have access to a vast array of digital advertising channels, such as social media, web display, and keyword search, from which they can procure ad impressions and drive user traffic. One possible way for these channels to improve overall attractiveness and retention is to design appropriate ad auction mechanisms that enhance advertisers' total welfare, which reflects the aggregate advertiser-perceived value of procured ad impressions on the channel. For instance, consider advertisers whose ad campaign objective is to maximize ad clicks that direct users to landing pages of their services or products, as described in (Song et al., 2017). These advertisers' perceived value of procured ad impressions is their click conversion rate, and thereby ad channels' welfare maximization goal translates into improving the aggregate realized click conversion among all participating advertisers.

Academic literature has developed various approaches to improve total welfare, one of which involves using machine learning tools to predict advertiser values based on user interactions with ads. In the instance where welfare corresponds to click conversion, channels use ML algorithms to produce predictions (i.e., ML advice) on click conversion rates for impressions. See (Song et al., 2017; Wang et al., 2017; Wang et al., 2017) or (Wang et al., 2017) for a comprehensive survey on click predictions. Having obtained ML advice on advertiser values, recent works such as (Brockman et al., 2017; Wang et al., 2017; Wang et al., 2017) motivate the approach to augment existing ad auctions by directly setting personalized reserve prices for advertisers using such ML advice, and show theoretical guarantees on total welfare improvement.

Nevertheless, these results present two important issues. First, improving total welfare doesn't necessarily ensure that all individual advertisers benefit equally; some may even experience a detriment to their welfare. For instance, larger advertisers acquiring more impressions while smaller advertisers receive fewer could potentially harm the businesses of the latter and compromise the overall health of the channel in the long term. Second, welfare improvement guarantees are presented in a price of anarchy (POA) fashion, which measures the worst-case total welfare outcome compared to the maximum achievable (or efficient) welfare. However, these POA bounds are independent of advertiser bidding strategies and thus don't illuminate how specific advertiser bidding strategies in ad auctions affect individual or total welfare. Given these shortcomings in existing results, in this work, we address the following questions:

_Given an advertiser's bidding strategy to procure impressions in ad auctions, how can platforms characterize the potential welfare loss for this individual advertiser? How should ad channels utilize machine-learned advice that predicts advertiser values to improve individual welfare?_

We study a prototypical _autobidding setting_ where advertisers compete simultaneously in numerous multi-slot position auctions that are run in parallel, and aim to maximize total advertiser value under _return-on-ad-spend (ROAS)_ constraints that restrict total spend of a bidder to be less than her total acquired value across all auctions in an average sense; see similar setups in (Brockman et al., 2017; Wang et al., 2017; Wang et al., 2017). On the other hand, ad platforms possess ML advice that predictsadvertisers' real values with a certain degree of accuracy/quality. Under this setup, our main contributions are described as followed:

**Strategy-dependent individual welfare guarantee metric for individual advertisers.** In Section 2, we present a novel individual welfare metric that measures the difference between two specific welfare outcomes for an individual advertiser: (1) given a fixed bidding strategy, the worst-case welfare across all auction outcomes where all bidders' ROAS constraints are satisfied; and (2) the welfare that this individual bidder would have obtained in the global welfare-maximizing outcome. Our metric achieves two key goals: (1) it characterizes individual welfare loss, and (2) it allows platforms to uncover the relationship between advertiser strategies and individual welfare guarantees.

**Individual welfare guarantees in VCG auctions with ML-advice-based personalized reserves.** In Section 3, we illustrate through examples that setting ML advice as personalized reserves, as presented in (Brockman, 2015; Kemp, 2016), improves individual welfare guarantees under our individual welfare metric. In Section 4, we demonstrate that augmenting VCG auctions with ML-advice-based reserves enables us to present an individual welfare lower bound guarantee that increases with the advertiser's bid scale, quality of ML advice, and the relative market share of this advertiser compared to competitors (Theorem 4.1). Together with the results in (Kemp, 2016), we conclude that incorporating ML advice as personalized reserves achieves a "best of both worlds" outcome by simultaneously benefiting total and individual welfare.

**VCG has the best individual welfare guarantees among a broad class of auctions.** In Section 5, we demonstrate that no allocation-anonymous, truthful, and possibly randomized auction format with ML advice of a given quality can surpass the individual welfare guarantee provided by the VCG auction combined with ML advice of the same quality; see Theorem 5.1. Specifically, for any allocation-anonymous, truthful, and potentially randomized auction, we construct a problem instance with personalized reserves based on ML advice of the specified quality and show that there must be at least one bidder whose welfare does not exceed the welfare lower bound guarantee under VCG (refer to Theorem 4.1).

**Extending individual welfare guarantees to GSP and GFP.** We extend the individual welfare guarantee results to GSP and GFP auctions and demonstrate that a similar individual welfare lower bound guarantee for VCG continues to hold (see Theorem 6.2). We compare these lower bound guarantees in GSP and GFP with those of VCG and identify conditions under which VCG either outperforms or underperforms GSP/GFP in terms of our individual welfare metric, given the same ML advice quality.

**Numerical results.** We present numerical studies using semi-synthetic data derived from the auction logs of a search ad platform to showcase individual welfare improvement by setting ML-advice-based personalized reserves. We demonstrate that as the quality of ML advice improves, the welfare of more advertisers approaches what they would have obtained in the efficient outcome.

### Related works

**Autobidding and total welfare maximization.** The works most relevant to this paper are (Brockman, 2015; Kemp, 2016; Kemp, 2016), where they consider the same autobidding setting (i.e., value-maximizers with ROAS constraints) as ours. (Brockman, 2015; Kemp, 2016; Kemp, 2016) all present techniques to improve the price-of-anarchy bounds for the total welfare of any feasible outcome in which all bidders' ROAS constraints are satisfied. (Kemp, 2016) relies on additive boosts to bid values, (Brockman, 2015; Kemp, 2016) utilizes approximate reserve prices derived from ML advice, and (Kemp, 2016) develops randomized allocation and payment rules. Our work distinguishes itself from these works as we focus on welfare guarantees at the individual bidder level, and also shed light on how autobidders' uniform bidding strategies influence individual welfare loss. We note that our proof techniques also differ from those in (Brockman, 2015; Kemp, 2016; Kemp, 2016) as our individual welfare guarantees require novel analyses on the value-expenditure trade-offs that individual bidders would face when tempted to out-bid others to acquire more value. See the discussion in Section 4 for more details.

**Exploiting ML advice.** ML advice has been utilized in various applications to enhance decision-making. For example, (Kemp, 2016) exploits ML advice to develop algorithms for the multi-shop skirental problem, (Kemp, 2016) adopts ML advice for the caching problem, (Kemp, 2016) studies online page migration using ML advice, and (Kemp, 2016) studies online resource allocation with convex ML advice. However, even though numerous works in online advertising have examined predictive models for advertiser values, click-through rates, etc. (see, e.g., (Kemp, 2016; Kemp, 2016)), the literature on applying such predictions (or more generally, ML advice) to mechanism design problems remains limited. Also, refer to (Kemp, 2016; Kemp, 2016) for works that exploit sample information (unstructured ML advice) in online decision-making. One pertinent study in this realm is (Kemp, 2016), which devises a theoretical framework to optimize reserve prices in a posted price mechanism by leveraging prediction inputs on bid values. Unlike this research, we do not focus on optimizing reserves but advocate for the straightforward approach of setting reserves using ML advice to enhance individual advertiser welfare. Furthermore, we emphasize that our work contributes to the field by harnessing ML advice to design mechanisms that bolster welfare guarantees for individual bidders.

We refer readers to Appendix A for a further literature review.

## 2. Preliminaries

**Auction Model with Advertisers and Position Actions.** Consider \(N\) bidders (i.e., advertisers) participating in \(M\) parallel position auctions \((\mathcal{A}_{j})_{j\in[M]}\), where each auction \(\mathcal{A}_{j}\) is instantiated by a user keyword search query. An auction \(\mathcal{A}_{j}\) offers \(L_{j}\geq 1\) ad slots to bidders. These slots are ordered by visual prominence, or equivalently, the likelihood of the user viewing the slot on the web-page. This likelihood is represented by click-through-rates (CTR): \(1\geq\mu_{j}(1)\geq\mu_{j}(2)\geq\ldots\geq\mu_{j}(L_{j})\geq 0\). Here, \(\mu_{j}(t)\) denotes the likelihood of the user in auction \(j\) viewing slot \(\ell\in[L_{j}]\) (for an introduction to position auctions, see, e.g., (Kemp, 2016; Kemp, 2016)). A bidder \(i\in[N]\) has a private value-per-click, denoted by \(v_{i,j}>0\), for auction \(\mathcal{A}_{j}\). This value represents her perceived value conditioned on the user viewing her ad. Consequently, if she wins slot \(\ell\in[L]\), her accrued welfare or value is \(\mu_{j}(\ell)\cdot v_{i,j}\).

### Preliminaries for a single position auction

In this subsection, we discuss a single position auction, and thus temporarily remove subscripts in auction indices \(j\). A (possibly randomized) position auction \(\mathcal{A}\) with \(L\geq 1\) slots is characterized by a tuple \((\mathcal{X},\mathcal{P},\mathbf{\mu})\), where \(\mathcal{X}\) is an allocation rule, \(\mathcal{P}\) is a payment rule, and CTRs \(\mathbf{\mu}=(\mu(\ell))_{\ell\in[L]}\in[0,1]^{L}\) that satisfies \(1\geq\mu(1)\geq\mu(2)>\ldots\geq\mu(L)\geq 0\). Let \(N\) bidders with private value per-clicks \(\mathbf{\nu}=(u_{i})_{i\in[N]}\) participate in auction \(\mathcal{A}\) by submitting a bid profile \(\mathbf{b}=(b_{i})_{i\in[N]}\in\mathbb{R}_{+}^{N}\), and we describe the payment and allocation rules as follows.

The allocation rule \(\mathcal{X}:\mathbb{R}_{+}^{N}\rightarrow\{0,1\}^{N\times L}\) maps bid profile \(\mathbf{b}\in\mathbb{R}_{+}^{N}\) to an outcome \(\mathbf{x}=\mathcal{X}(\mathbf{b})\in\{0,1\}^{N\times L}\) which may possibly be random. The entry \(x_{i,\ell}=1\) if bidder \(i\) is allocated slot \(\ell\in[L]\), and \(0\) otherwise. Here, each slot \(\ell\) is at most allocated to one bidder so \(\Sigma_{\ell\in[N]}\times\ell\) is \(1\) for any \(\ell\). Further, under outcome \(\mathbf{x}\in(0,1)^{N\times L}\), bidder \(i\) who has value \(v_{i}\) attains a total welfare of \(W_{i}(\mathbf{x})=v_{i}\in\Sigma_{\ell\in[L]}\,\mu(\ell)x_{i,\ell}\). That is, if bidder \(i\) is allocated slot \(\ell\in[L]\) (i.e., \(x_{i,\ell}=1\)), her welfare is \(W_{i}(\mathbf{x})=\mu(\ell)v_{i}\). The payment rule \(\mathcal{P}:\mathbb{R}_{+}^{N}\rightarrow\mathbb{R}_{+}^{N}\) maps bids \(\mathbf{b}\) to payments \(\mathcal{P}(\mathbf{b})\in\mathbb{R}_{+}^{N}\) where \(\mathcal{P}_{i}(\mathbf{b})\) is the payment of bidder \(i\). In this work, we focus on the class of auctions that are _ex-post individual rational_ (IR), i.e. the payment for any bidder is less than her submitted bid, or mathematically \(\mathcal{P}_{i}(b_{i},\mathbf{b}_{-i})\leq b_{i}\) for any \(\mathbf{b}_{-i}\in\mathbb{R}_{+}^{N-1}\)1 We note that the classic VCG, GSP and GFP auctions are ex-post IR.

Footnote 1: “ex-post IR does not require payment being at most value. In other words, the payment in a single auction can exceed value, and when this occurs for an advertiser, the advertiser would need to cover such a loss by winning other auctions with value larger than payment.

In the following we define truthful, allocation anonymous auctions and personalized reserve augmented auctions.

**Definition 2.1** (Truthful auction).: _Consider the position auction \(\mathcal{A}=(\mathcal{X},\mathcal{P},\mathbf{\mu})\) where, recall that \(\mathcal{X}\) and \(\mathcal{P}\) are possibly random allocation and payment rules, respectively, and \(\mathbf{\mu}\in[0,1]^{L}\) represents CTRs. We say the auction is truthful if, for any bidder \(i\in[N]\), all of their values \(v_{i}\) are such that \(v_{i}\in\arg\max_{\Sigma_{\theta}}\mathbb{D}\left[W_{i}(\mathcal{X}(b,b_{-i}) -\mathcal{P}_{i}(b,b_{-i})\right]\) for any competing bid profile \(\mathbf{b}_{-i}\). Here, the expectation is taken with respect to the possible randomness in \((\mathcal{X},\mathcal{P})\), and recall that the welfare \(W_{i}(\mathbf{x})=v_{i}\sum_{\ell\in[L]}\mu(\ell)x_{i,\ell}\) with \(\mathbf{x}=\mathcal{X}(b,\mathbf{b}_{-i})\)._

Note that the well-known VCG auction is truthful. In truthful auctions, it is a weakly dominant strategy for a bidder to bid her true value when her objective is to maximize quasi-linear utility. In the next Subsection 2.2, we study bidders whose objectives are not necessarily quasi-linear, meaning that truthful bidding is no longer weakly optimal in truthful auctions.

We next define allocation-anonymous auctions. In such auctions, if two bidders swap their bids, the probability of each bidder winning any slot will also be swapped. In other words, the outcome of the position auction depends solely on the solicited bid values and is independent of the bidders' identities. The classic VCG, GSP, and GFP are all allocation-anonymous. We refer readers to Example B.1 in the appendix for an illustrative example of allocation-anonymity in GSP.

**Definition 2.2** (Allocation anonymous auctions).: _Given a fixed position auction, \(\mathcal{A}=(\mathcal{X},\mathcal{P},\mathbf{\mu})\), consider any permutation \(\sigma:[N]\rightarrow[N]\) of \(\{1,\ldots,N\}\) and the permuted bid profile \(\mathbf{b}^{\prime}=(b_{\sigma(i)})_{i\in[N]}\). Let \(\mathbf{x}=\mathcal{X}(\mathbf{b})\) and \(\mathbf{x}^{\prime}=\mathcal{X}(\mathbf{b}^{\prime})\) represent the (possibly random) outcomes under \(\mathbf{b}\) and \(\mathbf{b}^{\prime}\), respectively. Then, \(\mathcal{X}\) is termed allocation-anonymous if, for any bidder \(i\in[N]\) and slot \(j\in[L]\), we have \(\mathbb{P}(x_{\sigma(i),j}=1|\mathbf{b})=\mathbb{P}(x^{\prime}_{i,j}=1|\mathbf{b}^{ \prime})\)._

Finally, we describe augmenting allocation anonymous auctions with personalized reserves.

**Definition 2.3** (Personalized-reserve augmented allocation anonymous auctions).: _Fix position auction \(\mathcal{A}=(\mathcal{X},\mathcal{P},\mathbf{\mu})\), and some vector of personalized reserve prices \(\mathbf{r}\in\mathbb{R}_{+}^{N}\) where \(r_{i}\) is the reserve price for bidder \(i\in[N]\). Then, the augmented auction is \(\mathcal{A}^{\prime}=(\mathcal{X}^{\prime},\mathcal{P}^{\prime},\mathbf{\mu})\) where allocation \(\mathcal{X}^{\prime}\) and payment \(\mathcal{P}^{\prime}\) are characterized via the following procedure for any bid profile \(\mathbf{b}\in\mathbb{R}_{+}^{N}\):_

* \(\mathcal{X}^{\prime}\)_: Define bid profile_ \(\mathbf{b}^{\prime}=(b_{i}\cdot 1\{b_{i}\geq r_{i}\})_{i\in[N]}\)_. Then_ \(\mathcal{X}^{\prime}(\mathbf{b})=\mathcal{X}(\mathbf{b}^{\prime})\)_2__

Footnote 2: This allocation is known as an _exger implementation_ of personalized reserve prices, where any high-ranked slots are always allocated before a lower rank-slot gets allocated. There also exists a _key implementation_, where we first rank all bids, and then allocate slots to each bidder following this ranking if the bidder dense her reserve. Note that the law implementation may leave “holes” in allocation, eg. the first and third slots are allocated while leaving the second slot un-allocated. It will become clear later that all results in this work hold for both the eager and lazy implementation of personalized reserve prices.

* \(\mathcal{P}^{\prime}\)_: If_ \(i\in[N]\) _is not allocated a slot under outcome_ \(\mathcal{X}^{\prime}(\mathbf{b}),\mathcal{P}^{\prime}_{i}(\mathbf{b})=0\)_. Otherwise, let_ \(\ell_{i}\in[L]\) _be the slot allocated to bidder_ \(i\) _under_ \(\mathcal{X}^{\prime}(\mathbf{b})\)_. Then,_ \(\mathcal{P}^{\prime}_{i}(\mathbf{b})=\max\{\mathcal{P}_{i}(\mathbf{b}^{\prime}),\mu( \ell_{i})\cdot r_{i}\}\)_._

Recall that a bid of \(0\) always results in neither allocation nor payment. Therefore, \(\mathcal{X}^{\prime}\) can effectively be viewed as excluding bidders who don't meet their reserves and then implementing the allocation rule \(\mathcal{X}\) for the remaining bidders. In subsequent sections, we'll demonstrate that the personalized reserve prices pertinent to this work, which are based on ML-advice, ensure all bidders clear their reserves, implying that no bidders will be excluded from ranking. For an illustration of how anonymous VCG, GSP, and GFP auctions are augmented with personalized reserves, we refer readers to Example B.2 in the appendix.

### Autobidders' objectives and uniform bidding strategies

Recall the setup with \(N\) bidders participating in \(M\) parallel position auctions \((\mathcal{A}_{j})_{j\in[M]}\), where \(\mathbf{v}_{j}\in\mathbb{R}_{+}^{N}\) are the bidders' values in auction \(\mathcal{A}_{j}=(\mathcal{X}_{j},\mathcal{P}_{j},\mathbf{\mu}_{j})\) (refer to definitions in Subsection 2.1).

_Notations:_ The bids submitted by bidder \(i\) are denoted by \(b_{i}\in\mathbb{R}_{+}^{M}\). The bid profile submitted to \(\mathcal{A}_{j}\) is represented by \(\mathbf{b}_{j}^{\top}\in\mathbb{R}_{+}^{N}\). The outcome of \(\mathbf{b}_{j}^{\top}\) in \(\mathcal{A}_{j}\) is given by \(\mathcal{X}_{j}(\mathbf{b}_{j}^{\top})\in\{0,1\}^{N\times L_{j}}\). The payment vector in \(\mathcal{A}_{j}\) is \(\mathbf{p}_{j}^{\top}(\mathbf{b}_{j}^{\top})\in\mathbb{R}_{+}^{N}\). Whether bidder \(i\) wins slot \(\ell\) in \(\mathcal{A}_{j}\) is indicated by \(\mathcal{X}_{i,\ell,j}(\mathbf{b}_{j}^{\top})\in\{0,1\}\). The payment of bidder \(i\) in \(\mathcal{A}_{j}\) is \(\mathcal{P}_{i,j}(\mathbf{b}_{j}^{\top})\in\mathbb{R}_{+}\). Lastly, \(\mathcal{X}(\mathbf{b})\) is defined as \((\mathcal{X}_{j}(\mathbf{b}_{j}^{\top}))_{j\in[M]}\), representing the collection of all auction outcomes.

**Bidder welfare and ROAS constraints.** The welfare of bidder \(i\) in auction \(\mathcal{A}_{j}\) is denoted by \(W_{i,j}(\mathcal{X}_{j}(\mathbf{b}_{j}^{\top}))\). Her total welfare across all auctions is given by \(W_{i}(\mathcal{X}(\mathbf{b}))\). These are formally defined as

\[W_{i}(\mathcal{X}(\mathbf{b})) =\sum_{j\in[M]}W_{i,j}(\mathcal{X}_{j}(\mathbf{b}_{j}^{\top}))\] \[\text{and}\;\;W_{i,j}(\mathcal{X}_{j}(\mathbf{b}_{j}^{\top})) =\sum_{\ell=1}^{L_{j}}\mu_{j}(\ell)\cdot v_{i,j}\cdot\mathcal{X}_{i,\ell,j}( \mathbf{b}_{j}^{\top})\,. \tag{1}\]

Each bidder is subject to a _return-on-ad-spend (ROAS)_ constraint. This mandates that her total expenditure across all auctions be 

[MISSING_PAGE_FAIL:4]

significant margin in her ROAS constraint by winning auction 2, where the payment to secure a win is minimal. This allows her to increase her bid and outbidder 1 in auction 1 without violating her overall ROAS constraint. Essentially, she offsets the additional cost in auction 1 using the value advantage gained from auction 2.

By setting personalized reserve prices, the platform can raise the payment bidder 2 needs to make in auction 2, thereby reducing her manipulative influence. More specifically, in the absence of reserve prices, bidders who have high aggregate values across auctions might excessively overrid. This allows them to manipulate outcomes in specific auctions by balancing out their costs with the values secured from other auctions. Introducing personalized reserve prices makes this kind of overbidding more costly, and as a result, decreases bidders' overall manipulative power.

### Personalized reserve prices using ML advice

Here, we focus on the following notion of _approximate reserve prices_ with which we can reduce bidders' manipulative power, as exemplified in Example 3.1, and thereby improve individual welfare.

**Definition 3.1** (\(\beta\)-accurate ML advice and approximate reserve prices).: _Suppose there exists ML advice \((\underline{\theta}_{i,j})_{i,j\in[N]}\) in the form of a lower-confidence bound. If \(\underline{\theta}_{i,j}\in[\beta\theta_{i,j},v_{i,j})\) for any bidder \(i\in[N]\) and auction \(j\in[M]\) with some \(\beta\in(0,1)\), we say the ML advice is \(\beta\)-accurate. Further, if the platform sets \(n_{i,j}=\underline{\theta}_{i,j}\), we say reserve prices \(\mathbf{r}\) are \(\beta\)-approximate._

The gap between the lower bound \(\beta\theta_{i,j}\) and the true value \(v_{i,j}\) in Definition (3.1) represents the inaccuracies of the platform's ML advice. In other words, \(\beta\) can be perceived as a quality measure of the platform's ML advice for advertiser value, such that a larger \(\beta\) represents better advice quality.

Furthermore, ML advice in online advertising settings generally concerns predicting advertiser values with historical conversion data and produces confidence intervals of advertiser values (see e.g. (Gilton et al., 2010; Gilton et al., 2011; Gilton et al., 2012; Gilton et al., 2013)). We remark that these confidence intervals can be viewed as a special case of the lower-confidence type of ML advice in Definition (3.1): suppose the platform utilizes some ML model to predict the true value \(v_{i,j}\) of bidder \(i\) in auction \(j\), and produces a confidence interval \((\underline{v}_{i,j},\theta_{i,j})\geq v_{i,j}\) with \(\underline{\theta}_{i,j},v_{i,j}>0\). The platform can then choose a personalized reserve \(r_{i,j}=\underline{v}_{i,j}\), which is \(\beta\)-approximate for \(\beta=\underline{v}_{i,j}/\theta_{i,j}\in(0,1)\) because \(\beta\theta_{i,j}<\beta\theta_{i,j}=\underline{v}_{i,j}=r_{i,j}<v_{i,j}\).

Furthermore, in Definition 3.1, it is assumed that the ML advice \(\underline{g}_{i,j}\) is a true lower bound on bidder \(i\)'s value in auction \(j\). This assumption can be relaxed to high probability statements: suppose we possess some prediction \(\theta_{i,j}\) for \(v_{i,j}\) that satisfies \([\theta_{i,j}-v_{i,j}]<\eta\) with high probability (w.h.p.) for some known \(\eta\). Then, the confidence interval \((\hat{\theta}_{i,j}-\eta,\hat{\theta}_{i,j}+\eta)\) contains \(v_{i,j}\) w.h.p. The platform can then set a personalized reserve \(r_{i,j}=\hat{\theta}_{i,j}-\eta\). With such personalized reserve prices derived from probabilistic ML advice, all results in this paper remain valid w.h.p.

We note that the ML advice accuracy parameter \(\beta\) can be considered a lower bound on advertiser value approximations. All our results remain valid if each advertiser's approximation factor is no less than \(\beta\). If each bidder \(i\) has an approximation factor \(\beta_{i}\), then \(\beta\) can represent the minimum among all \(\beta_{i}\). We conclude this section with the following remark.

**Remark 3.1**.: _Implementing \(\beta\)-approximate personalized reserve prices in an allocation-anonymous auction does not impact anonymity. This is because \(\beta<1\) and thus all bidders clear their reserves._

## 4. Individual Welfare Guarantees for VCG with ML advice

In the motivating Example 3.1, we observe that ML advice and corresponding \(\beta\)-approximate reserves allow the parallel auctions to safeguard welfare for individual bidders by increasing payments and consequently limit the manipulative behavior of bidders who face significantly less competition in certain auctions. In this section, through the following Theorem 4.1, we formalize this intuition for the classic VCG auction and present a quantitative measure for the relationship between overall individual welfare and ML advice when incorporated in the form of approximate reserves.

**Theorem 4.1** (Lower bound for VCGs with approximate reserves).: _Let \((\mathcal{A}_{j})_{j\in[M]}\) be VCG auctions, and personalized reserve prices \(\mathbf{r}\) be \(\beta\)-approximate as in Definition 3.1. Fix an autobidder \(i\in[K]\) who adopts a bid multiplier \(\alpha_{i}>1\) (see Section 2.2), so \(\mathbf{b}_{i}=\alpha_{i}\mathbf{r}\). Recall \(\mathcal{F}_{-i}(\cdot)\) as defined in Definition 2.4. Then the individual welfare guarantee (as defined in Definition 2.5) is bounded as:_

\[\min_{\mathbf{b}_{i,j}\in\mathcal{F}_{-i}(\alpha_{i}\mathbf{b}_{i})}\frac{\mathbf{b}_{i}(X( \mathbf{b}))}{\mathbf{\mathrm{OPT}}_{i}}\ \geq\ 1-\frac{1-\beta}{\alpha_{i}-1}\frac{ \mathbf{\mathrm{OPT}}_{i}}{\mathbf{\mathrm{OPT}}_{i}}\]

_where \(\mathbf{\mathrm{OPT}}_{-i}=\sum_{j\neq i}\mathbf{\mathrm{OPT}}_{j}\)._

Details on implementation of VCG with personalized reserve prices can be found in Definition 2.3 and Example B.2. We defer our proof for Theorem 4.1 to Section C.1, and here we provide some intuition for the individual welfare bound in the theorem.

Given our understanding of the individual welfare metric from Definition 2.5, Theorem 4.1 implies that for a given bid multiplier \(\alpha_{i}\), and across all potential outcomes driven by any competing bid profiles (including non-uniform bidding) that meet every bidder's ROAS constraints, bidder \(i\) is guaranteed to retain at the very least a fraction of

\[1-\frac{1-\beta}{\alpha_{i}-1}\cdot\frac{\mathbf{\mathrm{OPT}}_{-i}}{\mathbf{\mathrm{ OPT}}_{i}}\]

of the welfare anticipated in the most efficient outcome.

This welfare assurance is particularly broad in scope. It doesn't hinge on predefined assumptions about the strategic decisions of other bidders and remains applicable across all bid profiles that adhere to the bidders' ROAS criteria. An important nuance is that our outlined bounds don't rely on the notion of an autobidding equilibrium. This is rooted in the observation that in real-world applications, autobidders might not consistently reach an equilibrium state (meaning a mutually best response among bid profiles). However, typical bidding algorithms tend to stabilize on bid profiles where every bidder's constraints are met (Gilton et al., 2010; Gilton et al., 2011; Gilton et al., 2012). Consequently, even if the strategies of bidder \(i\)'s competitors are multifaceted and tailored to achieve varying objectives, Theorem 4.1 remains applicable, contingent only on the resulting bid profile being feasible.

The main takeaway from Theorem 4.1 is that with more accurate ML-based predictions for valuations (i.e., a larger \(\beta\)), auctions can set higher approximate reserves, leading to enhanced individual welfare guarantees for each bidder. To provide some insight into the term \(\frac{1-\beta}{\alpha_{i}-1}\cdot\frac{\text{OPT}_{i,i}}{\text{OPT}_{i}}\), in the bound: Increasing either \(\beta\) (through enhanced accuracy of ML-based valuations) or the bid multiplier \(\alpha_{i}\) makes it costlier for competitors to outbidder \(i\) in certain auctions. This makes it more challenging for them to cover the costs arising from aggressive overbuilding, thereby curbing their manipulative influence and consequently bolstering the welfare guarantees for bidder \(i\). This observation is consistent with the insights derived from Example 3.1. Additionally, the ratio \(\frac{\text{OPT}_{i,i}}{\text{OPT}_{i,i}}\) reflects bidder \(i\)'s relative market presence compared to other competitors. Our results indicate that a minor market presence can render bidders more susceptible to the manipulative tactics of others, leading to weaker individual welfare guarantees.

We recognize that the individual welfare lower bound guarantee in Theorem 4.1, specifically \(1-\frac{1-\beta}{\alpha_{i}-1}\cdot\frac{\text{OPT}_{i,i}}{\text{OPT}_{i,i}}\), may be negative, rendering it meaningless for a small advertiser, specifically advertiser \(i\) with a very small market share \(\frac{\text{OPT}_{i,i}}{\text{OPT}_{i,i}}\) resulting from a large number of bidders \(N\). However, based on the proof provided for Theorem 4.1, in Section 4.1, we present a tighter individual welfare guarantee that replaces \(\text{OPT}_{-i}\) in the numerator--total welfare summed over the \(N-1\) competitors of bidder \(i-\)with the total welfare of a potentially much smaller subset of bidder \(i\)'s competitors, leading to a tighter bound for small advertisers.

The following theorem states the welfare bound in Theorem 4.1 is tight; see Appendix C.3 for proof.

**Theorem 4.2** (Matching lower bound).: _For any \(\beta\in(0,1)\), \(\alpha>1\), and \(R\geq\frac{1-\beta}{\alpha_{i}-1}\), there exists values \(\nu\in\mathbb{R}_{+}^{N\times M}\) and \(\beta\)-approximate reserves \(\mathbf{r}\in\mathbb{R}_{+}^{N\times M}\), such that there is a bidder \(i\) with multiplier \(\alpha_{i}=\alpha\) and relative market share \(\frac{\text{OPT}_{i}}{\text{OPT}_{-i}}=R\), who has an individual welfare guarantee_

\[\min_{\mathbf{b}_{+}\in\mathcal{F}_{-i}(\alpha_{i}\nu_{i})}\frac{W_{i}(\mathcal{X} (\mathbf{b}))}{OPT_{i}}=1-\frac{1-\beta}{\alpha_{i}-1}\cdot\frac{\text{OPT}_{-i}}{ OPT_{i}}.\]

### A tighter individual welfare guarantee

The individual welfare lower bound in Theorem 4.1, namely \(1-\frac{1-\beta}{\alpha_{i}-1}\cdot\frac{\text{OPT}_{-i,i}}{\text{OPT}_{i,i}}\), may become small when \(\text{OPT}_{-i}\) is large under a large number of bidder \(N\). In this subsection, we present a tighter individual welfare guarantee that does not depend on the total efficient welfare of all bidder \(i\)'s competitors \(\text{OPT}_{-i}\), but instead only the total welfare of a subset of \(i\)'s competitors. Our tighter lower bound relies on the following definitions:

\[\mathcal{L}_{i}=\left\{j\in[M]:\text{OPT}_{i,j}>0\right\}, \tag{4}\] \[\mathcal{B}_{i}(k)=\left\{j\in\mathcal{L}_{i}:\nu_{k,j}>0,\nu_{k, j}\leq\nu_{i,j}\right\},\]

See the definition of a maximal set cover in Eq. (8) in the Appendix C.1. Here, recall \(\text{OPT}_{i,j}\) is the welfare of bidder \(i\) in auction \(\mathcal{A}_{j}\) under the efficient outcome; see Eq. (3); \(\mathcal{L}_{i}\) is the collection of auctions wherein bidder \(i\) can potentially experience a welfare loss due to competitors' overbuilding; \(\mathcal{B}_{i}(k)\) is the collection of auctions where competitor \(k\) could potentially cause bidder \(i\) to lose welfare (notice that competitor \(k\) can win an auction \(j\) only if \(\nu_{k,j}>0\)). We give an example of these definitions in the following: consider an instance consisting of \(2\) single slot VCG auctions (i.e. SPA) and \(3\) bidders with the following advertiser values

\begin{tabular}{|l|l l l|} \hline  & SPA 1 & SPA 2 & SPA 3 \\ \hline \hline bidder 1 & \(\alpha_{1,1}=2\) & \(\alpha_{1,2}=5\) & \(\alpha_{1,3}=0\) \\ \hline bidder 2 & \(\alpha_{2,1}=1\) & \(\alpha_{2,2}=1\) & \(\alpha_{2,3}=10\) \\ \hline bidder 3 & \(\alpha_{1,1}=0\) & \(\alpha_{1,2}=4\) & \(\alpha_{1,3}=10\) \\ \hline \end{tabular} Under the efficient outcome, bidder \(1\) wins auctions \(1\) and \(2\), and therefore bidder \(1\) can potentially lose welfare in auctions \(1\) and \(2\), so \(\mathcal{L}_{1}=\{1,2\}\). Now, for competitor \(k=2\), it may be possible that bidder \(2\) solely outbidders bidder \(1\) to win both auctions \(1\) and \(2\), i.e., \(\mathcal{B}_{1}(2)=\{1,2\}\). Similarly, for competitor \(k=3\), she can only outbidder \(1\) in auction \(2\) so that \(\mathcal{B}_{1}(3)=\{2\}\).

With these definitions, we now present a tighter individual welfare guarantee than that of Theorem 4.1.

**Theorem 4.3**.: _Consider that \((\mathcal{A}_{j})_{j\in[M]}\) are VCG auctions, and the personalized reserve prices \(\mathbf{r}\) are \(\beta\)-approximate as per Definition 3.1. Fix an autobidder \(i\in[K]\) who adopts a bid multiplier \(\alpha_{i}>1\), ensuring \(\mathbf{b}_{i}=\alpha_{i}\nu_{i}\). The individual welfare guarantee, as described in Definition 2.5, is bounded as_

\[\min_{\mathbf{b}_{+}\in\mathcal{F}_{-i}(\alpha_{i}\nu_{i})}\frac{W_{i}( \mathcal{X}(\mathbf{b}))}{OPT_{i}}\] \[\geq 1-\frac{1-\beta}{\alpha_{i}-\beta}\frac{\sum_{k\in[N]}(i \cdot):\mathcal{B}_{i}(k)\neq\emptyset\text{OPT}_{k}}{OPT_{i}},\]

_where \(\mathcal{F}_{-i}(\cdot)\) is defined in Definition 2.4._

To illustrate the tighter welfare guarantee in Theorem 4.3 w.r.t. that in Theorem 4.1, consider the following example with \(N=3\) bidders, \(M=3\) single slot SPA auctions, and parameters \(\epsilon>0\) to be small and \(X>0\) to be large.

\begin{tabular}{|l|l l l|} \hline  & SPA 1 & SPA 2 & SPA 3 \\ \hline \hline bidder 1 & \(\alpha_{1,1}=1\) & \(\alpha_{1,2}=1\) & \(\alpha_{1,3}=0\) \\ \hline bidder 2 & \(\alpha_{2,1}=1+\epsilon\) & \(\alpha_{2,2}=1-\epsilon\) & \(\alpha_{2,3}=0\) \\ \hline bidder 3 & \(\alpha_{1,k}=0\) & \(\alpha_{2,2}=0\) & \(\alpha_{1,k}=to the number of keywords advertisers actually target, thereby making our performance guarantee in Theorem 4.3 superior to that in Theorem 4.1

## 5. VCG Yields Best Guarantee in Broad Class of Auctions

Having presented an individual welfare guarantee in the previous Section 4 that improves based on the platform's ML advice accuracy, a natural question arises: For a given level of accuracy \(\beta\), can one achieve a universally better individual welfare guarantee than that of Theorem 4.1 by considering auction formats other than VCG? In this section, we demonstrate that the answer is negative when we restrict the auction to a broad class of truthful mechanisms (Definition 2.1) and anonymous allocations (Definition 2.2).

In the subsequent theorem, we demonstrate that no allocation-anonymous, truthful auction \(\mathcal{A}\) augmented by \(\beta\)-approximate reserves (see Definition 3.1) can universally surpass VCG. That is, for any \(\mathcal{A}\), there exists a problem instance where a bidder's welfare guarantee does not exceed the individual welfare lower bound for VCG as presented in Theorem 4.1.

**Theorem 5.1**.: _Let \(\mathcal{A}\) be any single-slot auction format (with position bias \(\mu=1\)) that is allocation-anonymous, truthful, and possibly randomized. Then, there exists an instance of \(\mathcal{A}\) parallel auctions \((\mathcal{A}\prime_{i})_{j\in[\mathcal{A}\prime_{1}]}\) of format \(\mathcal{A}\), \(N\) bidders with values \(v\in\mathbb{R}_{*}^{N\times M}\), and an autobidder \(i\) with multiplier \(a_{i}>1\) (refer to Section 2.2), such that there exists a feasible bid profile \(\mathbf{b}\in\mathcal{F}\) in which \(\mathbf{b}_{i}=a_{i}a_{i}\mathbf{v}_{i}\in\mathbb{R}_{*}^{M}\) leading to the following welfare upper bound for autobidder \(i\):_

\[\frac{\mathbb{E}\left[W_{i}(X(\mathbf{b}))\right]}{\mathbb{E}\left[OPT_{i}\right]} \leq 1-\frac{1-\beta}{a_{i}-1}\cdot\frac{\mathbb{E}\left[OPT_{i}\right]}{ \mathbb{E}\left[OPT_{i}\right]}\]

_Here, the expectation is taken with respect to possible randomness in \(\mathcal{A}\)._

Our proof strategy for Theorem 5.1 hinges on the construction of a challenging autobidding instance for any given auction \(\mathcal{A}\). In this instance, a specific bidder consistently finds himself with a diminished individual welfare. We showcase that, within this context, there's a bidder \(i\) whose welfare is constricted to the upper bound mentioned in the theorem.

This method of construction is influenced by Example 3.1. In this example, the reduced welfare for the bidder \(i\) stems from other bidders consistently outbidding \(i\) in auctions where \(i\)'s value is the highest. These competitors then compensate for their aggressive bids using the gains from other auctions where they face little to no competition.

Building on this insight, in the problematic instance outlined in the proof of Theorem 5.1, we elevate the individual welfare for our target bidder \(i\). We do this by setting up auctions where each of \(i\)'s competitors is the sole participant with a non-zero bid. Such "no-competition" auctions act as a buffer, allowing these competitors to recover costs associated with outbidding bidder \(i\) in auctions where \(i\) has the highest value. The detailed proof is available in Appendix D.2.

## 6. Extension: Individual Welfare Guarantees for GSP and GFP

In this section, we extend our individual welfare guarantees for the VCG auction from Theorem 4.1 to both the GSP and GFP auctions, which are non-truthful.

Further, as discussed in Section 2.2, uniform bidding (i.e., setting the same bid multiplier for all auctions) is optimal only in truthful auctions. For GSP and GFP, instances can be constructed where non-uniform bidding strictly outperforms uniform bidding (for more details, see e.g., (Goyal et al., 2017)). Therefore, for GSP and GFP autobidding instances, we do not impose any constraints on the bid values of this, except that they should be undominated. We define a bid value \(\mathbf{b}_{i}\in\mathbb{R}_{*}^{M}\) as undominated for bidder \(i\) if no other bid value \(\mathbf{b}_{i}^{\prime}\in\mathbb{R}_{*}^{M}\) exists that consistently yields a higher welfare than \(\mathbf{b}_{i}\) across all possible competing bid profiles. Formally, \(\mathbf{\hat{\mathbf{b}}}_{i}^{\prime}\in\mathbb{R}_{*}^{M}\) such that \(W_{i}(X(\mathbf{b}_{i},\mathbf{b}_{-i}))<W_{i}(X(\mathbf{b}_{i}^{\prime},\mathbf{b}_{-i}))\) for all \(\mathbf{b}_{-i}\in\mathbb{R}_{*}^{(N-1)\times(M)}\). The following lemma provides a lower bound for undominated bids in scenarios with \(\beta\)-approximate reserves.

**Lemma 6.1** (Lemma 4.7 & 4.9 of (Chern et al., 2017)).: _Consider the setting where \((\mathcal{A}\prime_{j})_{j\in[M]}\) are all GSP auctions or GFP auctions, and reserve prices \(\mathbf{r}\) are \(\beta\)-approximate. Denote \(\mathcal{U}\subseteq\mathcal{F}\) to be the set of bid profiles in which each bid is undominated and satisfies all bidders' ROAS constraints. Then for any \(\mathbf{b}\in\mathcal{U}\), \(b_{i,j}\) must satisfy \(b_{i,j}\geq r_{i,j}\geq\beta b_{i,j}\) for any bidder \(i\in[N]\) and auction \(\mathcal{A}\prime_{j}\)._

Finally, our main theorem for this section is the following:

**Theorem 6.2** (Individual welfare guarantee for GSP/GFP).: _Consider that all auctions \((\mathcal{A}\prime_{j})_{j\in[M]}\) are either GSP or GFP auctions. Let the reserve prices \(\mathbf{r}\) be \(\beta\)-approximate, and the values \(\mathbf{v}\) be \(\Delta\)-separated with \(\beta>\frac{\Delta}{2\Delta-1}\). Values are termed as \(\Delta\)-separated if, in all auctions, the value of any bidder is at least \(\Delta\) times any lesser value from a competing bidder (for a formal definition, see Definition C.2). Now, consider any undominated bid profile \(\mathbf{b}\in\mathcal{U}\), where \(\mathbf{U}\) is a subset of \(\mathcal{F}\) representing all undominated bids that satisfy every bidder's ROAS constraint (refer to Equation (2)). In this context, the individual welfare guarantee, as described in Definition 2.5, is bounded by:_

\[\min_{\mathbf{b}\in\mathcal{U}}\frac{W_{i}(X(\mathbf{b}))}{OPT_{i}}\geq 1-\frac{1-\beta}{ \beta-\frac{\Delta}{2\Delta-1}}\cdot\frac{OPT_{-i}}{OPT_{i}}.\]

Details regarding the implementation of GSP and GFP with personalized reserve prices are provided in Definition 2.3 and further illustrated in Example B.2. The proof of Theorem 6.2 is detailed in Appendix E.1.

When we compare the individual welfare guarantees of Theorem 4.1 (for VCG) with Theorem 6.2 (for GSP/GFP), some observations emerge. Given that values are \(\Delta\)-separated and ML advice possesses \(\beta\)-accuracy, GSP/GFP offers superior individual welfare guarantees over VCG when bidders opt for smaller uniform multipliers in VCG, i.e., \(a_{i}-1<\beta-\frac{\Delta}{2\Delta-1}\). However, for larger multipliers, where \(a_{i}-1>\beta-\frac{\Delta}{2\Delta-1}\), the individual welfare within VCG surpasses that in the discussed non-truthful auctions.

## 7. Numerical Study

Recall from Sections 4 and 6 that we theoretically demonstrated how setting personalized reserve prices with ML advice (refer to Definition 3.1) ensures individual bidder-level worst-case welfare guarantees in VCG, GSP, and GFP auctions. Moreover, these guarantees improve as the accuracy of the ML advice increases. In this section, we provide a practical counterpart to this theoretical finding for worst-case scenarios. We illustrate how employing personalized reserve prices, informed by ML advice, can protect individual welfare on an average basis. This demonstration uses semi-synthetic data, which is derived from genuine auction data from a search ad platform.

It's worth noting that our experiments in this section are limited to VCG auctions. This choice is deliberate, primarily because bidders' bidding strategies in VCG can be confined to uniform bidding (refer to Proposition B.1 and subsequent discussions). Incorporating near-optimal or best response bidding strategies in GSP and GFP auctions adds a layer of complexity without necessarily providing new insights, as discussed in [2, 3, 16].

We obtain semi-synthetic data from ad auction logs of a search ad platform, using it to simulate VCG auctions for autobidders. Specifically, each dataset entry \(j\) includes all necessary details to replicate an auction. This includes the number of ad slots sold \(L_{j}\), the CTRs for each slot denoted as \(\mathbf{\mu}_{j}=(\mu_{j}(1),\ldots,\mu_{j}(L_{j}))\in[0,1]^{L_{j}}\), and a list of candidate advertisers along with their respective conversion values \(u_{i,j}\) and so forth. The conversion value for an advertiser represents the anticipated monetary benefit they would obtain from a user's conversion action, such as a download, email sign-up, in-app purchase, and similar actions.

It's crucial to note that our empirical study primarily aims to corroborate the central insights of our theoretical observations, rather than assessing the individual welfare of real systems in active use. For a specified accuracy level \(\beta\) belonging to \(\{0.25,0.5,0.75\}\), we independently sample \(\varepsilon_{i,j}^{\beta}\) - Uniform \([\beta,1]\) for each \(i,j\). Subsequently, we determine the ML advice as \(\varepsilon_{i,j}^{\beta}=\varepsilon_{i,j}^{\beta}\cdot\varepsilon_{i,j}\). Clearly, the ML advice generated in this manner is \(\beta\)-accurate, meaning \(\varepsilon_{i,j}^{\beta}\) lies in the interval \([\beta_{0,j},u_{i,j}]\), consistent with Definition 3.1.

**Calculating uniform bid multipliers.** For simplicity, and with a slight departure from standard notation, we let the accuracy level \(\beta=0\) signify the imposition of no-reserve prices. Using a reserved portion of our data, we determine each advertiser's uniform bid multiplier for every accuracy level \(\beta\) in the set \(\{0.25,0.5,0.75\}\). We employ gradient descent for this task, mimicking prevalent uniform bidding practices. This choice is motivated by the widespread use of descent/primal-dual methods in real-world autobidding. These techniques have demonstrated near-optimal convergence and commendable performance guarantees, as evidenced by works such as [1, 4, 39, 45]. After these computations, we obtain our bid multipliers denoted \(\alpha_{i}^{B}\). For a comprehensive explanation on calculating these uniform bid multipliers, we direct readers to Appendix F.1.

For each accuracy level \(\beta\) in the set \(\{0,0.25,0.5,0.75\}\) (where \(\beta=0\) represents the control experiment without personalized reserve prices), let \(W_{i}^{\beta}\) denote the realized total welfare for advertiser \(i\in[N]\) across \(M\) VCG auctions. This welfare is calculated with respect to bid multipliers \((\alpha_{i}^{\beta})_{i\in[N]}\), values \(\varrho=(u_{i})_{i\in[N],j\in[M]}\), ad slot counts \((L_{j})_{j\in[M]}\), and CTRs \((\mathbf{\mu}_{j})_{j\in[M]}\).

Given that OPT\({}_{1}\) represents the welfare of bidder \(i\in[N]\) under the efficient outcome (as defined in Eq. (3)), we introduce the empirical cumulative distribution function (CDF) \(\theta(z;\beta)\) to represent the proportion of advertisers whose realized welfare does not exceed \(z\) times their efficient outcome welfare. Here, \(z\) can be either less or greater than \(1\). Specifically, \(\theta(z;\beta)\) for \(z<1\) shows the proportion of advertisers who experience a welfare deficit relative to OPT\({}_{1}\).

In Figure 1, we depict \(\theta(z;\beta)\) for the given \(\beta\) values. Observations show that, for \(z<1\), \(\theta(z;\beta)\) diminishes as \(\beta\) rises. This indicates that enhancing the accuracy of ML advice in setting personalized reserve prices reduces the proportion of advertisers enduring a welfare reduction relative to the efficient outcome. For instance, when \(z=0.8\), indicating a \(20\%\) welfare loss from the efficient outcome, the proportion of advertisers facing this loss is \(17\%\) without reserve prices (\(\beta=0\)). This proportion reduces to \(13\%\), \(11\%\), and \(8\%\) for \(\beta\) values of \(0.25\), \(0.5\), and \(0.75\), respectively. The primary insight is that better ML advice empowers the ad platform to reduce the proportion of advertisers suffering from welfare losses compared to the efficient outcome. Another observation is that the empirical CDF tends toward a step function with a significant shift at \(z=1\), suggesting that as ML accuracy improves, an increasing number of advertisers through their efficient outcome welfare.

## References

* (1) G. Aggarwal, A. Badanidiyoura, and A. Mehta (2019)A study of constraints. In International Conference on Web and Internet Economics, pp. 173-30. Cited by: SSII.
* (2) R. A. Chang Wang, C. Li, J. Zhang, W. Huang, and X. Deng (2022)No regret learning in repeated first-price auctions with budget constraints. arXiv preprint arXiv:2202.14672. Cited by: SSII.
* (3) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (4) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (5) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (6) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (7) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (8) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (9) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (10) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (11) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (12) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (13) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (14) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (15) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (16) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (17) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (18) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (19) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (20) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (21) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (22) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (23) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (24) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (25) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (26) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (27) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (28) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (29) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (30) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (31) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (32) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (33) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (34) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (35) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (36) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (37) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (38) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (39) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (40) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (41) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing Systems34. Cited by: SSII.
* (42) S. Balseiro, A. Kim, M. Mahdian, and V. Mirrokni (2021)Budger management strategies in repeated auctions. Operations Research. Cited by: SSII.
* (43) S. Balseiro, Y. Deng, J. Mao, V. Mirrokni, and S. Zuo (2021)Robust auction design in the auto-bidding world. Advances in Neural Information Processing SystemsIndividual Welfare Guarantees in the Autobidding World with Machine-learned Advice
* [202] Santiago Balestro, Anthony Kim, Mohammad Mahdian, and Vahab Mirrokni. Budget-management strategies in repeated auctions. _Operations Research_, 69(3):859-876, 2021.
* [203] Santiago Balestro, Haihao Lu, and Vahab Mirrokni. The best of many worlds: Dual mirror descent for online allocation problems. _arXiv preprint arXiv:2011.10124_, 2020.
* [204] Santiago Balestro, Yuan Deng, Jiming Mao, Vahab S Mirrokni, and Song Zou. The landscape of auto-bidding auction: Value versus utility maximization. In _Proceedings of the 22nd ACM Conference on Economics and Computation_, pages 132-133, 2021.
* [205] Santiago R Raleigh and Yonatan Gur. Learning in repeated auctions with budgets: Regret minimization and equilibrium. _Management Science_, 65(9):3952-3968, 2019.
* [206] Hedyeh Beyhaghi, Negin Colizeraat, Renato Pares Leme, Martin Pal, and Balasubramani. Sivan. Improved revenue bounds for post-price and second-price mechanisms. _Operations Research_, 69(6):1805-1822, 2021.
* [207] Petratinio L Bruga, Adriano L Olveria, and Silvio R. Meira. Software effort estimation using machine learning techniques with robust confidence intervals. In _In 2017 International conference on hybrid intelligent systems (HIS 2007)_, pages 325-357. IEEE, 2020.
* [208] Jaei Correa, Andres Casti, Laurent Feuilloley, Tim Oosterwijk, and Alexandros Tsiposian-Dimitriadis. The secretary problem with independent sampling. In _Proceedings of the 2017 ACM-SIAM symposium on Discrete Algorithms (SODA)_, pages 2047-2058. SIAM, 2021.
* [209] Bo Dai, Ofei Nachum, Yanilam Chow, Lihong Li, Cuba Sgeposvari, and Dale Schummins. Coindex: Off-policy confidence interval estimation. _Advances in neural information processing systems_, 33:3998-4011, 2020.
* [210] Yuan Deng, Negin Colizeraat, Patrick Jaillet, Jason Chuck Nam Liang, and Vahab Mirrokni. Multi-channel autobidding with budget and ROI constraints. In _Proceedings of the 40th International Conference on Machine Learning_, volume 202
* [211] Yuan Deng, Negin Colizeraat, Patrick Jaillet, Jason Chuck Nam Liang, and Vahab Mirrokni. Multi-channel autobidding with budget and ROI constraints. In _Proceedings of the 40th International Conference on Machine Learning_, volume 202 of _Proceedings of Machine Learning Research_, pages 7617-7644. PMLR, 23-29 Jul 2023.
* [212] Yuan Deng, Jieming Mao, Vahab Mirrokni, Hanrui Zhang, and Song Zou. Efficiency of the first-price auction in the autobidding world. _arXiv preprint arXiv:2208.10603_, 2022.
* [213] Yuan Deng, Jieming Mao, Vahab Mirrokni, and Song Zuo. Towards efficient auctions in an auto-bidding world. In _Proceedings of the Web Conference 2021_, pages 3965-3973, 2021.
* [214] Yuan Deng, Jon Schneider, and Balasubramaniam Sivan. Prior-free dynamic auctions with low regret bayes. _Advances in Neural Information Processing Systems_, 32, 2019.
* [215] Mahsa Derakhshan, Negin Colizeraat, and Renato Pares Leme. Linear program-based approximation for personalized reserve prices. _Management Science_, 60(3):1849-1864, 2022.
* [216] Benjamin Lalohan, Michael Otrokovsky, and Michael Schwarz. Internet advertising and the generalized second-price auction: Selling billions of dollars worth of keywords. _American economic review_, 97(1):242-259, 2007.
* [217] Zhe Feng and Sebastian Labate. Robust clearing price mechanisms for reserve price optimization. _arXiv preprint arXiv:2017.04683_, 2021.
* [218] Zire Feng, Sebastien Lahise, Jon Schneider, and Jimbo Yao. Reserve price optimization for first price auctions in display advertising. In _International Conference on Machine Learning_, pages 3230-3239. PMLR, 2021.
* [219] Yuan Gao, Kaiya Yang, Yunlong Chen, Min Liu, and Noureddine II Karuoi. Building agent design in the linkedin and marketplace. _ARDD 2020_, 2023.
* [220] Animady Choe and Shai Yang. An empirical analysis of search engine advertising: Sponsored search in electronic markets. _Management science_, 55(10):1605-1622, 2009.
* [221] Negin Colizeraat, Patrick Jaillet, and Jason Cheuk Nam Liang. Incentive-aware contextual pricing with non-parametric market noise. _arXiv preprint arXiv:1101.05808_, 2019.
* [222] Negin Colizeraat, Patrick Jaillet, Jason Chuck Nam Liang, and Vahab Mirrokni. Building and pricing in budget and roi constrained markets. _arXiv preprint arXiv:2107.0725_, 2015.
* [223] Negin Colizeraat, Patrick Jaillet, and Zijie Zhou. Online resource allocation with samples. _Available at SSRN_, 2022.
* [224] Negin Colizeraat, Patrick Jaillet, and Zijie Zhou. Online resource allocation with convex-curt: machine-learned advice. _arXiv preprint arXiv:2002.12827_, 2023.
* [225] Negin Colizeraat, Adel Jawarmand, and Vahab Mirrokni. Dynamic incentive-aware learning: Robust pricing in contextual auctions. _Advances in Neural Information Processing Systems_, 32, 2019.
* [226] Negin Colizeraat, Ilan Lobel, and Renato Pares Leme. Auction design for roi-constrained buyers. In _Proceedings of the Web Conference 2021_, pages 3941-3952, 2021.
* [227] Piotr Indyk, Frederick Mallmann-Trem, Slobodan Mirrovic, and Ronitt Ruhinfeld. Online page migration with all active. In _International Conference on Artificial Intelligence and Statistics_, pages 1655-1670. PMLR, 2022.
* [228] Bo Jiang, Xueyong Zhang, and Tianqi Cai. Estimating the confidence interval for prediction errors of support vector machine classifiers. _The Journal of Machine Learning Research_, 89(1):521-540, 2008.
* [229] Yanki Kanoria and Hamul Nazarendan. Dynamic reserve prices for repeated auctions: Learning from bids. _arXiv preprint arXiv:2002.07371_, 2020.
* [230] Sebastien Lahise, David M Pennock, Amin Saberi, and Rakesh V Vohra. Sponsored search auctions. _Algorithmic game theory_, 1699-716, 2007.
* [231] Kuang-Chih Lee, Burkey Orten, Ali Dasdan, and Wentong Li. Estimating conversion rate in display advertising from past performance data. In _Proceedings of the 1st ACM SIGKDD international conference on Knowledge discovery and data mining_, pages 768-776, 2012.
* [232] Theodore I. Lyubarts and Sergei Vasishtaki. Competitive caching with machine learned advice. In _International Conference on Machine Learning_, pages 3296-3305. PMLR, 2018.
* [233] H Brendan McMahan, Gary Holt, David Sculley, Michael Young, Dietmar Elner, Julian Grady, Lan Nie, Todd Phillips, Eugene Davydov, Daniel Golovin, et al. A click prediction: a view from the trenches. In _Proceedings of the 19th ACM SIGKDD international conference on Knowledge discovery and data mining_, pages 1222-1230, 2013.
* [234] Amirjak Mehta. Auction design in an auto-bidding setting: Randomization improves efficiency beyond vcg. In _Proceedings of the ACM Web Conference 2022_, pages 173-181, 2022.
* [235] Andres Munro and Sergei Vasishtaki. Revenue optimization with approximate bid predictions. _Advances in Neural Information Processing Systems_, 30, 2017.
* [236] Yuri Nesterov. _Introductory lectures on convex optimization: A basic course_, volume 57. Springer Science & Business Media, 2003.
* [237] Renato Pares Leme, Martin Pal, and Sergei Vasishtaki. A field guide to personalized reserve prices. In _Proceedings of the 25th international conference on world_, vol. pages 1093-1102, 2016.
* [238] Mallels M. Pai and Rakesh Vohra. Optimal auctions with financially constrained buyers. _Journal of Economic Theory_, 150:3083-425, 2014.
* [239] Matthew Richardson, Evo Domingos, and Robert Ragno. Predicting clicks: estimating the click-through rate for new ads. In _Proceedings of the 16th international conference on World Wide Web_, pages 521-530, 2007.
* [240] Darga E. Shrestha and Dimitri P. Solonatiev. Machine learning approaches for estimation of prediction interval for the model output. _Neural networks_, 19(2):225-235, 2006.
* [241] Eric Sodomka, Sebastien Lahise, and Dustin Hillard. A predictive model for adverse value-per-ditch is sponsored search. In _Proceedings of the 22nd international conference on World Wide web_, pages 1179-1190, 2013.
* [242] Franissa Susan, Negin Colizeraat, and Olke Schrieyny. Multi-platform budget management in all markets with non-arc auctions. _arXiv preprint arXiv:2206.07352_, 2023.
* [243] Hati Yurian. Position auctions. _International Journal of Industrial Organization_, 256(9):1165-1178, 2007.
* [244] Shifan Wang, Jian Li, and Shiguang Wang. Online algorithms for multi-hop ski rental with machine learned advice. _Advances in Neural Information Processing Systems_, 38:1530-1540, 2020.
* [245] Tanwu Yang and Parny-Zhai. Click-through rate prediction in online advertising: Literature review. _Information Processing & Management_, 59(2):102853, 2022.
* [246] Shuai Yuan, Jun Wang, Bower Chen, Peter Mason, and San Seljam. An empirical study of reserve price optimisation in real-time bidding. In _Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining_, pages 1897-1906, 2014.

[MISSING_PAGE_FAIL:10]

* _GFP:_ \(p_{i,j}=\mu_{j}(t_{i,j})\cdot\max\{\widehat{b}_{j}^{(\epsilon_{(i,j)}},r_{i,j}\}\).

It is well known that for the same bid profile \(\mathbf{b}\) and for any bidder \(i\), the payment under the GFP auction is greater than equal to that under GSP auction, and the payment under the GSP auction is greater than equal to that under VCG; see e.g. [19].

#### Uniform bidding

The following proposition shows uniform bidding is the optimal bidding strategy in truthful auctions.

**Proposition B.1** (Uniform bidding is optimal for autobidders in truthful auctions).: _Let all auctions \((\mathcal{A}_{j})_{j\in[M]}\) be identical truthful auctions (see Definition 2.1), and bidder \(i\in[N]\) is an autobidder who aims to maximize welfare \(\mathbb{E}\left[W_{i}(X(\mathbf{b}_{i},\mathbf{b}_{-i}))\right]\) subject to the ROAS constraint in Eq. (2) for any fixed competing bids \(\mathbf{b}_{-i}\in\mathbb{R}_{+}^{N-1}\). Then, there exists some constant uniform multiplier \(\alpha_{i}^{*}\geq 1\) s.t. the uniform bidding profile \(\alpha_{i}^{*}\mathbf{\nu}_{i}\) is \(i\)'s optimal strategy:_

\[\alpha_{i}^{*}\cdot\mathbf{\nu}_{i}\ \in\ \arg\max_{\mathbf{b}_{i}\in\mathbb{R}_{+}^{N}} \mathbb{E}\left[W_{i}(X(\mathbf{b}_{i},\mathbf{b}_{-i}))\right]\text{ s.t. }\quad\mathbb{E}\left[W_{i}(X(\mathbf{b}_{i},\mathbf{b}_{-i}))\right]\geq \mathbb{E}\left[\mathcal{P}_{i}(\mathbf{b}_{i},\mathbf{b}_{-i})\right],. \tag{5}\]

_Further, adopting any uniform bid multiplier \(\alpha_{i}<1\) is weakly dominated by truthful bidding, i.e. \(\mathbb{E}\left[W_{i}(X(\alpha_{i}\mathbf{\nu}_{i},\mathbf{b}_{-i}))\right]\leq\mathbb{ E}\left[W_{i}(X(\alpha_{i}\mathbf{\nu}_{i},\mathbf{b}_{-i}))\right]\) for any \(\mathbf{b}_{-i}\in\mathbb{R}_{+}^{N-1}\)._

This is a well-known result that has been proved and adopted in many related works such as [1, 3, 16, 37] and we will omit the proof here.

## Appendix C Additional materials for Section 4

### Proof for Theorem 4.1

First, to prove Theorem 4.1, we rely on the definition of an advertisers' loss in welfare compared to her welfare contribution under the efficient outcome, formally defined as followed:

**Definition C.1** (Welfare loss w.r.t. efficient outcome).: _For any bidder \(i\in[N]\) and outcome \(\mathbf{x}=(\mathbf{x}_{j}\in\{0,1\}^{N\times L_{j}})_{j\in[M]}\), let \(\mathcal{L}_{i}(\mathbf{x})=\{j\in[M]:W_{i,j}(\mathbf{x})<OPT_{i,j}\}\) be the set of auctions in which bidder \(i\)'s acquired welfare is less than that of her welfare under the efficient outcome. Then, we define the welfare loss of bidder \(i\) under outcome \(\mathbf{x}\) w.r.t. the efficient outcome \(\mathbf{x}^{*}\) as:_

\[\mathit{LOSS}(\mathbf{x})=\sum_{j\in\mathcal{L}_{i}(\mathbf{x})}\left(OPT_{i,j}-W_{i,j }(\mathbf{x})\right). \tag{6}\]

**Remark C.1**.: _For any outcome \(\mathbf{x}\), let \(t_{i,j}\) be the position (i.e. ranking) of bidder \(i\) in auction \(j\), and recall that \(t_{i,j}^{*}\) is the position of bidder \(i\) in auction \(j\) under the efficient outcome \(\mathbf{x}^{*}\). Then, the set \(\mathcal{L}_{i}(\mathbf{x})=\{j\in[M]:W_{i,j}(\mathbf{x}_{j})<OPT_{i,j}\}\) (where \(W_{i,j}(\mathbf{x}_{j})\) is bidder \(i\)'s welfare in \(\mathcal{A}_{j}\) as defined in Eq.(1)) can also be interpreted as the set of auctions where bidder \(i\)'s ranking under \(\mathbf{x}\) is lower than her ranking under \(\mathbf{x}^{*}\), or in other words the set of auctions that incur a welfare loss w.r.t. \(\mathbf{x}^{*}\). Hence we can also rewrite \(\mathcal{L}_{i}(\mathbf{x})=\{j\in[M]:t_{i,j}>t_{i,j}^{*}\}\)._

The following proposition connects the notion of welfare loss (as in Definition C.1) and individual welfare (as in Definition 2.5) by showing an upper bound on welfare loss can be directly translated into a welfare lower bound that corresponds to our individual welfare guarantee.

**Proposition C.1** (Translating loss to individual welfare guarantee).: _Assume for bidder \(i\in[N]\) and outcome \(\mathbf{x}=(\mathbf{x}_{j}\in\{0,1\}^{N\times L_{j}})_{j\in[M]}\) we have \(\mathit{LOSS}_{i}(\mathbf{x})\leq B\) for some \(B>0\). Then, \(\frac{W_{i}(\mathbf{x})}{OPT_{i}}\geq 1-\frac{B}{OPT_{i}}\)._

The proof of this proposition is presented in Section C.4. Now, in light of this proposition, we proceed to prove Theorem 4.1 by bounding bidder \(i\)'s welfare loss for auctions where she obtains a slot that is lower in position than what she would have obtained under the efficient outcome.

Proof of Theorem 4.1.: Fix any feasible competing bid profile \(\mathbf{b}_{-i}\in\mathcal{F}_{-i}(\alpha_{i}\mathbf{\nu}_{i})\) under which every bidders' ROAS constraint is satisfied; see Definition 2.4. Denote the corresponding outcome as \(\mathbf{x}=\mathbf{X}(\mathbf{b})\), and \(t_{k,j}\), \(t_{k,j}^{*}\) to be the position of any bidder \(k\in[N]\) in auction \(j\in[M]\) under outcome \(\mathbf{x}\) and the efficient outcome, respectively.

Consider any auction \(j\in\mathcal{L}_{i}(\mathbf{x})=\{j\in[M]:t_{i,j}>t_{i,j}^{*}\}\) (see Remark C.1), i.e. in auction \(\mathcal{A}_{j}\), bidder \(i\) acquires a position (under \(\mathbf{x}\)) below her position in the efficient outcome \(\mathbf{x}^{*}\). This implies there must exist competing bidders in auction \(\mathcal{A}_{j}\) whose values are smaller than that of bidder \(i\)'s, but obtains a better position, making bidder \(i\) lose welfare. Motivated by this, we let \(\mathcal{B}_{i}(k;\mathbf{x})\) denote the set of all auctions in which bidder \(k\)'s value is lower than \(i\)'s but acquires a better position than \(i\):

\[\mathcal{B}_{i}(k;\mathbf{x})=\left\{j\in[M]:OPT_{i,j}>0,\ v_{k,j}<v_{i,j}\text{ and }\ell_{k,j}\leqt_{i,j}^{*}<t_{i,j}\right\} \tag{7}\]

where we recall \(OPT_{i,j}\) is the welfare of bidder \(i\) in auction \(j\) under the efficient outcome. Further, we can find a collection of \(i\)'s competitors whose \(\mathcal{B}_{i}(\ :\mathbf{x})\) "covers" all auctions \(\mathcal{L}_{i}(\mathbf{x})\) in which \(i\) loses welfare. We call this collection of competitors a covering, and formally define the collection of all coverings, called \(\mathcal{C}_{i}(\mathbf{x})\), as followed:

\[\mathcal{C}_{i}(\mathbf{x})=\left\{\mathcal{C}\subseteq[N]/\{i\}:(\mathcal{B}_{i}(k ;\mathbf{x}))_{k\in\mathcal{C}}\text{ is a maximal set cover of }\mathcal{L}_{i}(\mathbf{x})\right\}. \tag{8}\]Here, for any set \(\mathcal{S}\), we say \(\mathcal{S}_{1}\ldots\mathcal{S}_{n}\) a maximal set cover of \(\mathcal{S}\) if \(\mathcal{S}\subseteq\bigcup_{n^{\prime}\in[n]}\mathcal{S}_{n^{\prime}}\) but \(\mathcal{S}\subseteq\bigcup_{n^{\prime}\in[n]}\mathcal{S}_{n^{\prime}}/ \mathcal{S}_{n^{\prime\prime}}\) for any \(n^{\prime\prime}\in[n]\). In words, \(\mathcal{B}_{i}(k;\mathbf{x})\) is the set of auctions in which bidder \(k\) has a smaller value than bidder \(i\) but acquires a better position, and any \(\mathcal{C}\in\mathcal{C}_{i}(\mathbf{x})\) is a subset of \(i\)'s competitors who are responsible for all welfare losses of bidder \(i\) in auctions of \(\mathcal{L}_{i}(\mathbf{x})\).

Fix any covering \(\mathcal{C}\in\mathcal{C}_{i}(\mathbf{x})\), and some bidder \(k\in\mathcal{C}\). We first state the following inequality that bounds the welfare loss of bidder \(i\) caused by competitor \(k\in\mathcal{C}\) in the covering (we will prove this inequality later).

(9) \[\sum_{j\in\mathcal{B}_{i}(k;\mathbf{x})}\left(\mu(\ell_{i,j}^{\alpha})-\mu(\ell_{ i,j})\right)v_{i,j}\leq\frac{1-\beta}{\alpha_{i}-\beta}\sum_{j\in[M]}\mu(\ell_{i,j} )v_{i,j}\] (10)

Summing the above over all competitors \(k\in\mathcal{C}\), we have

(112) \[\operatorname{LOSS}_{i}(\mathbf{x}) =\sum_{j\in\mathcal{L}_{i}(\mathbf{x})}\left(\mu(\ell_{i,j}^{\alpha}) -\mu(\ell_{i,j})\right)v_{i,j}\stackrel{{(a)}}{{\leq}}\sum_{k\in \mathcal{C}_{j}}\sum_{k_{i}(k;\mathbf{b})}\left(\mu(\ell_{i,j}^{\alpha})-\mu(\ell_ {i,j})\right)v_{i,j}\] (120) \[\stackrel{{(b)}}{{\leq}}\frac{1-\beta}{\alpha_{i}- \beta}\sum_{k\in\mathcal{C}}\sum_{j\in[M]}\mu(\ell_{i,j})v_{k,j}=\frac{1-\beta }{\alpha_{i}-\beta}\sum_{k\in\mathcal{C}}W_{k}(\mathbf{x})\] (121) \[\leq\frac{1-\beta}{\alpha_{i}-\beta}W_{-1}(\mathbf{x})\] (122) \[\stackrel{{(c)}}{{\leq}}\frac{1-\beta}{\alpha_{i}- \beta}\left(\operatorname{OPT}_{-i}+\operatorname{LOSS}_{i}(\mathbf{x})\right)\] (123) \[\Longrightarrow\operatorname{LOSS}_{i}(\mathbf{x}) \leq\frac{1-\beta}{\alpha_{i}-1}\operatorname{OPT}_{-i}.\] (124)

Here, in (a) we used the fact that \(\mathcal{L}_{i}(\mathbf{x})\subseteq\bigcup_{k\in\mathcal{C}}\mathcal{B}_{i}(k;\bm {x})\) (see Eq. (8)); in (b) we applied Eq. (9); (c) follows from \(\operatorname{OPT}\geq\sum_{i\in[N]}W_{i}(\mathbf{x})\) where OPT is the total efficient welfare and \(\sum_{i\in[N]}W_{i}(\mathbf{x})\) is the total welfare under outcome \(\mathbf{x}\), so further

\[\operatorname{OPT}_{-i} \geq W_{-i}(\mathbf{x})+W_{i}(\mathbf{x})-\operatorname{OPT}_{i} \tag{126}\] \[=W_{-i}(\mathbf{x})+\sum_{j\in\mathcal{L}_{i}(\mathbf{x})}\left(W_{i,j}( \mathbf{x})-\operatorname{OPT}_{i,j}\right)+\sum_{j\in[M]/\mathcal{L}_{i}(\mathbf{x} )}\left(W_{i,j}(\mathbf{x})-\operatorname{OPT}_{i,j}\right)\] \[\stackrel{{(e)}}{{\geq}}W_{-i}(\mathbf{x})+\sum_{j\in \mathcal{L}_{i}(\mathbf{x})}\left(W_{i,j}(\mathbf{x})-\operatorname{OPT}_{i,j}\right)\] \[=W_{-i}(\mathbf{x})-\operatorname{LOSS}_{i}(\mathbf{x})\,. \tag{125}\]

where in (e) we used the fact that \(W_{i,j}(\mathbf{x})\geq\operatorname{OPT}_{i,j}\) in any auction \(j\in[M]/\mathcal{L}_{i}(\mathbf{x})\). Finally, applying Proposition C.1 w.r.t. upper bound of \(\operatorname{LOSS}_{i}(\mathbf{x})\), and noting that the feasible competing bid profile is arbitrary, we obtain the desired welfare guarantee lower bound.

Now, it remains to prove Eq. (9) that bounds the welfare loss of bidder \(i\) caused by competitor \(k\in\mathcal{C}\) in the covering. Denote \(p_{k,j}\) as the payment of bidder \(k\), and \(\hat{b}_{\ell,j}\) as the \(\ell\)th largest bid in any auction \(j\in[M]\). Then in some auction \(j\in\mathcal{B}_{i}(k;\mathbf{b})\) recall from Eqs. (7) and (8) that \(v_{k,j}<v_{i,j}\) but \(\ell_{k,j}\leq\ell_{i,j}^{\alpha}<\ell_{i,j}\). Thus bidder \(k\)'s payment is lower bounded as

\[\operatorname{For}\;j\in\mathcal{B}_{i}(k;\mathbf{b}),\quad p_{k,j} \stackrel{{(a)}}{{\geq}}\sum_{\ell=\hat{b}_{\ell,j}}^{L_{j}} \left(\mu(\ell)-\mu(\ell+1)\right)\hat{b}_{\ell+1,j} \tag{128}\] \[=\sum_{\ell=\hat{b}_{\ell,j}}^{\ell_{i}^{\alpha})-1}\left(\mu( \ell)-\mu(\ell+1)\right)\hat{b}_{\ell+1,j}+\sum_{\ell=\ell_{i,j}^{\alpha}}^{ \ell_{i,j}-1}\left(\mu(\ell)-\mu(\ell+1)\right)\hat{b}_{\ell+1,j}+p_{i,j}\] (129) \[\stackrel{{(b)}}{{\geq}}\left(\mu(\ell_{i,j})-\mu( \ell_{i,j}^{\alpha})\right)v_{i,j}+a_{i}\left(\mu(\ell_{i,j}^{\alpha})-\mu( \ell_{i,j})\right)v_{i,j}+\beta\cdot\mu(\ell_{i,j})v_{i,j}\] (130) \[=\mu(\ell_{i,j})v_{i,j}+\left(\alpha_{i}-1\right)\left(\mu(\ell_{i,j}^{\alpha})-\mu(\ell_{i,j})\right)v_{i,j}-(1-\beta)\cdot\mu(\ell_{i,j})v_{i,j }\,. \tag{127}\]

Here, (a) follows from the VCG payment rule (see Example B.2); (b) follows from the fact that bidder \(i\)'s ranking is \(\ell_{i,j}\), so any bidder who is ranked before position \(\ell_{i,j}\) submits a bid greater than bidder \(i\)'s bid \(b_{i,j}=\alpha_{i}a_{i,j}\), i.e. \(\hat{b}_{\ell,j}\geq b_{i,j}=\alpha_{i}p_{i,j}>v_{i,j}\) for any \(\ell\leq\ell_{i,j}\).

On the other hand, we have

(131) \[\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}p_{k,j}+\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}p _{k,j}\leq\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{k,j})v_{k,j}+\sum_{j\in \mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{k,j})v_{k,j}\] (131) \[p_{k,j}\geq\beta\cdot\mu(\ell_{k,j})v_{k,j}\quad\forall j\in[M],\] (132)where the first inequality follows from bidder \(k\)'s ROAS constraint; the second inequality follows from the fact that any winning bidder's payment must be greater than her \(\beta\)-approximate reserves. Combining the above inequalities and rearranging we get

\[\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}p_{k,j}\leq\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b })}\mu(\ell_{k,j})a_{k,j}+(1-\beta)\cdot\sum_{j\not\in\mathcal{B}_{i}(k;\mathbf{b })}\mu(\ell_{k,j})a_{k,j}\,, \tag{13}\]

Summing Eq.(12) over all \(j\in\mathcal{B}_{i}(k;\mathbf{b})\) and combining with Eq. (13), we get

\[(\alpha_{i}-1)\cdot\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\left(\mu( \ell_{i,j}^{*})-\mu(\ell_{i,j})\right)a_{i,j} \tag{14}\] \[\leq(1-\beta)\cdot\left(\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\mu( \ell_{i,j})a_{k,j}+\sum_{j\not\in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{k,j})a_{k,j}\right)+\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{k,j})\left(u_{k,j}-v _{i,j}\right)\] (15) \[\stackrel{{(a)}}{{\leq}}(1-\beta)\cdot\left(\sum_{j \in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{i,j})a_{k,j}+\sum_{j\not\in\mathcal{B}_{ i}(k;\mathbf{b})}\mu(\ell_{k,j})a_{k,j}+\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\mu( \ell_{k,j})\left(v_{k,j}-v_{i,j}\right)\right)\] (16) \[\stackrel{{(b)}}{{\leq}}(1-\beta)\cdot\left(\sum_{j \in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{i,j})a_{k,j}+\sum_{j\in[M]}\mu(\ell_{k,j })a_{k,j}-\sum_{j\in\mathcal{B}_{i}(k;\mathbf{b})}\mu(\ell_{i,j}^{*})a_{k,j}\right)\,. \tag{17}\]

In (a), we used the fact that \(\beta\in(0,1]\) and \(v_{k,j}-v_{i,j}<0\) for any \(k\in\mathcal{C}\subseteq\mathcal{C}_{i}(\mathbf{x})\); see definition of \(\mathcal{C}_{i}(\mathbf{x})\) in Eq. (8); and (b) follows from \(\ell_{i,j}\leq\ell_{i,j}^{*}\) for any \(k\in\mathcal{C}\subseteq\mathcal{C}_{i}(\mathbf{x})\). Rearranging terms we obtain the desired Eq. (9). 

### Applicability of the individual welfare guarantee when all bidders bid uniformly

We recognize that as the individual welfare lower bound in Theorem 4.1 monotonically increases in the bid multiplier \(\alpha_{i}\), it is tempting for bidder \(i\) to apply a very large multiplier \(\alpha_{i}\). Nevertheless, in this section we describe a potential tradeoff between large multipliers (i.e. better individual welfare guarantees in light of Theorem 4.1) and ROAS feasibility in the practical scenario where all bidders are autobidders and adopt uniform bidding.

To illustrate, we see that for large multiplier \(\alpha_{i}\), the set of competing bids \(\mathcal{F}_{-i}(\alpha_{i}\mathbf{v}_{i})\) may only include very small bid values (e.g. the bid profile where each competing bidder (under)bids some small \(\epsilon>0\) close to \(0\) in each auction), at which bidder \(i\) faces nearly no competition so that the ROAS constraint can be trivially satisfied for every bidder. In light of this discussion, we consider a more practical scenario where all competing bidders are also autobidders and adopt uniform bidding, or equivalently, a refinement of \(\mathcal{F}_{-i}(\alpha_{i}\mathbf{v}_{i})\) in which each competing bidder \(j\not=i\), similar to bidder \(i\), also adopts uniform bidding with bid multiplier \(\alpha_{j}\geq 1\). We define \(\mathcal{F}_{-i}^{u}(\mathbf{b}_{i})=\mathcal{F}_{-i}(\mathbf{b}_{i})\cap\{(\alpha_{j} \rho_{j})\not=i:\alpha_{j}\geq 1\}\) that represents the set of uniform competing bids for bidder \(i\) that ensure ROAS constraint satisfaction for every bidder. From Theorem 4.1, it is easy to see

\[\min_{\mathbf{b}_{-i}\in\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})}\frac{W_{i}(X( \mathbf{b}))}{\mathrm{OPT}_{1}}\stackrel{{(i)}}{{\geq}}1-\frac{1- \beta}{\alpha_{i}-1}\cdot\frac{\mathrm{OPT}_{-i}}{\mathrm{OPT}_{1}}\,, \tag{18}\]

where (i) follows from \(\min_{\mathbf{b}_{-i}\in\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})}\frac{W_{i}(X( \mathbf{b}))}{\mathrm{OPT}_{1}}\stackrel{{(i)}}{{\geq}}\min_{\mathbf{b}_ {-i}\in\mathcal{F}_{-i}(\alpha_{i}\mathbf{v}_{i})}\frac{W_{i}(X(\mathbf{b}))}{\mathrm{ OPT}_{1}}\) because \(\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})\subseteq\mathcal{F}_{-i}(\alpha_{i}\mathbf{v}_{i})\). Nevertheless, in light of Eq. (18), when all bidders bid uniformly, are excessively large \(\alpha_{i}\) may hold either \(i\) incur large payments that significantly exceed her values, resulting in non-existence of competing uniform bids \(\mathbf{b}_{-i}\) that can ensure satisfaction of every bidders' ROAS constraints, i.e. \(\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})\) being empty. In other words, there exists a tradeoff between large multipliers (i.e. better individual welfare guarantees) and ROAS feasibility when all bidders bid uniformly. The following Lemma C.2, along with a technical definition of "well-separated" values per Definition C.2, addresses this tradeoff by characterizing how large the multiplier \(\alpha_{i}\) can be set that still ensures the existence of uniform competing bids within \(\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})\).

**Definition C.2** (\(\Delta\)-separated values).: _We say values \(\mathbf{v}\in\mathbb{R}_{\geq 0}^{N\times M}\) are \(\Delta\)-separated for some \(\Delta>1\) if any value \(v_{i,j}\) is at least \(\Delta\) times as much as any value that is less than \(v_{i,j}\) in the same auction \(j\), i.e., \(\Delta\geq\Delta\cdot\max\{\alpha_{k,j}:k\in[N],v_{k,j}<v_{i,j}\}\) for any bidder \(i\) and auction \(j\).4_

Footnote 4: Definition C.2 also captures values which are “additively separated”. In particular, take some \(d>0\) such that \(d<\min\{v_{i,j}:v_{i,j}\not=0\}\) and also \(v_{i,j}-d\geq\max\{v_{k,j}:k\in[N],v_{k,j}<v_{i,j}\}\) for any bidder \(i\) and auction \(j\). Then, by taking \(\Delta\in\min_{\mathbf{b}_{-i}\in\mathcal{F}_{-i}(\alpha_{i}\mathbf{v}_{i})}\not=0\)\(\frac{W_{i}(X(\mathbf{b}))}{\mathrm{OPT}_{1}}\), the values are \(\Delta\)-separated according to Definition C.2 because \(\frac{1}{2}\ln_{i,j}\geq\alpha_{i}-d\geq\max\{v_{k,j}:k\in[N],v_{k,j}<v_{i,j}\}\) for all \(v_{k,j}\). This suggests Definition C.2 is quite general to capture value separation scenarios.

**Lemma C.2** (Valid regions for uniform bid multiplier).: _Let \((\mathcal{H}_{i})_{j\in[M]}\) be VCG auctions and assume bidders values are \(\Delta\)-separated (Definition C.2) in every auction for some \(\Delta>1\), then \(\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})\not=0\) for any \(\alpha_{i}\in[1,\Delta)\)._

Proof.: Recall there is \(\Delta\)-separation in values. Fix a bidder \(i\) and let \(\eta_{j}^{+}\) be the smallest competitor value that is strictly greater than \(v_{i,j}\) in any auction \(\mathcal{A}_{j}\) where bidder \(i\)'s value is not the largest, and by definition of \(\Delta\)-separated values we have \(\eta_{j}^{+}\geq\Delta v_{i,j}\). Hence, by using any multiplier \(\alpha_{i}\in[1,\Delta)\) and assuming competitors bid truthfully, the outcome of the auctions would be identical to that of everyone (including bidder \(i\)) bidding truthfully. And since truthful bidding is always feasible, we conclude that \(\mathbf{\sigma}_{-i}\in\mathcal{F}_{-i}^{u}(\alpha_{i}\mathbf{v}_{i})\) for \(\alpha_{i}\in[1,\Delta)\). 

[MISSING_PAGE_FAIL:14]

Bidder 1's multiplier is fixed to be \(\alpha_{1}>1\), and consider \(\sigma=\frac{1-\beta}{\alpha_{1}-1}\cdot\gamma\) for any \(\gamma>0\). The reserve prices are set to be \(r_{i,j}=\beta_{0,j}\). Then, we have_

\[\min_{\mathbf{\beta}\in\mathcal{F}}\frac{W_{1}(X(\mathbf{b}))}{\text{OPT}_{1}}\;=\;1- \frac{1-\beta}{\alpha_{1}-1}\cdot\frac{\text{OPT}_{-1}-\frac{1}{1-\beta}\cdot \epsilon}{\text{OPT}_{1}} \tag{15}\]

_Taking \(\epsilon\to 0\) shows that bidder 1's welfare is equal to the individual welfare guarantee in Theorem 4.1._

**Remark C.2**.: _We remark that as \(\epsilon\to 0\), \(\frac{\text{OPT}_{-i}}{\text{OPT}_{i}}=\frac{\frac{\alpha_{1}-\beta}{\alpha_{1 }-1}}{\beta+\sigma\sigma}\in\left[0,\frac{\alpha_{1}-1}{1-\beta}\right]\), so by varying \(y\in[0,\infty)\), the above example demonstrates our individual welfare lower bound in Theorem 4.1 is tight for any nontrivial market share ratio \(\frac{\text{OPT}_{1}}{\text{OPT}_{-i}}\in\left[\frac{\alpha_{1}-1}{1-\beta}, \infty\right)\)._

Proof.: Note that in any feasible outcome, bidder 1 must win auction 1, and bidder 2 must win auction 3. Hence for auction 2, we only need to consider the following outcome:

**Bidder 1 loses auction 2, and suffers welfare loss \(\sigma\).** This outcome can be achieved by setting \(\alpha_{2}\) such that \(\alpha_{2}(\sigma-\epsilon)>\alpha_{1}\upsilon\). Bidder 2 accumulates value \(\upsilon+\gamma+\left(\frac{1}{1-\beta}-1\right)\epsilon\). Her payment for auction 2 is \(\max\{\alpha_{1}\upsilon,\beta(\sigma-\epsilon)\}\), and for auction 3 is \(\beta\left(\gamma+\frac{1}{1-\beta}\cdot\epsilon\right)\). The following shows that her ROAS constraint is satisfied:

\[\sigma+\gamma+\left(\frac{1}{1-\beta}-1\right)\epsilon-\max\{ \alpha_{1}\upsilon,\beta(\sigma-\epsilon)\}-\beta\left(\gamma+\frac{1}{1-\beta }\cdot\epsilon\right) \tag{160}\] \[\stackrel{{(a)}}{{=}}\sigma+\gamma+\left(\frac{1}{1- \beta}-1\right)\epsilon-\alpha_{1}\upsilon-\beta\left(\gamma+\frac{1}{1-\beta} \cdot\epsilon\right)\] (161) \[=(1-\alpha_{1})\upsilon+(1-\beta)\gamma+\left(\frac{1}{1-\beta}- 1-\beta\cdot\frac{1}{1-\beta}\right)\epsilon\] (162) \[=0, \tag{163}\]

where in (a) we used the fact \(\beta\leq 1<\alpha_{1}\) and \(\epsilon\to 0\). In the final equality we used the definition that \(\upsilon=\frac{1-\beta}{\alpha_{1}-1}\cdot\gamma\). On the other hand, bidder 1's ROAS constraint is apparently satisfied.

Under this outcome, denoting bidder 1's welfare as \(W_{1}\) we have

\[\frac{W_{1}}{\text{OPT}_{1}}=1-\frac{\upsilon}{\text{OPT}_{1}}=1-\frac{1-\beta }{\alpha_{1}-1}\cdot\frac{\gamma}{\text{OPT}_{1}}=1-\frac{1-\beta}{\alpha_{1} -1}\cdot\frac{\text{OPT}_{-i}-\frac{1}{\beta}\cdot\epsilon}{\text{OPT}_{i}} \tag{164}\]

### Proof of Proposition C.1

Proof.: For simplicity, denote \(\delta_{i,j}=\text{OPT}_{i,j}-W_{i,l}(\mathbf{x})\). Then, \(\text{OPT}_{i}-W_{i}(\mathbf{x})=\sum_{j\in[M]:\delta_{i,j}\geq 0}\delta_{i,j}+ \sum_{j\in[M]:\delta_{i,j}=0}\delta_{i,j}+\sum_{j\in[M]:\delta_{i,j}<0}\delta _{i,j}=\text{loss}_{i}(\mathbf{x})+\sum_{j\in[M]:W_{i,j}(x)>0}\text{OPT}_{i,j}\) (\(\text{OPT}_{i,j}-W_{i,j}(\mathbf{x})\leq B\). Rearranging and dividing both sides by \(\text{OPT}_{i}\) we get \(\frac{W_{i}(\mathbf{x})}{\text{OPT}_{i}}=1-\frac{\beta}{\text{OPT}_{1}}\).

Here we remark that it is possible to have \(W_{i,j}(\mathbf{x})>\text{OPT}_{i,j}\) because bidders may overbid, and therefore win auctions/slots that they would not have won under the efficient outcome. 

### Proof of Theorem 4.3

Proof.: Let \(\mathbf{b}\in\mathcal{F}\) be any feasible bid profile, and let \(\mathbf{x}=X(\mathbf{b})\) be the corresponding outcome. Also, let \(\mathcal{C}_{i}(\mathbf{b})\) be the set of coverings defined in Eq. (8), and consider any \(\mathcal{C}\in\mathcal{C}_{i}(\mathbf{x})\). Note that any competitor \(k\in\mathcal{C}\) must have \(\mathcal{B}_{i}(k)\neq\emptyset\).

In Eq. (10) within the proof of Theorem 4.1, we showed \(\text{loss}_{i}(\mathbf{x})\;\leq\;\frac{1-\beta}{\alpha_{i}-1}\sum_{k\in\mathcal{C }}W_{k}(\mathbf{x})\), so

\[\text{loss}_{i}(\mathbf{x}) \;\leq\;\frac{1-\beta}{\alpha_{i}-1}\sum_{k\in\mathcal{C}}W_{k}( \mathbf{x})\;\stackrel{{(a)}}{{\leq}}\;\frac{1-\beta}{\alpha_{i}-1} \sum_{k\in[N/\{i\}:\mathcal{B}_{i}(k)\neq\emptyset}W_{k}(\mathbf{x}) \tag{167}\] \[\leq\frac{1-\beta}{\alpha_{i}-1}\sum_{k\in[N/\{i\}:\mathcal{B}_{ i}(k)\neq\emptyset}\text{OPT}_{k}\,, \tag{168}\]

Rearranging and applying Proposition C.1 yields the desired lower bound. 

## Appendix D Additional Materials for Section 5

### Additional Definitions and Lemmas for Section 5

The following lemma shows that for anonymous and truthful auctions, the probability of the lowest bidder winning a single auction is capped by a bound that decreases as the number of bidders grow.

**Lemma D.1** (Lemma 3 in (Doran and Ruffani, 2017)).: _In an anonymous and truthful auction for a single item with \(N\) bidders, the bidder who submits the lowest bid wins the item with probability at most \(\frac{1}{N}\)._The following technical definition and lemma (i.e. Definition D.1 and Lemma D.2) concerns the scenario where only one bidder participates in the auction (others bid 0), and present an upper bound on the probability and cost respectively for the single bidder to win the auction.

**Definition D.1** (Single bidder purchase probability and bid threshold).: _For any allocation-anonymous and truthful auction \(\mathcal{A}\), consider the setting with a single bidder who submits bid \(b>0\) and define_

\[\pi_{\mathcal{A}}=\lim_{b\rightarrow\infty}\mathbb{P}(\text{bidder wins item with bid }b)\,, \tag{16}\]

_where the limit exists because in a truthful auction, \(\mathbb{P}(\text{bidder wins item with bid }b)\) increases in \(b\) (see Definition 2.1 for truthful auctions). Assume this max probability is reached at some bid threshold \(Q_{\mathcal{A}}\), i.e._

\[Q_{\mathcal{A}}=\min\left\{b>0:\mathbb{P}(\text{bidder wins item with bid }b)=\pi_{\mathcal{A}}\right\}\,. \tag{17}\]

Note that in a deterministic single-slot auction that allocates to the highest bidder, \(\pi_{\mathcal{A}}=1\), and \(Q_{\mathcal{A}}\to 0\). For example, in an SPA with no reserve, the single bidder can win the auction with any arbitrarily small positive bid with probability \(1\).

**Lemma D.2** (Lemma 4 in [37]).: _For any allocation-anonymous and truthful auction \(\mathcal{A}\) with single-bidder purchase probability \(\pi_{\mathcal{A}}\) and bid threshold \(Q_{\mathcal{A}}\), the expected cost for a single bidder for winning the item is at most \(\pi_{\mathcal{A}}\cdot Q_{\mathcal{A}}\)._

### Proof of Theorem 5.1

**Theorem D.3** (Restatement of Theorem 5.1).: _For any auction \(\mathcal{A}\) that is allocation-anonymous, truthful, and possibly randomized, 5 consider an autobidding problem instance w.r.t. \(\mathcal{A}\) with \(M=2K+1\) auctions and \(N=K+1\) bidders. Fix bidder 0's bid multiplier to be \(\alpha_{0}\) and some \(\beta\in[0,1)\). Consider the bidder values \(\{u_{i,j}\}_{i\in[N],j\in[M]}\) given in the following table._

Footnote 5: Here, we assume all auctions of interest are individually rational (\(\mathbb{R}\)), i.e. the payment of a bidder is always less than her submitted bid.

\[\begin{array}{|c|cccccccc|}\hline&A_{1}&A_{2}&\ldots&A_{K}&A_{K+1}&A_{K+2}& \ldots&A_{2K}&A_{2K+1}\\ \hline\hline B_{1}&\frac{\alpha_{0}\pi_{\mathcal{A}}}{\rho}&\frac{\alpha_{0} \pi_{\mathcal{A}}}{\rho}&\ldots&\frac{\alpha_{0}\pi_{\mathcal{A}}}{\rho}& \gamma&0&\ldots&0&0\\ \hline B_{2}&\frac{\alpha_{0}\pi_{\mathcal{A}}+2\epsilon}{\rho}&\frac{\alpha_{ 0}\pi_{\mathcal{A}}+3\epsilon}{\rho}&\ldots&\frac{\alpha_{0}\pi_{\mathcal{A}} }{\rho}&0&\gamma&\ldots&0&0\\ \hline\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots&\vdots\\ \hline B_{K}&\frac{\alpha_{0}\pi_{\mathcal{A}}K}{\rho}&\frac{\alpha_{0}\pi_{ \mathcal{A}}}{\rho}&\ldots&\frac{\alpha_{0}\pi_{\mathcal{A}}(K-1)\epsilon}{ \rho}&0&0&\ldots&\gamma&0\\ \hline B_{0}&\upsilon&\upsilon&\ldots&\upsilon&0&0&\ldots&0&y\\ \hline\end{array} \tag{18}\]

_In the table, we let \(\gamma>\frac{Q_{\mathcal{A}}}{\beta}>Q_{\mathcal{A}}\), \(\epsilon=O(1/K^{3})\) and \(\upsilon=\frac{1-\beta}{\alpha_{0}-1}\cdot\pi_{\mathcal{A}}\cdot\gamma\). Let \(\rho,y\) and a large enough \(K\) satisfy the following:_

\[\alpha_{0}<\rho<\frac{\alpha_{0}}{\beta}\leq\epsilon.t.\frac{\alpha_{0}\rho+ K\epsilon}{\rho}<\upsilon,\quad\text{ and }y>\max\left\{\frac{Q_{\mathcal{A}}}{\alpha_{0}},\frac{\alpha_{0}\rho}{\pi_{\mathcal{A}} \rho}\right\}\,, \tag{19}\]

_where \(Q_{\mathcal{A}}\), \(\pi_{\mathcal{A}}\) are defined in Definition D.1. Further, suppose the platform enforces personalized reference prices \(\boldsymbol{r}\in\mathbb{R}_{+}^{N\times M}\) on top of auction \(\mathcal{A}\), where \(r_{i,j}=\beta\nu_{i,j}\). Then, letting the (possibly random) outcome be \(\boldsymbol{x}\) when bidders \(l,...K\) all adopt the bid multiplier \(\rho\), the ROAS constraints for all bidders are satisfied when \(K\rightarrow\infty\) and \(\rho\to\alpha_{0}\), and for bidder \(0\) we have_

\[\lim_{K\rightarrow\infty}\frac{\mathbb{E}_{\mathcal{A}}\left[W_{0}(\boldsymbol {x})\right]}{\mathbb{E}_{\mathcal{A}}\left[OPT_{0}\right]}\leq 1-\frac{1-\beta}{ \alpha_{0}-1}\cdot\lim_{K\rightarrow\infty}\frac{\mathbb{E}_{\mathcal{A}} \left[OPT_{-0}\right]}{\mathbb{E}_{\mathcal{A}}\left[OPT_{0}\right]} \tag{20}\]

_where \(\mathbb{E}_{\mathcal{A}}\) is taken w.r.t. the randomness in outcome \(\boldsymbol{x}\) due to randomness in the auction \(\mathcal{A}\)._Proof.: First note that bidder 0 only has competition in auctions \(A_{1}...A_{K}\), and hence can only incur a loss (that contributes to \(\textsc{loss}_{0}(\mathbf{x})\) defined in Equations (6)) within these auctions. Hence \(\mathbb{E}_{\mathcal{A}}[\log_{0}(\mathbf{x})]=\rho\sum_{j\in[K]}\mathbb{P}(\text{ bidder 0 loses auction }j)\). Then we consider the following:

\[\mathbb{E}_{\mathcal{A}}[\log_{0}(\mathbf{x})] =\rho\sum_{j\in[K]}\mathbb{P}(\text{bidder 0 loses auction }j)\,=\,\rho\sum_{j\in[K]}\left(1-\mathbb{P}(\text{ bidder 0 wins auction }j)\right) \tag{20}\] \[\stackrel{{(a)}}{{\geq}}\,\rho\cdot\frac{K^{2}}{K+1} =\frac{1-\beta}{\alpha_{0}-1}\cdot\gamma\cdot\pi_{\mathcal{A}}\cdot\frac{K^{2}}{K+1} \stackrel{{(b)}}{{=}}\frac{1-\beta}{\alpha_{0}-1}\cdot\mathbb{E}_{ \mathcal{A}}\left[\text{OPT}_{-0}\right]\cdot\frac{K}{K+1}\,. \tag{21}\]

Here (a) holds because bidder 0 bids \(\alpha_{0}\) for any auction in 1,2...K, which is strictly less than all other bidders' bids as they all adopt multipliers \(\rho\) in these auctions, so from Lemma D.1, we have \(\mathbb{P}(\text{bidder 0 wins auction }j)\leq\frac{1}{K+1}\); in (b) we used the fact that \(\mathbb{E}_{\mathcal{A}}\left[\text{OPT}_{-0}\right]=\sum_{j=K+1}^{2K}\mathbb{ E}_{\mathcal{A}}\left[\gamma\right]=\gamma\cdot K\cdot\pi_{\mathcal{A}}\) since there is only a single non-zero bidder in auctions \(A_{K+1}\ldots A_{2K}\) and each bidder submits a bid \(\rho\gamma>\rho>Q_{\mathcal{A}}\) (see Definition D.1).

Therefore we have

\[\lim_{K\rightarrow\infty}\frac{\mathbb{E}_{\mathcal{A}}\left[W_{0}(\mathbf{x}) \right]}{\mathbb{E}_{\mathcal{A}}\left[\text{OPT}_{0}\right]}\stackrel{{(a)}}{{=}}1-\lim_{K\rightarrow\infty}\frac{\mathbb{E}_{\mathcal{A}}\left[\text{Loss}_{0}(\mathbf{x})\right]}{\mathbb{E}_{\mathcal{A}}\left[\text{OPT}_{0}\right]}\leq 1-\frac{1-\beta}{\alpha_{0}-1}\lim_{K\rightarrow\infty}\frac{\mathbb{E}_{ \mathcal{A}}\left[\text{OPT}_{-0}\right]}{\mathbb{E}_{\mathcal{A}}\left[\text{OPT}_{0}\right]}\,, \tag{22}\]

where (a) follows from the fact that in our constructed autobidding instance, bidder 0's acquired value in each auction cannot exceed that under the efficient allocation, and hence can only incur loss in welfare.

Now it only remains to show that the multiplies \((\alpha_{0},\rho,\ldots\rho)\in(1,\infty)^{K+1}\) yields a feasible outcome, i.e. the ROI constraints of each bidder is satisfied in expectation. Let \(V_{i,j}\) and \(C_{i,j}\) be the expected value and cost of bidder \(i\) in auction \(A_{j}\), respectively.

**1. Showing bidder 0's ROI constraint is satisfied**. We show by the following: bidder 0 only incurs a non-zero expected cost in auctions \(A_{1}\ldots A_{K}\) and \(A_{2K+1}\), and we will show that the expected value \(V_{0,2K+1}\) is lower bounded by the expected costs \(C_{0,2K+1}+\sum_{j\in[K]}C_{0,j}\).

Since \(\alpha_{0}>Q_{\mathcal{A}}\), the definition of the single-bidder purchasing probability in Definition D.1 implies that bidder 0 acquires an expected value from auction \(A_{2K+1}\) of \(V_{0,2K+1}=\pi_{\mathcal{A}}y\), either, since bidder 0 is submits the lowest bids in auctions \(A_{1}\ldots A_{K}\) under bid multiplier profile \((\alpha_{0},\rho\ldots\rho)\in(0,\infty)^{K+1}\), from Lemma D.1, we have \(\mathbb{P}(\text{bidder 0 wins auction }j)\leq\frac{1}{K+1}\) for all \(j\in[K]\). Since the payment of a bidder in an auction is at most her submitted bid (as the auction is IR), we know that \(\sum_{j\in[K]}C_{0,j}\leq K\cdot\frac{\alpha_{0}\rho}{K+1}<\pi_{\mathcal{A}}y=\nu_{0,2K+1}\), where the inequality follows from the definition of \(y\) in Equation (18) such that \(y>\max\left\{\frac{Q_{\mathcal{A}}}{2\alpha_{0}},\frac{\alpha_{0}\rho}{K+1}\right\}\). This implies bidder 0's ROI constraint is satisfied.

**2. Showing bidder \(i\)'s ROI constraint is satisfied for any \(i=1,2,...K\).** We show this by considering the following: bidder \(i\) only incurs a non-zero expected cost in auctions \(A_{1}\ldots A_{K}\) and \(A_{K+i}\), and we will show that the expected values \(V_{i,K+i}+\sum_{k\in[K]}V_{i,j}\) is lower bounded by the expected costs \(C_{i,K+i}+\sum_{j\in[K]}C_{i,j}\).

* **Calculate cost \(C_{i,K+i}\):** For auction \(A_{K+i}\), bidder \(i\)'s bid is \(\rho\gamma>\gamma>Q_{\mathcal{A}}\) from the definition of \(\gamma\), so by Definition D.1, the probability of \(i\) winning the item in auction \(A_{K+i}\) is \(\pi_{\mathcal{A}}\), and the expected cost is \(\pi_{\mathcal{A}}\).

\[C_{i,K+i}\leq\pi_{\mathcal{A}}\cdot\max\left\{r_{i,K+i},Q_{\mathcal{A}}\right\} \leq\pi_{\mathcal{A}}\cdot\beta\gamma\,, \tag{23}\]

where the final inequality follows from the definition \(r_{i,K+i}=\beta\gamma\)

* **Upper bound costs \(\sum_{j\in[K]}C_{i,j}\):** For auctions \([K]=1\ldots K\), bidder \(i\)'s total expected cost can be bounded as \[\sum_{j\in[K]}C_{i,j} \leq\rho\sum_{j\in[K]}\varepsilon_{ij}\varepsilon_{ij}\mathbb{P} \left(\text{bidder }i\text{ wins auction }A_{j}\right)\] (24) \[=\alpha_{0}\rho\sum_{j\in[K]}\mathbb{P}\left(\text{bidder }i\text{ wins auction }A_{j}\right)+\frac{(K+1)K}{2}\varepsilon\,.\] (25)

where the first inequality follows from a bidder's payment is at most her submitted bid since the auction is IR.

* **Calculate \(V_{i,K+i}\):** Considering auction \(A_{K+i}\), bidder \(i\) is the only bidder, and since \(\rho\gamma>\gamma>Q_{\mathcal{A}}\), the definition of the single-bidder purchasing probability in Definition D.1 implies that bidder \(i\)'s acquires an expected value from this auction of \[V_{i,K+i}=\pi_{\mathcal{A}}\cdot\gamma\,.\] (26)
* **Lower bound \(\sum_{k\in[K]}V_{i,j}\):** \[\sum_{k\in[K]}V_{i,j}\geq\frac{\alpha_{0}\rho}{\rho}\sum_{j\in[K]}\mathbb{P} \left(\text{bidder }i\text{ wins auction }j\right)\,.\] (27)Combining Equations (22),(23),(24) and (25), we get

\[\sum_{j\in[K]}V_{i,j}+V_{i,K+i}-\left(\sum_{j\in[K]}C_{i,j}+C_{i,K+i}\right)\] \[\geq\pi_{\mathcal{A}}\cdot\gamma+\frac{a_{0}\epsilon}{\rho}\cdot \sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $j$}\right)\] \[\qquad\quad-\left(\pi_{\mathcal{A}}\cdot\beta_{\mathcal{V}}+a_{0} \circ\cdot\sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $j$}\right)+\frac{(K+1)K}{2}\epsilon\right)\] \[=\pi_{\mathcal{A}}\cdot(1-\beta_{\mathcal{V}})\gamma-\left(a_{0}- \frac{a_{0}}{\rho}\right)\circ\cdot\sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $j$}\right)-\frac{(K+1)K}{2}\epsilon\] \[\stackrel{{(a)}}{{=}}(a_{0}-1)v-\left(a_{0}-\frac{a_ {0}}{\rho}\right)v\cdot\sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $j$}\right)-\frac{(K+1)K}{2}\epsilon\] \[\stackrel{{(b)}}{{\geq}}(a_{0}-1)v-\left(a_{0}-\frac {a_{0}}{\rho}\right)v-\frac{(K+1)K}{2}\epsilon \tag{26}\]

where (a) follows from the definition \(v=\frac{1-\beta}{a_{0}-1}\cdot\pi_{\mathcal{A}}\cdot\gamma\cdot p\). In (b) we used the fact that \(\rho>a_{0}>1\) and \(\sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $A_{j}$}\right)\leq 1\) due to the following: Consider the set of bid values \(\mathcal{B}=\{a_{0},a_{0}+e,a_{0}+2e\ldots a_{0}+Ke\}\subseteq\mathbb{R}_{>0}\), and we recognize that any bid value \(b_{k}\in\mathcal{B}\) exceeds the maximim reserve price \(\rho_{0}\) in auctions \(A_{1}...A_{K}\). Therefore the constructed reserve prices do not affect allocation, and hence by anonymity of auction \(\mathcal{A}\) there exists probabilities \(\boldsymbol{q}(\mathcal{B})=(q_{0}(\mathcal{B}),q_{1}(\mathcal{B})\ldots q_{K }(\mathcal{B}))\in[0,1]^{K+1}\) where

\[q_{k}(\mathcal{B})=\mathbb{P}(\text{bid value $b_{k}$ wins auction $\mathcal{A}$ given competing bids $b_{-k}$})\quad\text{ and }\sum_{k=0}^{K}q_{k}(\mathcal{B})\leq 1.\]

We recognize that in each auction \(A_{1}\ldots A_{K}\), under bid multipliers \((a_{0},\rho,\ldots,\rho)\in(1,\infty)^{K+1}\) the submitted bid profile is a cyclic permutation of \(\mathcal{B}\). Therefore we know that

\[\sum_{j\in[K]}\mathbb{P}\left(\text{bidder $i$ wins auction $j$}\right)=\sum_{k=1}^{K}q_{k}(\mathcal{B})\leq 1-q_{0}(\mathcal{B})\leq 1\]

Finally, by taking \(\rho\to a_{0}\) and \(K\to\infty\) in Equation (26), and utilizing \(\epsilon=O(1/K^{3})\) we have

\[\lim_{\rho\to a_{0}}\lim_{K\to\infty}\sum_{j\in[K]}V_{i,j}+V_{i,K+i}-\left(\sum_{j\in[K]}C_{i,j}+C_{i,K+i}\right)\geq \ 0\.\]

This shows that bidder \(i\)'s ROI constraint is satisfied. 

## Appendix E Proofs for Section 6

### Proof of Theorem 6.2

Proof.: For convenience, define \(\delta=2-\frac{1}{4}\), so \(\Delta>1\) implies \(\delta\in(1,2)\), and further \(1>\beta>\frac{\Delta}{2\Delta-1}\) implies \(\frac{1}{4}<\beta<1\).

Fix a bidder \(i\in[K]\) and any feasible competing bid profile \(\boldsymbol{b}\in\mathcal{U}\). Denote the corresponding outcome as \(\boldsymbol{x}=X(\boldsymbol{b})\), where \(\boldsymbol{x}=(x_{1}...x_{M})\) where \(\boldsymbol{x}_{j}\in\{0,1\}^{N\times L_{j}}\) is the outcome vector in auction \(\mathcal{A}_{j}\). Note that by definition of \(\mathcal{U}\) which is the set of undominated and feasible bids, under the outcome \(\boldsymbol{x}\) all bidders' ROAS constraints are satisfied. Denote \(\ell_{k,j}\), \(\ell^{*}_{k,j}\) to be the position of bidder \(k\in[N]\) in auction \(j\in[M]\) under outcome \(\boldsymbol{x}\) and the efficient outcome, respectively.

Recall in Eq.(8) the definition for the set of all "coverings" for bidder \(i\), denoted as \(C_{i}(\boldsymbol{x})\):

\[\mathcal{B}_{i}(k;\boldsymbol{x})=\left\{j\in[M]:\text{OPT}_{i,j}>0,\;\;\text{ \emph{v}}_{k,j}<\text{\emph{v}}_{i,j}\text{ and }\ell_{k,j}\leq\ell^{*}_{i,j}\right\}\]

\[C_{i}(\boldsymbol{x})=\left\{C\subseteq[N]/\{i\}:(\mathcal{B}_{i}(k; \boldsymbol{x}))_{k\in\mathcal{C}}\text{ is a maximal set cover of }\mathcal{L}_{i}(\boldsymbol{x})\right\}\]

where \(\mathcal{L}_{i}(\boldsymbol{x})=\{j\in[M]:W_{i,j}(\boldsymbol{x})<\text{OPT}_{i,j}\}\) is the set of auctions in which bidder \(i\)'s acquired welfare is less than that of her welfare under the efficient outcome; see Definition C.1.

Denote \(p_{k,j}\) as the payment of any bidder \(k\), and \(\hat{b}_{\ell,j}\) as the \(\ell\)th largest bid in any auction \(j\in[M]\). Similar to the proof of Theorem 4.1, fix any covering \(C\subseteq C_{i}(\boldsymbol{x})\), and any bidder \(k\in\mathcal{C}\), such that in some auction \(j\in\mathcal{B}_{i}(k;\boldsymbol{x})\), we have \(\text{\emph{v}}_{k,j}<\text{\emph{v}}_{i,j}\text{ but }\ell_{k,j}\leq\ell^{*}_{i,j}<\text{\emph{v}}_{i,j}\). Thus

[MISSING_PAGE_EMPTY:19]

[MISSING_PAGE_EMPTY:20]

[MISSING_PAGE_FAIL:21]